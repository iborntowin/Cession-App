import{h as n,w as s,j as c}from"./singletons.fbc31b03.js";const r=s(null),t=s(null),i=s(!1),a=s({show:!1,message:"",type:"info"});{const e=localStorage.getItem("token"),o=localStorage.getItem("user");if(e&&r.set(e),o)try{const l=JSON.parse(o);t.set(l)}catch{localStorage.removeItem("user")}}n([r,t],([e,o])=>({isAuthenticated:!!e,token:e,user:o}));r.subscribe(e=>{if(e)try{localStorage.setItem("token",e)}catch{}else try{localStorage.removeItem("token")}catch{}}),t.subscribe(e=>{if(e)try{localStorage.setItem("user",JSON.stringify(e))}catch{}else try{localStorage.removeItem("user")}catch{}});const S=(e,o="info")=>{a.set({show:!0,message:e,type:o}),setTimeout(()=>{a.set({show:!1,message:"",type:"info"})},5e3)},m=()=>{try{localStorage.removeItem("token"),localStorage.removeItem("user")}catch{}r.set(null),t.set(null)},u=(e,o)=>{try{e&&localStorage.setItem("token",e),o&&localStorage.setItem("user",JSON.stringify(o))}catch{}r.set(e),t.set(o)},h=c("goto");export{a,u as b,m as c,h as g,i as l,S as s,r as t,t as u};
