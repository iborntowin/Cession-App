import{a as j}from"./index.d2ed93bc.js";import{H as q}from"./scheduler.55755e91.js";function C(n){return n?.length!==void 0?n:Array.from(n)}function D(n,h){n.d(1),h.delete(n.key)}function E(n,h,M,v,S,_,f,x,m,A,o,H){let i=n.length,c=_.length,a=i;const w={};for(;a--;)w[n[a].key]=a;const l=[],r=new Map,u=new Map,g=[];for(a=c;a--;){const e=H(S,_,a),t=M(e);let s=f.get(t);s?v&&g.push(()=>s.p(e,h)):(s=A(t,e),s.c()),r.set(t,l[a]=s),t in w&&u.set(t,Math.abs(a-w[t]))}const p=new Set,k=new Set;function y(e){j(e,1),e.m(x,o),f.set(e.key,e),o=e.first,c--}for(;i&&c;){const e=l[c-1],t=n[i-1],s=e.key,d=t.key;e===t?(o=e.first,i--,c--):r.has(d)?!f.has(s)||p.has(s)?y(e):k.has(d)?i--:u.get(s)>u.get(d)?(k.add(s),y(e)):(p.add(d),i--):(m(t,f),i--)}for(;i--;){const e=n[i];r.has(e.key)||m(e,f)}for(;c;)y(l[c-1]);return q(g),l}export{D as d,C as e,E as u};
