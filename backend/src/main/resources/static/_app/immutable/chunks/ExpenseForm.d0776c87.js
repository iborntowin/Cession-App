import{s as il,f as _,g as p,h,d as c,j as o,k as ye,i as C,w as u,u as nt,U as sl,r as ol,R as rl,a as B,l as S,y as Me,c as A,m as j,K as it,z as pe,Q as al,n as Y,L as Pe,x as je,e as Te,F as Ie,G as De,N as Re,H as nl,I as tt}from"./scheduler.fb6ad399.js";import{S as ul,i as cl,g as Fe,t as Ne,c as qe,a as _e,f as we}from"./index.19f0e15d.js";import{e as ae}from"./each.eb6105d2.js";import{h as fl}from"./api.b4688d57.js";import{s as et,u as dl}from"./navigation.68a3d764.js";import{d as st,b as Ze,s as Ae,f as Qe}from"./index.548ee1c0.js";import{t as hl}from"./index.92f608cc.js";import{l as _l}from"./language.610d3d52.js";function ot(i,e,n){const t=i.slice();t[49]=e[n],t[52]=n;const l=t[52]+1;return t[50]=l,t}function at(i,e,n){const t=i.slice();return t[53]=e[n],t}function ut(i,e,n){const t=i.slice();return t[56]=e[n],t}function ct(i,e,n){const t=i.slice();return t[56]=e[n],t}function ft(i,e,n){const t=i.slice();return t[56]=e[n],t}function dt(i,e,n){const t=i.slice();return t[56]=e[n],t}function ht(i,e,n){const t=i.slice();return t[56]=e[n],t}function _t(i,e,n){const t=i.slice();return t[56]=e[n],t}function pt(i,e,n){const t=i.slice();return t[56]=e[n],t}function vt(i,e,n){const t=i.slice();return t[56]=e[n],t}function mt(i,e,n){const t=i.slice();return t[56]=e[n],t}function bt(i,e,n){const t=i.slice();return t[56]=e[n],t}function gt(i,e,n){const t=i.slice();return t[56]=e[n],t}function kt(i,e,n){const t=i.slice();return t[79]=e[n],t}function yt(i,e,n){const t=i.slice();return t[79]=e[n],t}function wt(i,e,n){const t=i.slice();t[49]=e[n],t[52]=n;const l=t[52]+1;t[50]=l;const s=t[5]===t[50];t[84]=s;const r=t[5]>t[50];return t[85]=r,t}function pl(i){let e,n,t,l,s='<svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path></svg>',r,a,d,f=i[13]("finance.expense.add_title")+"",g,b,w,I=i[13]("finance.expense.add_subtitle")+"",x,L,T,v,O,D,U,Q,te,M,H,W,ue,ne,me,$,ce,be,re,ge,Ve,Ce=ae(Array(He)),ie=[];for(let k=0;k<Ce.length;k+=1)ie[k]=Et(wt(i,Ce,k));let Z=i[4]&&xt(i),K=i[5]===1&&Tt(i),ee=i[5]===2&&Kt(i),J=i[5]===3&&el(i);function Ee(k,N){return k[5]>1?Ul:Ol}let xe=Ee(i),fe=xe(i);function ke(k,N){return k[5]<He?Rl:Hl}let de=ke(i),se=de(i),G=ae(Array(He)),q=[];for(let k=0;k<G.length;k+=1)q[k]=ll(ot(i,G,k));return{c(){e=_("div"),n=_("div"),t=_("div"),l=_("div"),l.innerHTML=s,r=B(),a=_("div"),d=_("h2"),g=S(f),b=B(),w=_("p"),x=S(I),L=B(),T=_("div"),v=S(i[5]),O=S("/"),D=S(He),U=B(),Q=_("div"),te=_("div");for(let k=0;k<ie.length;k+=1)ie[k].c();M=B(),Z&&Z.c(),H=B(),W=_("form"),K&&K.c(),ue=B(),ee&&ee.c(),ne=B(),J&&J.c(),me=B(),$=_("div"),fe.c(),ce=B(),se.c(),be=B(),re=_("div");for(let k=0;k<q.length;k+=1)q[k].c();this.h()},l(k){e=p(k,"DIV",{class:!0});var N=h(e);n=p(N,"DIV",{class:!0});var m=h(n);t=p(m,"DIV",{class:!0});var z=h(t);l=p(z,"DIV",{class:!0,"data-svelte-h":!0}),Me(l)!=="svelte-3v4h8i"&&(l.innerHTML=s),r=A(z),a=p(z,"DIV",{});var ve=h(a);d=p(ve,"H2",{class:!0,style:!0});var he=h(d);g=j(he,f),he.forEach(c),b=A(ve),w=p(ve,"P",{class:!0,style:!0});var oe=h(w);x=j(oe,I),oe.forEach(c),ve.forEach(c),z.forEach(c),L=A(m),T=p(m,"DIV",{class:!0});var R=h(T);v=j(R,i[5]),O=j(R,"/"),D=j(R,He),R.forEach(c),m.forEach(c),N.forEach(c),U=A(k),Q=p(k,"DIV",{class:!0});var y=h(Q);te=p(y,"DIV",{class:!0});var E=h(te);for(let F=0;F<ie.length;F+=1)ie[F].l(E);E.forEach(c),y.forEach(c),M=A(k),Z&&Z.l(k),H=A(k),W=p(k,"FORM",{id:!0,class:!0});var V=h(W);K&&K.l(V),ue=A(V),ee&&ee.l(V),ne=A(V),J&&J.l(V),me=A(V),$=p(V,"DIV",{class:!0});var le=h($);fe.l(le),ce=A(le),se.l(le),le.forEach(c),be=A(V),re=p(V,"DIV",{class:!0});var P=h(re);for(let F=0;F<q.length;F+=1)q[F].l(P);P.forEach(c),V.forEach(c),this.h()},h(){o(l,"class","w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center"),o(d,"class","text-xl font-bold text-white"),ye(d,"text-align",i[11]),o(w,"class","text-red-100 text-sm"),ye(w,"text-align",i[11]),o(t,"class","flex items-center space-x-3"),it(t,"space-x-reverse",i[2]),o(T,"class","text-white/80 text-sm font-medium"),o(n,"class","flex items-center justify-between"),o(e,"class","bg-gradient-to-r from-red-500 to-pink-500 px-6 py-4"),o(te,"class","flex items-center justify-between"),o(Q,"class","px-6 py-4 bg-gray-50/50"),o($,"class","flex justify-between items-center mt-8 pt-6 border-t border-gray-100"),o(re,"class","flex justify-center mt-6"),o(W,"id","expense-form"),o(W,"class","p-6")},m(k,N){C(k,e,N),u(e,n),u(n,t),u(t,l),u(t,r),u(t,a),u(a,d),u(d,g),u(a,b),u(a,w),u(w,x),u(n,L),u(n,T),u(T,v),u(T,O),u(T,D),C(k,U,N),C(k,Q,N),u(Q,te);for(let m=0;m<ie.length;m+=1)ie[m]&&ie[m].m(te,null);C(k,M,N),Z&&Z.m(k,N),C(k,H,N),C(k,W,N),K&&K.m(W,null),u(W,ue),ee&&ee.m(W,null),u(W,ne),J&&J.m(W,null),u(W,me),u(W,$),fe.m($,null),u($,ce),se.m($,null),u(W,be),u(W,re);for(let m=0;m<q.length;m+=1)q[m]&&q[m].m(re,null);ge||(Ve=pe(W,"submit",al(i[22])),ge=!0)},p(k,N){if(N[0]&8192&&f!==(f=k[13]("finance.expense.add_title")+"")&&Y(g,f),N[0]&2048&&ye(d,"text-align",k[11]),N[0]&8192&&I!==(I=k[13]("finance.expense.add_subtitle")+"")&&Y(x,I),N[0]&2048&&ye(w,"text-align",k[11]),N[0]&4&&it(t,"space-x-reverse",k[2]),N[0]&32&&Y(v,k[5]),N[0]&8224){Ce=ae(Array(He));let m;for(m=0;m<Ce.length;m+=1){const z=wt(k,Ce,m);ie[m]?ie[m].p(z,N):(ie[m]=Et(z),ie[m].c(),ie[m].m(te,null))}for(;m<ie.length;m+=1)ie[m].d(1);ie.length=Ce.length}if(k[4]?Z?(Z.p(k,N),N[0]&16&&_e(Z,1)):(Z=xt(k),Z.c(),_e(Z,1),Z.m(H.parentNode,H)):Z&&(Fe(),Ne(Z,1,1,()=>{Z=null}),qe()),k[5]===1?K?(K.p(k,N),N[0]&32&&_e(K,1)):(K=Tt(k),K.c(),_e(K,1),K.m(W,ue)):K&&(Fe(),Ne(K,1,1,()=>{K=null}),qe()),k[5]===2?ee?(ee.p(k,N),N[0]&32&&_e(ee,1)):(ee=Kt(k),ee.c(),_e(ee,1),ee.m(W,ne)):ee&&(Fe(),Ne(ee,1,1,()=>{ee=null}),qe()),k[5]===3?J?(J.p(k,N),N[0]&32&&_e(J,1)):(J=el(k),J.c(),_e(J,1),J.m(W,me)):J&&(Fe(),Ne(J,1,1,()=>{J=null}),qe()),xe===(xe=Ee(k))&&fe?fe.p(k,N):(fe.d(1),fe=xe(k),fe&&(fe.c(),fe.m($,ce))),de===(de=ke(k))&&se?se.p(k,N):(se.d(1),se=de(k),se&&(se.c(),se.m($,null))),N[0]&1310752){G=ae(Array(He));let m;for(m=0;m<G.length;m+=1){const z=ot(k,G,m);q[m]?q[m].p(z,N):(q[m]=ll(z),q[m].c(),q[m].m(re,null))}for(;m<q.length;m+=1)q[m].d(1);q.length=G.length}},i(k){_e(Z),_e(K),_e(ee),_e(J)},o(k){Ne(Z),Ne(K),Ne(ee),Ne(J)},d(k){k&&(c(e),c(U),c(Q),c(M),c(H),c(W)),Pe(ie,k),Z&&Z.d(k),K&&K.d(),ee&&ee.d(),J&&J.d(),fe.d(),se.d(),Pe(q,k),ge=!1,Ve()}}}function vl(i){let e,n,t='<svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>',l,s,r=i[13]("finance.expense.success_title")+"",a,d,f,g=i[13]("finance.expense.success_message")+"",b,w,I;return{c(){e=_("div"),n=_("div"),n.innerHTML=t,l=B(),s=_("h3"),a=S(r),d=B(),f=_("p"),b=S(g),this.h()},l(x){e=p(x,"DIV",{class:!0});var L=h(e);n=p(L,"DIV",{class:!0,"data-svelte-h":!0}),Me(n)!=="svelte-1mt03v8"&&(n.innerHTML=t),l=A(L),s=p(L,"H3",{class:!0});var T=h(s);a=j(T,r),T.forEach(c),d=A(L),f=p(L,"P",{class:!0});var v=h(f);b=j(v,g),v.forEach(c),L.forEach(c),this.h()},h(){o(n,"class","w-20 h-20 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-6"),o(s,"class","text-2xl font-bold text-gray-900 mb-2"),o(f,"class","text-gray-600"),o(e,"class","p-8 text-center")},m(x,L){C(x,e,L),u(e,n),u(e,l),u(e,s),u(s,a),u(e,d),u(e,f),u(f,b),I=!0},p(x,L){(!I||L[0]&8192)&&r!==(r=x[13]("finance.expense.success_title")+"")&&Y(a,r),(!I||L[0]&8192)&&g!==(g=x[13]("finance.expense.success_message")+"")&&Y(b,g)},i(x){I||(x&&je(()=>{I&&(w||(w=we(e,Ze,{duration:500,easing:st},!0)),w.run(1))}),I=!0)},o(x){x&&(w||(w=we(e,Ze,{duration:500,easing:st},!1)),w.run(0)),I=!1},d(x){x&&c(e),x&&w&&w.end()}}}function ml(i){let e;return{c(){e=S(i[50])},l(n){e=j(n,i[50])},m(n,t){C(n,e,t)},d(n){n&&c(e)}}}function bl(i){let e,n;return{c(){e=Ie("svg"),n=Ie("path"),this.h()},l(t){e=De(t,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var l=h(e);n=De(l,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(n).forEach(c),l.forEach(c),this.h()},h(){o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"stroke-width","2"),o(n,"d","M5 13l4 4L19 7"),o(e,"class","w-4 h-4"),o(e,"fill","none"),o(e,"stroke","currentColor"),o(e,"viewBox","0 0 24 24")},m(t,l){C(t,e,l),u(e,n)},d(t){t&&c(e)}}}function gl(i){let e=i[13]("finance.expense.step_review")+"",n;return{c(){n=S(e)},l(t){n=j(t,e)},m(t,l){C(t,n,l)},p(t,l){l[0]&8192&&e!==(e=t[13]("finance.expense.step_review")+"")&&Y(n,e)},d(t){t&&c(n)}}}function kl(i){let e=i[13]("finance.expense.step_details")+"",n;return{c(){n=S(e)},l(t){n=j(t,e)},m(t,l){C(t,n,l)},p(t,l){l[0]&8192&&e!==(e=t[13]("finance.expense.step_details")+"")&&Y(n,e)},d(t){t&&c(n)}}}function yl(i){let e=i[13]("finance.expense.step_category")+"",n;return{c(){n=S(e)},l(t){n=j(t,e)},m(t,l){C(t,n,l)},p(t,l){l[0]&8192&&e!==(e=t[13]("finance.expense.step_category")+"")&&Y(n,e)},d(t){t&&c(n)}}}function wl(i){let e,n;return{c(){e=_("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),h(e).forEach(c),this.h()},h(){o(e,"class",n="flex-1 h-1 mx-2 "+(i[5]>i[50]?"bg-green-500":"bg-gray-200"))},m(t,l){C(t,e,l)},p(t,l){l[0]&32&&n!==(n="flex-1 h-1 mx-2 "+(t[5]>t[50]?"bg-green-500":"bg-gray-200"))&&o(e,"class",n)},d(t){t&&c(e)}}}function Et(i){let e,n,t,l,s,r,a,d;function f(T,v){return T[85]?bl:ml}let g=f(i),b=g(i);function w(T,v){return T[50]===1?yl:T[50]===2?kl:gl}let x=w(i)(i),L=i[52]<He-1&&wl(i);return{c(){e=_("div"),n=_("div"),b.c(),l=B(),s=_("span"),x.c(),a=B(),L&&L.c(),d=Te(),this.h()},l(T){e=p(T,"DIV",{class:!0});var v=h(e);n=p(v,"DIV",{class:!0});var O=h(n);b.l(O),O.forEach(c),l=A(v),s=p(v,"SPAN",{class:!0});var D=h(s);x.l(D),D.forEach(c),v.forEach(c),a=A(T),L&&L.l(T),d=Te(),this.h()},h(){o(n,"class",t="w-8 h-8 rounded-full flex items-center justify-center transition-all duration-300 "+(i[84]?"bg-gradient-to-r from-red-500 to-pink-500 text-white shadow-lg":i[85]?"bg-green-500 text-white":"bg-gray-200 text-gray-500")),o(s,"class",r="mt-2 text-xs font-medium "+(i[84]?"text-red-600":i[85]?"text-green-600":"text-gray-500")),o(e,"class","flex flex-col items-center flex-1")},m(T,v){C(T,e,v),u(e,n),b.m(n,null),u(e,l),u(e,s),x.m(s,null),C(T,a,v),L&&L.m(T,v),C(T,d,v)},p(T,v){g!==(g=f(T))&&(b.d(1),b=g(T),b&&(b.c(),b.m(n,null))),v[0]&32&&t!==(t="w-8 h-8 rounded-full flex items-center justify-center transition-all duration-300 "+(T[84]?"bg-gradient-to-r from-red-500 to-pink-500 text-white shadow-lg":T[85]?"bg-green-500 text-white":"bg-gray-200 text-gray-500"))&&o(n,"class",t),x.p(T,v),v[0]&32&&r!==(r="mt-2 text-xs font-medium "+(T[84]?"text-red-600":T[85]?"text-green-600":"text-gray-500"))&&o(s,"class",r),T[52]<He-1&&L.p(T,v)},d(T){T&&(c(e),c(a),c(d)),b.d(),x.d(),L&&L.d(T)}}}function xt(i){let e,n,t,l,s,r,a,d,f,g;return{c(){e=_("div"),n=_("div"),t=Ie("svg"),l=Ie("path"),r=B(),a=_("span"),d=S(i[4]),this.h()},l(b){e=p(b,"DIV",{class:!0});var w=h(e);n=p(w,"DIV",{class:!0});var I=h(n);t=De(I,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var x=h(t);l=De(x,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(l).forEach(c),x.forEach(c),r=A(I),a=p(I,"SPAN",{class:!0});var L=h(a);d=j(L,i[4]),L.forEach(c),I.forEach(c),w.forEach(c),this.h()},h(){o(l,"stroke-linecap","round"),o(l,"stroke-linejoin","round"),o(l,"stroke-width","2"),o(l,"d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),o(t,"class",s="w-5 h-5 text-red-500 "+(i[2]?"ml-3":"mr-3")),o(t,"fill","none"),o(t,"stroke","currentColor"),o(t,"viewBox","0 0 24 24"),o(a,"class","text-red-700 text-sm font-medium"),o(n,"class","flex items-center"),o(e,"class","mx-6 mt-4 bg-red-50 border border-red-200 rounded-xl p-4")},m(b,w){C(b,e,w),u(e,n),u(n,t),u(t,l),u(n,r),u(n,a),u(a,d),g=!0},p(b,w){(!g||w[0]&4&&s!==(s="w-5 h-5 text-red-500 "+(b[2]?"ml-3":"mr-3")))&&o(t,"class",s),(!g||w[0]&16)&&Y(d,b[4])},i(b){g||(b&&je(()=>{g&&(f||(f=we(e,Ae,{duration:300},!0)),f.run(1))}),g=!0)},o(b){b&&(f||(f=we(e,Ae,{duration:300},!1)),f.run(0)),g=!1},d(b){b&&c(e),b&&f&&f.end()}}}function Tt(i){let e,n=i[20](),t,l,s,r=i[13]("finance.expense.category")+"",a,d,f,g,b,w,I,x,L="More categories",T,v,O=i[9]?"Hide":"Show all",D,U,Q,te,M,H,W=i[13]("finance.expense.description")+"",ue,ne,me=i[0].label&&i[0].label.trim().length>=3,$,ce,be,re,ge,Ve=i[0].label&&i[0].label.trim().length>=3,Ce,ie,Z,K,ee=i[0].category&&i[0].label&&i[0].label.trim().length>=3,J,Ee,xe,fe,ke=n&&El(i),de=i[0].category&&It(),se=ae(i[14].slice(0,8)),G=[];for(let y=0;y<se.length;y+=1)G[y]=Ct(yt(i,se,y));let q=i[9]&&Nt(i),k=i[6].category&&Bt(i),N=me&&At(),m=Ve&&Mt(i),z=i[0].category&&!i[0].label&&Pt(i);function ve(y,E){if(E[0]&1&&(Z=null),Z==null&&(Z=!!(y[0].label&&y[0].label.trim().length>0&&y[0].label.trim().length<3)),Z)return jl;if(y[6].label)return Sl}let he=ve(i,[-1,-1,-1]),oe=he&&he(i),R=ee&&Gt(i);return{c(){e=_("div"),ke&&ke.c(),t=B(),l=_("div"),s=_("label"),a=S(r),d=S(` *\r
                `),de&&de.c(),f=B(),g=_("div");for(let y=0;y<G.length;y+=1)G[y].c();b=B(),w=_("div"),I=_("div"),x=_("p"),x.textContent=L,T=B(),v=_("button"),D=S(O),U=B(),q&&q.c(),Q=B(),k&&k.c(),te=B(),M=_("div"),H=_("label"),ue=S(W),ne=S(` *\r
                `),N&&N.c(),$=B(),ce=_("div"),be=_("input"),ge=B(),m&&m.c(),Ce=B(),z&&z.c(),ie=B(),oe&&oe.c(),K=B(),R&&R.c(),this.h()},l(y){e=p(y,"DIV",{class:!0});var E=h(e);ke&&ke.l(E),t=A(E),l=p(E,"DIV",{});var V=h(l);s=p(V,"LABEL",{class:!0,style:!0});var le=h(s);a=j(le,r),d=j(le,` *\r
                `),de&&de.l(le),le.forEach(c),f=A(V),g=p(V,"DIV",{class:!0});var P=h(g);for(let Ue=0;Ue<G.length;Ue+=1)G[Ue].l(P);P.forEach(c),b=A(V),w=p(V,"DIV",{class:!0});var F=h(w);I=p(F,"DIV",{class:!0});var X=h(I);x=p(X,"P",{class:!0,"data-svelte-h":!0}),Me(x)!=="svelte-1goab67"&&(x.textContent=L),T=A(X),v=p(X,"BUTTON",{type:!0,class:!0});var Se=h(v);D=j(Se,O),Se.forEach(c),X.forEach(c),U=A(F),q&&q.l(F),F.forEach(c),Q=A(V),k&&k.l(V),V.forEach(c),te=A(E),M=p(E,"DIV",{});var Be=h(M);H=p(Be,"LABEL",{class:!0,style:!0});var Le=h(H);ue=j(Le,W),ne=j(Le,` *\r
                `),N&&N.l(Le),Le.forEach(c),$=A(Be),ce=p(Be,"DIV",{class:!0});var Oe=h(ce);be=p(Oe,"INPUT",{type:!0,placeholder:!0,class:!0,style:!0}),ge=A(Oe),m&&m.l(Oe),Oe.forEach(c),Ce=A(Be),z&&z.l(Be),ie=A(Be),oe&&oe.l(Be),K=A(Be),R&&R.l(Be),Be.forEach(c),E.forEach(c),this.h()},h(){o(s,"class","block text-sm font-semibold text-gray-700 mb-3"),ye(s,"text-align",i[11]),o(g,"class","grid grid-cols-3 md:grid-cols-4 gap-3 mb-4"),o(x,"class","text-xs font-medium text-gray-500"),o(v,"type","button"),o(v,"class","text-xs text-red-600 hover:text-red-700 font-medium"),o(I,"class","flex items-center justify-between mb-2"),o(w,"class","bg-gray-50 rounded-xl p-3 border border-gray-200"),o(H,"class","block text-sm font-semibold text-gray-700 mb-2"),ye(H,"text-align",i[11]),o(be,"type","text"),o(be,"placeholder","What is this expense for?"),o(be,"class",re="w-full px-4 py-3 bg-white/50 border "+(i[6].label?"border-red-300 focus:ring-red-500":i[0].label&&i[0].label.trim().length>=3?"border-green-300 focus:ring-green-500":"border-gray-200 focus:ring-red-500")+" rounded-xl focus:outline-none focus:ring-2 focus:border-transparent transition-all duration-200 text-gray-900"),ye(be,"text-align",i[11]),o(ce,"class","relative"),o(e,"class","space-y-6")},m(y,E){C(y,e,E),ke&&ke.m(e,null),u(e,t),u(e,l),u(l,s),u(s,a),u(s,d),de&&de.m(s,null),u(l,f),u(l,g);for(let V=0;V<G.length;V+=1)G[V]&&G[V].m(g,null);u(l,b),u(l,w),u(w,I),u(I,x),u(I,T),u(I,v),u(v,D),u(w,U),q&&q.m(w,null),u(l,Q),k&&k.m(l,null),u(e,te),u(e,M),u(M,H),u(H,ue),u(H,ne),N&&N.m(H,null),u(M,$),u(M,ce),u(ce,be),Re(be,i[0].label),u(ce,ge),m&&m.m(ce,null),u(M,Ce),z&&z.m(M,null),u(M,ie),oe&&oe.m(M,null),u(M,K),R&&R.m(M,null),Ee=!0,xe||(fe=[pe(v,"click",i[25]),pe(be,"input",i[28])],xe=!0)},p(y,E){if(n&&ke.p(y,E),(!Ee||E[0]&8192)&&r!==(r=y[13]("finance.expense.category")+"")&&Y(a,r),y[0].category?de||(de=It(),de.c(),de.m(s,null)):de&&(de.d(1),de=null),(!Ee||E[0]&2048)&&ye(s,"text-align",y[11]),E[0]&2146305){se=ae(y[14].slice(0,8));let V;for(V=0;V<se.length;V+=1){const le=yt(y,se,V);G[V]?G[V].p(le,E):(G[V]=Ct(le),G[V].c(),G[V].m(g,null))}for(;V<G.length;V+=1)G[V].d(1);G.length=se.length}(!Ee||E[0]&512)&&O!==(O=y[9]?"Hide":"Show all")&&Y(D,O),y[9]?q?(q.p(y,E),E[0]&512&&_e(q,1)):(q=Nt(y),q.c(),_e(q,1),q.m(w,null)):q&&(Fe(),Ne(q,1,1,()=>{q=null}),qe()),y[6].category?k?k.p(y,E):(k=Bt(y),k.c(),k.m(l,null)):k&&(k.d(1),k=null),(!Ee||E[0]&8192)&&W!==(W=y[13]("finance.expense.description")+"")&&Y(ue,W),E[0]&1&&(me=y[0].label&&y[0].label.trim().length>=3),me?N||(N=At(),N.c(),N.m(H,null)):N&&(N.d(1),N=null),(!Ee||E[0]&2048)&&ye(H,"text-align",y[11]),(!Ee||E[0]&65&&re!==(re="w-full px-4 py-3 bg-white/50 border "+(y[6].label?"border-red-300 focus:ring-red-500":y[0].label&&y[0].label.trim().length>=3?"border-green-300 focus:ring-green-500":"border-gray-200 focus:ring-red-500")+" rounded-xl focus:outline-none focus:ring-2 focus:border-transparent transition-all duration-200 text-gray-900"))&&o(be,"class",re),(!Ee||E[0]&2048)&&ye(be,"text-align",y[11]),E[0]&1&&be.value!==y[0].label&&Re(be,y[0].label),E[0]&1&&(Ve=y[0].label&&y[0].label.trim().length>=3),Ve?m?m.p(y,E):(m=Mt(y),m.c(),m.m(ce,null)):m&&(m.d(1),m=null),y[0].category&&!y[0].label?z?(z.p(y,E),E[0]&1&&_e(z,1)):(z=Pt(y),z.c(),_e(z,1),z.m(M,ie)):z&&(Fe(),Ne(z,1,1,()=>{z=null}),qe()),he===(he=ve(y,E))&&oe?oe.p(y,E):(oe&&oe.d(1),oe=he&&he(y),oe&&(oe.c(),oe.m(M,K))),E[0]&1&&(ee=y[0].category&&y[0].label&&y[0].label.trim().length>=3),ee?R?(R.p(y,E),E[0]&1&&_e(R,1)):(R=Gt(y),R.c(),_e(R,1),R.m(M,null)):R&&(Fe(),Ne(R,1,1,()=>{R=null}),qe())},i(y){Ee||(_e(ke),_e(q),_e(z),_e(R),y&&je(()=>{Ee&&(J||(J=we(e,Qe,{duration:300},!0)),J.run(1))}),Ee=!0)},o(y){Ne(ke),Ne(q),Ne(z),Ne(R),y&&(J||(J=we(e,Qe,{duration:300},!1)),J.run(0)),Ee=!1},d(y){y&&c(e),ke&&ke.d(),de&&de.d(),Pe(G,y),q&&q.d(),k&&k.d(),N&&N.d(),m&&m.d(),z&&z.d(),oe&&oe.d(),R&&R.d(),y&&J&&J.end(),xe=!1,nl(fe)}}}function El(i){let e,n,t,l,s,r,a,d,f,g,b=i[13]("finance.expense.step_complete")+"",w,I,x,L="Ready to proceed to next step",T,v,O="Continue →",D,U,Q,te;return{c(){e=_("div"),n=_("div"),t=_("div"),l=_("div"),s=Ie("svg"),r=Ie("path"),d=B(),f=_("div"),g=_("span"),w=S(b),I=B(),x=_("p"),x.textContent=L,T=B(),v=_("button"),v.textContent=O,this.h()},l(M){e=p(M,"DIV",{class:!0});var H=h(e);n=p(H,"DIV",{class:!0});var W=h(n);t=p(W,"DIV",{class:!0});var ue=h(t);l=p(ue,"DIV",{class:!0});var ne=h(l);s=De(ne,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var me=h(s);r=De(me,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(r).forEach(c),me.forEach(c),ne.forEach(c),d=A(ue),f=p(ue,"DIV",{});var $=h(f);g=p($,"SPAN",{class:!0});var ce=h(g);w=j(ce,b),ce.forEach(c),I=A($),x=p($,"P",{class:!0,"data-svelte-h":!0}),Me(x)!=="svelte-1pf8hb2"&&(x.textContent=L),$.forEach(c),ue.forEach(c),T=A(W),v=p(W,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Me(v)!=="svelte-9nd9p"&&(v.textContent=O),W.forEach(c),H.forEach(c),this.h()},h(){o(r,"stroke-linecap","round"),o(r,"stroke-linejoin","round"),o(r,"stroke-width","2"),o(r,"d","M5 13l4 4L19 7"),o(s,"class","w-4 h-4 text-white"),o(s,"fill","none"),o(s,"stroke","currentColor"),o(s,"viewBox","0 0 24 24"),o(l,"class",a="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center "+(i[2]?"ml-3":"mr-3")),o(g,"class","text-green-700 font-semibold"),o(x,"class","text-green-600 text-xs"),o(t,"class","flex items-center"),o(v,"type","button"),o(v,"class","px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-sm font-medium"),o(n,"class","flex items-center justify-between"),o(e,"class","bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-4 mb-6 shadow-sm")},m(M,H){C(M,e,H),u(e,n),u(n,t),u(t,l),u(l,s),u(s,r),u(t,d),u(t,f),u(f,g),u(g,w),u(f,I),u(f,x),u(n,T),u(n,v),U=!0,Q||(te=pe(v,"click",i[18]),Q=!0)},p(M,H){(!U||H[0]&4&&a!==(a="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center "+(M[2]?"ml-3":"mr-3")))&&o(l,"class",a),(!U||H[0]&8192)&&b!==(b=M[13]("finance.expense.step_complete")+"")&&Y(w,b)},i(M){U||(M&&je(()=>{U&&(D||(D=we(e,Ae,{duration:300},!0)),D.run(1))}),U=!0)},o(M){M&&(D||(D=we(e,Ae,{duration:300},!1)),D.run(0)),U=!1},d(M){M&&c(e),M&&D&&D.end(),Q=!1,te()}}}function It(i){let e,n="✓";return{c(){e=_("span"),e.textContent=n,this.h()},l(t){e=p(t,"SPAN",{class:!0,"data-svelte-h":!0}),Me(e)!=="svelte-1nziqar"&&(e.textContent=n),this.h()},h(){o(e,"class","text-green-600 text-xs ml-2")},m(t,l){C(t,e,l)},d(t){t&&c(e)}}}function Dt(i){let e,n='<svg class="w-3 h-3 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>',t,l;return{c(){e=_("div"),e.innerHTML=n,this.h()},l(s){e=p(s,"DIV",{class:!0,"data-svelte-h":!0}),Me(e)!=="svelte-mgkjn3"&&(e.innerHTML=n),this.h()},h(){o(e,"class","absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center shadow-lg")},m(s,r){C(s,e,r),l=!0},i(s){l||(s&&je(()=>{l&&(t||(t=we(e,Ze,{duration:300},!0)),t.run(1))}),l=!0)},o(s){s&&(t||(t=we(e,Ze,{duration:300},!1)),t.run(0)),l=!1},d(s){s&&c(e),s&&t&&t.end()}}}function Ct(i){let e,n,t,l,s=i[79].icon+"",r,a,d,f,g=i[15](i[79].id)+"",b,w,I,x,L,T,v=i[0].category===i[79].id&&Dt();function O(){return i[24](i[79])}return{c(){e=_("button"),v&&v.c(),n=B(),t=_("div"),l=_("div"),r=S(s),d=B(),f=_("p"),b=S(g),I=B(),this.h()},l(D){e=p(D,"BUTTON",{type:!0,class:!0});var U=h(e);v&&v.l(U),n=A(U),t=p(U,"DIV",{class:!0});var Q=h(t);l=p(Q,"DIV",{class:!0});var te=h(l);r=j(te,s),te.forEach(c),d=A(Q),f=p(Q,"P",{class:!0});var M=h(f);b=j(M,g),M.forEach(c),Q.forEach(c),I=A(U),U.forEach(c),this.h()},h(){o(l,"class",a="text-3xl mb-1 "+(i[0].category===i[79].id?"scale-110":"group-hover:scale-110")+" transition-transform duration-300"),o(f,"class",w="text-xs font-semibold "+(i[0].category===i[79].id?"text-red-700":"text-gray-900 group-hover:text-red-600")+" transition-colors duration-200 truncate"),o(t,"class","text-center"),o(e,"type","button"),o(e,"class",x="relative p-3 border-2 rounded-xl transition-all duration-300 hover:shadow-lg hover:scale-105 group "+(i[0].category===i[79].id?"border-red-500 bg-gradient-to-br from-red-50 to-pink-50 shadow-lg ring-2 ring-red-200 scale-105":"border-gray-200 hover:border-red-300 hover:bg-red-50/30"))},m(D,U){C(D,e,U),v&&v.m(e,null),u(e,n),u(e,t),u(t,l),u(l,r),u(t,d),u(t,f),u(f,b),u(e,I),L||(T=pe(e,"click",O),L=!0)},p(D,U){i=D,i[0].category===i[79].id?v?U[0]&1&&_e(v,1):(v=Dt(),v.c(),_e(v,1),v.m(e,n)):v&&(Fe(),Ne(v,1,1,()=>{v=null}),qe()),U[0]&1&&a!==(a="text-3xl mb-1 "+(i[0].category===i[79].id?"scale-110":"group-hover:scale-110")+" transition-transform duration-300")&&o(l,"class",a),U[0]&1&&w!==(w="text-xs font-semibold "+(i[0].category===i[79].id?"text-red-700":"text-gray-900 group-hover:text-red-600")+" transition-colors duration-200 truncate")&&o(f,"class",w),U[0]&1&&x!==(x="relative p-3 border-2 rounded-xl transition-all duration-300 hover:shadow-lg hover:scale-105 group "+(i[0].category===i[79].id?"border-red-500 bg-gradient-to-br from-red-50 to-pink-50 shadow-lg ring-2 ring-red-200 scale-105":"border-gray-200 hover:border-red-300 hover:bg-red-50/30"))&&o(e,"class",x)},d(D){D&&c(e),v&&v.d(),L=!1,T()}}}function Nt(i){let e,n,t,l,s,r,a,d,f,g,b,w,I,x,L=ae(i[10]),T=[];for(let v=0;v<L.length;v+=1)T[v]=Vt(kt(i,L,v));return{c(){e=_("div"),n=_("input"),t=B(),l=_("div"),s=Ie("svg"),r=Ie("path"),f=B(),g=_("div");for(let v=0;v<T.length;v+=1)T[v].c();this.h()},l(v){e=p(v,"DIV",{class:!0});var O=h(e);n=p(O,"INPUT",{type:!0,placeholder:!0,class:!0,style:!0}),t=A(O),l=p(O,"DIV",{class:!0});var D=h(l);s=De(D,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var U=h(s);r=De(U,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(r).forEach(c),U.forEach(c),D.forEach(c),O.forEach(c),f=A(v),g=p(v,"DIV",{class:!0});var Q=h(g);for(let te=0;te<T.length;te+=1)T[te].l(Q);Q.forEach(c),this.h()},h(){o(n,"type","text"),o(n,"placeholder","Search categories..."),o(n,"class","w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200 text-gray-900 text-sm"),ye(n,"text-align",i[11]),o(r,"stroke-linecap","round"),o(r,"stroke-linejoin","round"),o(r,"stroke-width","2"),o(r,"d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"),o(s,"class","w-4 h-4 text-gray-400"),o(s,"fill","none"),o(s,"stroke","currentColor"),o(s,"viewBox","0 0 24 24"),o(l,"class",a="absolute inset-y-0 "+(i[2]?"left-0 pl-4":"right-0 pr-4")+" flex items-center pointer-events-none"),o(e,"class","relative mb-3"),o(g,"class","grid grid-cols-3 md:grid-cols-4 gap-2")},m(v,O){C(v,e,O),u(e,n),Re(n,i[1]),u(e,t),u(e,l),u(l,s),u(s,r),C(v,f,O),C(v,g,O);for(let D=0;D<T.length;D+=1)T[D]&&T[D].m(g,null);w=!0,I||(x=pe(n,"input",i[26]),I=!0)},p(v,O){if((!w||O[0]&2048)&&ye(n,"text-align",v[11]),O[0]&2&&n.value!==v[1]&&Re(n,v[1]),(!w||O[0]&4&&a!==(a="absolute inset-y-0 "+(v[2]?"left-0 pl-4":"right-0 pr-4")+" flex items-center pointer-events-none"))&&o(l,"class",a),O[0]&2130945){L=ae(v[10]);let D;for(D=0;D<L.length;D+=1){const U=kt(v,L,D);T[D]?T[D].p(U,O):(T[D]=Vt(U),T[D].c(),T[D].m(g,null))}for(;D<T.length;D+=1)T[D].d(1);T.length=L.length}},i(v){w||(v&&je(()=>{w&&(d||(d=we(e,Ae,{duration:200},!0)),d.run(1))}),v&&je(()=>{w&&(b||(b=we(g,Ae,{duration:200},!0)),b.run(1))}),w=!0)},o(v){v&&(d||(d=we(e,Ae,{duration:200},!1)),d.run(0)),v&&(b||(b=we(g,Ae,{duration:200},!1)),b.run(0)),w=!1},d(v){v&&(c(e),c(f),c(g)),v&&d&&d.end(),Pe(T,v),v&&b&&b.end(),I=!1,x()}}}function Vt(i){let e,n,t,l=i[79].icon+"",s,r,a,d,f=i[15](i[79].id)+"",g,b,w,I,x,L;function T(){return i[27](i[79])}return{c(){e=_("button"),n=_("div"),t=_("div"),s=S(l),a=B(),d=_("p"),g=S(f),w=B(),this.h()},l(v){e=p(v,"BUTTON",{type:!0,class:!0});var O=h(e);n=p(O,"DIV",{class:!0});var D=h(n);t=p(D,"DIV",{class:!0});var U=h(t);s=j(U,l),U.forEach(c),a=A(D),d=p(D,"P",{class:!0});var Q=h(d);g=j(Q,f),Q.forEach(c),D.forEach(c),w=A(O),O.forEach(c),this.h()},h(){o(t,"class",r="text-xl mb-1 "+(i[0].category===i[79].id?"scale-110":"group-hover:scale-110")+" transition-transform duration-300"),o(d,"class",b="text-xs font-medium "+(i[0].category===i[79].id?"text-red-700":"text-gray-900 group-hover:text-red-600")+" transition-colors duration-200 truncate"),o(n,"class","text-center"),o(e,"type","button"),o(e,"class",I="relative p-2 border rounded-lg transition-all duration-300 hover:shadow-sm hover:scale-105 group "+(i[0].category===i[79].id?"border-red-500 bg-gradient-to-br from-red-50 to-pink-50 shadow-sm":"border-gray-200 hover:border-red-300 hover:bg-red-50/30"))},m(v,O){C(v,e,O),u(e,n),u(n,t),u(t,s),u(n,a),u(n,d),u(d,g),u(e,w),x||(L=pe(e,"click",T),x=!0)},p(v,O){i=v,O[0]&1024&&l!==(l=i[79].icon+"")&&Y(s,l),O[0]&1025&&r!==(r="text-xl mb-1 "+(i[0].category===i[79].id?"scale-110":"group-hover:scale-110")+" transition-transform duration-300")&&o(t,"class",r),O[0]&1024&&f!==(f=i[15](i[79].id)+"")&&Y(g,f),O[0]&1025&&b!==(b="text-xs font-medium "+(i[0].category===i[79].id?"text-red-700":"text-gray-900 group-hover:text-red-600")+" transition-colors duration-200 truncate")&&o(d,"class",b),O[0]&1025&&I!==(I="relative p-2 border rounded-lg transition-all duration-300 hover:shadow-sm hover:scale-105 group "+(i[0].category===i[79].id?"border-red-500 bg-gradient-to-br from-red-50 to-pink-50 shadow-sm":"border-gray-200 hover:border-red-300 hover:bg-red-50/30"))&&o(e,"class",I)},d(v){v&&c(e),x=!1,L()}}}function Bt(i){let e,n=i[6].category+"",t;return{c(){e=_("p"),t=S(n),this.h()},l(l){e=p(l,"P",{class:!0});var s=h(e);t=j(s,n),s.forEach(c),this.h()},h(){o(e,"class","text-red-500 text-sm mt-2")},m(l,s){C(l,e,s),u(e,t)},p(l,s){s[0]&64&&n!==(n=l[6].category+"")&&Y(t,n)},d(l){l&&c(e)}}}function At(i){let e,n=`<svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                    Complete`;return{c(){e=_("span"),e.innerHTML=n,this.h()},l(t){e=p(t,"SPAN",{class:!0,"data-svelte-h":!0}),Me(e)!=="svelte-1bfcag2"&&(e.innerHTML=n),this.h()},h(){o(e,"class","text-green-600 text-xs ml-2 flex items-center")},m(t,l){C(t,e,l)},d(t){t&&c(e)}}}function Mt(i){let e,n,t,l;return{c(){e=_("div"),n=Ie("svg"),t=Ie("path"),this.h()},l(s){e=p(s,"DIV",{class:!0});var r=h(e);n=De(r,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var a=h(n);t=De(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(t).forEach(c),a.forEach(c),r.forEach(c),this.h()},h(){o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"stroke-width","2"),o(t,"d","M5 13l4 4L19 7"),o(n,"class","w-4 h-4 text-green-500"),o(n,"fill","none"),o(n,"stroke","currentColor"),o(n,"viewBox","0 0 24 24"),o(e,"class",l="absolute inset-y-0 "+(i[2]?"left-0 pl-3":"right-0 pr-3")+" flex items-center pointer-events-none")},m(s,r){C(s,e,r),u(e,n),u(n,t)},p(s,r){r[0]&4&&l!==(l="absolute inset-y-0 "+(s[2]?"left-0 pl-3":"right-0 pr-3")+" flex items-center pointer-events-none")&&o(e,"class",l)},d(s){s&&c(e)}}}function Pt(i){let e,n,t;function l(a,d){return a[0].category==="WATER"?Pl:a[0].category==="ELECTRICITY"?Ml:a[0].category==="TRANSPORT"?Al:a[0].category==="RENT"?Bl:a[0].category==="SUPPLIES"?Vl:a[0].category==="MAINTENANCE"?Nl:a[0].category==="SALARIES"?Cl:a[0].category==="INSURANCE"?Dl:a[0].category==="TAXES"?Il:a[0].category==="MARKETING"?Tl:xl}let s=l(i),r=s(i);return{c(){e=_("div"),r.c(),this.h()},l(a){e=p(a,"DIV",{class:!0});var d=h(e);r.l(d),d.forEach(c),this.h()},h(){o(e,"class","mt-2 flex flex-wrap gap-2")},m(a,d){C(a,e,d),r.m(e,null),t=!0},p(a,d){s===(s=l(a))&&r?r.p(a,d):(r.d(1),r=s(a),r&&(r.c(),r.m(e,null)))},i(a){t||(a&&je(()=>{t&&(n||(n=we(e,Ae,{duration:200},!0)),n.run(1))}),t=!0)},o(a){a&&(n||(n=we(e,Ae,{duration:200},!1)),n.run(0)),t=!1},d(a){a&&c(e),r.d(),a&&n&&n.end()}}}function xl(i){let e,n=ae(["General expense","Miscellaneous","Other payment"]),t=[];for(let l=0;l<3;l+=1)t[l]=St(ut(i,n,l));return{c(){for(let l=0;l<3;l+=1)t[l].c();e=Te()},l(l){for(let s=0;s<3;s+=1)t[s].l(l);e=Te()},m(l,s){for(let r=0;r<3;r+=1)t[r]&&t[r].m(l,s);C(l,e,s)},p(l,s){if(s[0]&1){n=ae(["General expense","Miscellaneous","Other payment"]);let r;for(r=0;r<3;r+=1){const a=ut(l,n,r);t[r]?t[r].p(a,s):(t[r]=St(a),t[r].c(),t[r].m(e.parentNode,e))}for(;r<3;r+=1)t[r].d(1)}},d(l){l&&c(e),Pe(t,l)}}}function Tl(i){let e,n=ae(["Advertising","Social media","Promotional materials"]),t=[];for(let l=0;l<3;l+=1)t[l]=jt(ct(i,n,l));return{c(){for(let l=0;l<3;l+=1)t[l].c();e=Te()},l(l){for(let s=0;s<3;s+=1)t[s].l(l);e=Te()},m(l,s){for(let r=0;r<3;r+=1)t[r]&&t[r].m(l,s);C(l,e,s)},p(l,s){if(s[0]&1){n=ae(["Advertising","Social media","Promotional materials"]);let r;for(r=0;r<3;r+=1){const a=ct(l,n,r);t[r]?t[r].p(a,s):(t[r]=jt(a),t[r].c(),t[r].m(e.parentNode,e))}for(;r<3;r+=1)t[r].d(1)}},d(l){l&&c(e),Pe(t,l)}}}function Il(i){let e,n=ae(["VAT payment","Income tax","Property tax"]),t=[];for(let l=0;l<3;l+=1)t[l]=Lt(ft(i,n,l));return{c(){for(let l=0;l<3;l+=1)t[l].c();e=Te()},l(l){for(let s=0;s<3;s+=1)t[s].l(l);e=Te()},m(l,s){for(let r=0;r<3;r+=1)t[r]&&t[r].m(l,s);C(l,e,s)},p(l,s){if(s[0]&1){n=ae(["VAT payment","Income tax","Property tax"]);let r;for(r=0;r<3;r+=1){const a=ft(l,n,r);t[r]?t[r].p(a,s):(t[r]=Lt(a),t[r].c(),t[r].m(e.parentNode,e))}for(;r<3;r+=1)t[r].d(1)}},d(l){l&&c(e),Pe(t,l)}}}function Dl(i){let e,n=ae(["Business insurance","Health insurance","Vehicle insurance"]),t=[];for(let l=0;l<3;l+=1)t[l]=Ot(dt(i,n,l));return{c(){for(let l=0;l<3;l+=1)t[l].c();e=Te()},l(l){for(let s=0;s<3;s+=1)t[s].l(l);e=Te()},m(l,s){for(let r=0;r<3;r+=1)t[r]&&t[r].m(l,s);C(l,e,s)},p(l,s){if(s[0]&1){n=ae(["Business insurance","Health insurance","Vehicle insurance"]);let r;for(r=0;r<3;r+=1){const a=dt(l,n,r);t[r]?t[r].p(a,s):(t[r]=Ot(a),t[r].c(),t[r].m(e.parentNode,e))}for(;r<3;r+=1)t[r].d(1)}},d(l){l&&c(e),Pe(t,l)}}}function Cl(i){let e,n=ae(["Monthly salaries","Employee bonus","Contractor payment"]),t=[];for(let l=0;l<3;l+=1)t[l]=Ut(ht(i,n,l));return{c(){for(let l=0;l<3;l+=1)t[l].c();e=Te()},l(l){for(let s=0;s<3;s+=1)t[s].l(l);e=Te()},m(l,s){for(let r=0;r<3;r+=1)t[r]&&t[r].m(l,s);C(l,e,s)},p(l,s){if(s[0]&1){n=ae(["Monthly salaries","Employee bonus","Contractor payment"]);let r;for(r=0;r<3;r+=1){const a=ht(l,n,r);t[r]?t[r].p(a,s):(t[r]=Ut(a),t[r].c(),t[r].m(e.parentNode,e))}for(;r<3;r+=1)t[r].d(1)}},d(l){l&&c(e),Pe(t,l)}}}function Nl(i){let e,n=ae(["Equipment repair","Building maintenance","IT services"]),t=[];for(let l=0;l<3;l+=1)t[l]=Ht(_t(i,n,l));return{c(){for(let l=0;l<3;l+=1)t[l].c();e=Te()},l(l){for(let s=0;s<3;s+=1)t[s].l(l);e=Te()},m(l,s){for(let r=0;r<3;r+=1)t[r]&&t[r].m(l,s);C(l,e,s)},p(l,s){if(s[0]&1){n=ae(["Equipment repair","Building maintenance","IT services"]);let r;for(r=0;r<3;r+=1){const a=_t(l,n,r);t[r]?t[r].p(a,s):(t[r]=Ht(a),t[r].c(),t[r].m(e.parentNode,e))}for(;r<3;r+=1)t[r].d(1)}},d(l){l&&c(e),Pe(t,l)}}}function Vl(i){let e,n=ae(["Office supplies","Inventory purchase","Raw materials"]),t=[];for(let l=0;l<3;l+=1)t[l]=Rt(pt(i,n,l));return{c(){for(let l=0;l<3;l+=1)t[l].c();e=Te()},l(l){for(let s=0;s<3;s+=1)t[s].l(l);e=Te()},m(l,s){for(let r=0;r<3;r+=1)t[r]&&t[r].m(l,s);C(l,e,s)},p(l,s){if(s[0]&1){n=ae(["Office supplies","Inventory purchase","Raw materials"]);let r;for(r=0;r<3;r+=1){const a=pt(l,n,r);t[r]?t[r].p(a,s):(t[r]=Rt(a),t[r].c(),t[r].m(e.parentNode,e))}for(;r<3;r+=1)t[r].d(1)}},d(l){l&&c(e),Pe(t,l)}}}function Bl(i){let e,n=ae(["Monthly rent","Office space","Warehouse rent"]),t=[];for(let l=0;l<3;l+=1)t[l]=Ft(vt(i,n,l));return{c(){for(let l=0;l<3;l+=1)t[l].c();e=Te()},l(l){for(let s=0;s<3;s+=1)t[s].l(l);e=Te()},m(l,s){for(let r=0;r<3;r+=1)t[r]&&t[r].m(l,s);C(l,e,s)},p(l,s){if(s[0]&1){n=ae(["Monthly rent","Office space","Warehouse rent"]);let r;for(r=0;r<3;r+=1){const a=vt(l,n,r);t[r]?t[r].p(a,s):(t[r]=Ft(a),t[r].c(),t[r].m(e.parentNode,e))}for(;r<3;r+=1)t[r].d(1)}},d(l){l&&c(e),Pe(t,l)}}}function Al(i){let e,n=ae(["Fuel","Vehicle maintenance","Delivery costs"]),t=[];for(let l=0;l<3;l+=1)t[l]=qt(mt(i,n,l));return{c(){for(let l=0;l<3;l+=1)t[l].c();e=Te()},l(l){for(let s=0;s<3;s+=1)t[s].l(l);e=Te()},m(l,s){for(let r=0;r<3;r+=1)t[r]&&t[r].m(l,s);C(l,e,s)},p(l,s){if(s[0]&1){n=ae(["Fuel","Vehicle maintenance","Delivery costs"]);let r;for(r=0;r<3;r+=1){const a=mt(l,n,r);t[r]?t[r].p(a,s):(t[r]=qt(a),t[r].c(),t[r].m(e.parentNode,e))}for(;r<3;r+=1)t[r].d(1)}},d(l){l&&c(e),Pe(t,l)}}}function Ml(i){let e,n=ae(["Monthly electricity","Power bill","Electricity supply"]),t=[];for(let l=0;l<3;l+=1)t[l]=zt(bt(i,n,l));return{c(){for(let l=0;l<3;l+=1)t[l].c();e=Te()},l(l){for(let s=0;s<3;s+=1)t[s].l(l);e=Te()},m(l,s){for(let r=0;r<3;r+=1)t[r]&&t[r].m(l,s);C(l,e,s)},p(l,s){if(s[0]&1){n=ae(["Monthly electricity","Power bill","Electricity supply"]);let r;for(r=0;r<3;r+=1){const a=bt(l,n,r);t[r]?t[r].p(a,s):(t[r]=zt(a),t[r].c(),t[r].m(e.parentNode,e))}for(;r<3;r+=1)t[r].d(1)}},d(l){l&&c(e),Pe(t,l)}}}function Pl(i){let e,n=ae(["Monthly water bill","Water utility","Water supply"]),t=[];for(let l=0;l<3;l+=1)t[l]=Wt(gt(i,n,l));return{c(){for(let l=0;l<3;l+=1)t[l].c();e=Te()},l(l){for(let s=0;s<3;s+=1)t[s].l(l);e=Te()},m(l,s){for(let r=0;r<3;r+=1)t[r]&&t[r].m(l,s);C(l,e,s)},p(l,s){if(s[0]&1){n=ae(["Monthly water bill","Water utility","Water supply"]);let r;for(r=0;r<3;r+=1){const a=gt(l,n,r);t[r]?t[r].p(a,s):(t[r]=Wt(a),t[r].c(),t[r].m(e.parentNode,e))}for(;r<3;r+=1)t[r].d(1)}},d(l){l&&c(e),Pe(t,l)}}}function St(i){let e,n,t,l;function s(){return i[39](i[56])}return{c(){e=_("button"),n=S(i[56]),this.h()},l(r){e=p(r,"BUTTON",{type:!0,class:!0});var a=h(e);n=j(a,i[56]),a.forEach(c),this.h()},h(){o(e,"type","button"),o(e,"class","px-3 py-1.5 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-lg text-xs font-medium transition-colors")},m(r,a){C(r,e,a),u(e,n),t||(l=pe(e,"click",s),t=!0)},p(r,a){i=r},d(r){r&&c(e),t=!1,l()}}}function jt(i){let e,n,t,l;function s(){return i[38](i[56])}return{c(){e=_("button"),n=S(i[56]),this.h()},l(r){e=p(r,"BUTTON",{type:!0,class:!0});var a=h(e);n=j(a,i[56]),a.forEach(c),this.h()},h(){o(e,"type","button"),o(e,"class","px-3 py-1.5 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-lg text-xs font-medium transition-colors")},m(r,a){C(r,e,a),u(e,n),t||(l=pe(e,"click",s),t=!0)},p(r,a){i=r},d(r){r&&c(e),t=!1,l()}}}function Lt(i){let e,n,t,l;function s(){return i[37](i[56])}return{c(){e=_("button"),n=S(i[56]),this.h()},l(r){e=p(r,"BUTTON",{type:!0,class:!0});var a=h(e);n=j(a,i[56]),a.forEach(c),this.h()},h(){o(e,"type","button"),o(e,"class","px-3 py-1.5 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-lg text-xs font-medium transition-colors")},m(r,a){C(r,e,a),u(e,n),t||(l=pe(e,"click",s),t=!0)},p(r,a){i=r},d(r){r&&c(e),t=!1,l()}}}function Ot(i){let e,n,t,l;function s(){return i[36](i[56])}return{c(){e=_("button"),n=S(i[56]),this.h()},l(r){e=p(r,"BUTTON",{type:!0,class:!0});var a=h(e);n=j(a,i[56]),a.forEach(c),this.h()},h(){o(e,"type","button"),o(e,"class","px-3 py-1.5 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-lg text-xs font-medium transition-colors")},m(r,a){C(r,e,a),u(e,n),t||(l=pe(e,"click",s),t=!0)},p(r,a){i=r},d(r){r&&c(e),t=!1,l()}}}function Ut(i){let e,n,t,l;function s(){return i[35](i[56])}return{c(){e=_("button"),n=S(i[56]),this.h()},l(r){e=p(r,"BUTTON",{type:!0,class:!0});var a=h(e);n=j(a,i[56]),a.forEach(c),this.h()},h(){o(e,"type","button"),o(e,"class","px-3 py-1.5 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-lg text-xs font-medium transition-colors")},m(r,a){C(r,e,a),u(e,n),t||(l=pe(e,"click",s),t=!0)},p(r,a){i=r},d(r){r&&c(e),t=!1,l()}}}function Ht(i){let e,n,t,l;function s(){return i[34](i[56])}return{c(){e=_("button"),n=S(i[56]),this.h()},l(r){e=p(r,"BUTTON",{type:!0,class:!0});var a=h(e);n=j(a,i[56]),a.forEach(c),this.h()},h(){o(e,"type","button"),o(e,"class","px-3 py-1.5 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-lg text-xs font-medium transition-colors")},m(r,a){C(r,e,a),u(e,n),t||(l=pe(e,"click",s),t=!0)},p(r,a){i=r},d(r){r&&c(e),t=!1,l()}}}function Rt(i){let e,n,t,l;function s(){return i[33](i[56])}return{c(){e=_("button"),n=S(i[56]),this.h()},l(r){e=p(r,"BUTTON",{type:!0,class:!0});var a=h(e);n=j(a,i[56]),a.forEach(c),this.h()},h(){o(e,"type","button"),o(e,"class","px-3 py-1.5 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-lg text-xs font-medium transition-colors")},m(r,a){C(r,e,a),u(e,n),t||(l=pe(e,"click",s),t=!0)},p(r,a){i=r},d(r){r&&c(e),t=!1,l()}}}function Ft(i){let e,n,t,l;function s(){return i[32](i[56])}return{c(){e=_("button"),n=S(i[56]),this.h()},l(r){e=p(r,"BUTTON",{type:!0,class:!0});var a=h(e);n=j(a,i[56]),a.forEach(c),this.h()},h(){o(e,"type","button"),o(e,"class","px-3 py-1.5 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-lg text-xs font-medium transition-colors")},m(r,a){C(r,e,a),u(e,n),t||(l=pe(e,"click",s),t=!0)},p(r,a){i=r},d(r){r&&c(e),t=!1,l()}}}function qt(i){let e,n,t,l;function s(){return i[31](i[56])}return{c(){e=_("button"),n=S(i[56]),this.h()},l(r){e=p(r,"BUTTON",{type:!0,class:!0});var a=h(e);n=j(a,i[56]),a.forEach(c),this.h()},h(){o(e,"type","button"),o(e,"class","px-3 py-1.5 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-lg text-xs font-medium transition-colors")},m(r,a){C(r,e,a),u(e,n),t||(l=pe(e,"click",s),t=!0)},p(r,a){i=r},d(r){r&&c(e),t=!1,l()}}}function zt(i){let e,n,t,l;function s(){return i[30](i[56])}return{c(){e=_("button"),n=S(i[56]),this.h()},l(r){e=p(r,"BUTTON",{type:!0,class:!0});var a=h(e);n=j(a,i[56]),a.forEach(c),this.h()},h(){o(e,"type","button"),o(e,"class","px-3 py-1.5 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-lg text-xs font-medium transition-colors")},m(r,a){C(r,e,a),u(e,n),t||(l=pe(e,"click",s),t=!0)},p(r,a){i=r},d(r){r&&c(e),t=!1,l()}}}function Wt(i){let e,n,t,l;function s(){return i[29](i[56])}return{c(){e=_("button"),n=S(i[56]),this.h()},l(r){e=p(r,"BUTTON",{type:!0,class:!0});var a=h(e);n=j(a,i[56]),a.forEach(c),this.h()},h(){o(e,"type","button"),o(e,"class","px-3 py-1.5 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-lg text-xs font-medium transition-colors")},m(r,a){C(r,e,a),u(e,n),t||(l=pe(e,"click",s),t=!0)},p(r,a){i=r},d(r){r&&c(e),t=!1,l()}}}function Sl(i){let e,n=i[6].label+"",t;return{c(){e=_("p"),t=S(n),this.h()},l(l){e=p(l,"P",{class:!0});var s=h(e);t=j(s,n),s.forEach(c),this.h()},h(){o(e,"class","text-red-500 text-sm mt-2")},m(l,s){C(l,e,s),u(e,t)},p(l,s){s[0]&64&&n!==(n=l[6].label+"")&&Y(t,n)},d(l){l&&c(e)}}}function jl(i){let e,n,t=i[0].label.trim().length+"",l,s;return{c(){e=_("p"),n=S("Need at least 3 characters ("),l=S(t),s=S("/3)"),this.h()},l(r){e=p(r,"P",{class:!0});var a=h(e);n=j(a,"Need at least 3 characters ("),l=j(a,t),s=j(a,"/3)"),a.forEach(c),this.h()},h(){o(e,"class","text-amber-600 text-sm mt-2")},m(r,a){C(r,e,a),u(e,n),u(e,l),u(e,s)},p(r,a){a[0]&1&&t!==(t=r[0].label.trim().length+"")&&Y(l,t)},d(r){r&&c(e)}}}function Gt(i){let e,n,t=`Continue to Amount
                    <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg>`,l,s,r,a;return{c(){e=_("div"),n=_("button"),n.innerHTML=t,this.h()},l(d){e=p(d,"DIV",{class:!0});var f=h(e);n=p(f,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Me(n)!=="svelte-1rlxrza"&&(n.innerHTML=t),f.forEach(c),this.h()},h(){o(n,"type","button"),o(n,"class","px-4 py-2 bg-gradient-to-r from-red-600 to-pink-600 text-white rounded-lg hover:from-red-700 hover:to-pink-700 transition-all duration-200 shadow-md hover:shadow-lg text-sm font-medium flex items-center"),o(e,"class","mt-4 flex justify-end")},m(d,f){C(d,e,f),u(e,n),s=!0,r||(a=pe(n,"click",i[18]),r=!0)},p:tt,i(d){s||(d&&je(()=>{s&&(l||(l=we(e,Ae,{duration:200},!0)),l.run(1))}),s=!0)},o(d){d&&(l||(l=we(e,Ae,{duration:200},!1)),l.run(0)),s=!1},d(d){d&&c(e),d&&l&&l.end(),r=!1,a()}}}function Kt(i){let e,n=i[20](),t,l,s,r=i[13]("finance.expense.amount")+"",a,d,f=i[0].amount&&parseFloat(i[0].amount)>0,g,b,w,I,x=(i[0].amount?$e(i[0].amount):"0.000")+"",L,T,v,O="TND",D,U,Q,te='<span class="text-gray-500 font-medium">TND</span>',M,H,W,ue,ne,me,$,ce=i[0].amount&&parseFloat(i[0].amount)>0&&i[0].date,be,re,ge,Ve=i[13]("finance.expense.date")+"",Ce,ie,Z,K,ee,J,Ee,xe,fe,ke=i[13]("finance.expense.notes")+"",de,se,G,q,k,N,m,z,ve=n&&Ll(i),he=f&&Xt(),oe=ae([10,20,50,100,200,500]),R=[];for(let P=0;P<6;P+=1)R[P]=Qt(at(i,oe,P));let y=i[6].amount&&Yt(i),E=ce&&Jt(i),V=i[0].date&&Zt(),le=i[6].date&&$t(i);return{c(){e=_("div"),ve&&ve.c(),t=B(),l=_("div"),s=_("label"),a=S(r),d=S(` *\r
                `),he&&he.c(),g=B(),b=_("div"),w=_("div"),I=_("div"),L=S(x),T=B(),v=_("span"),v.textContent=O,D=B(),U=_("div"),Q=_("div"),Q.innerHTML=te,M=B(),H=_("input"),ue=B(),ne=_("div");for(let P=0;P<6;P+=1)R[P].c();me=B(),y&&y.c(),$=B(),E&&E.c(),be=B(),re=_("div"),ge=_("label"),Ce=S(Ve),ie=S(` *\r
                `),V&&V.c(),Z=B(),K=_("input"),J=B(),le&&le.c(),Ee=B(),xe=_("div"),fe=_("label"),de=S(ke),se=B(),G=_("textarea"),this.h()},l(P){e=p(P,"DIV",{class:!0});var F=h(e);ve&&ve.l(F),t=A(F),l=p(F,"DIV",{});var X=h(l);s=p(X,"LABEL",{class:!0,style:!0});var Se=h(s);a=j(Se,r),d=j(Se,` *\r
                `),he&&he.l(Se),Se.forEach(c),g=A(X),b=p(X,"DIV",{class:!0});var Be=h(b);w=p(Be,"DIV",{class:!0});var Le=h(w);I=p(Le,"DIV",{class:!0});var Oe=h(I);L=j(Oe,x),T=A(Oe),v=p(Oe,"SPAN",{class:!0,"data-svelte-h":!0}),Me(v)!=="svelte-ltj75p"&&(v.textContent=O),Oe.forEach(c),Le.forEach(c),Be.forEach(c),D=A(X),U=p(X,"DIV",{class:!0});var Ue=h(U);Q=p(Ue,"DIV",{class:!0,"data-svelte-h":!0}),Me(Q)!=="svelte-1omnme2"&&(Q.innerHTML=te),M=A(Ue),H=p(Ue,"INPUT",{type:!0,min:!0,step:!0,placeholder:!0,class:!0,style:!0}),Ue.forEach(c),ue=A(X),ne=p(X,"DIV",{class:!0});var Ke=h(ne);for(let Xe=0;Xe<6;Xe+=1)R[Xe].l(Ke);Ke.forEach(c),me=A(X),y&&y.l(X),$=A(X),E&&E.l(X),X.forEach(c),be=A(F),re=p(F,"DIV",{});var ze=h(re);ge=p(ze,"LABEL",{class:!0,style:!0});var Ge=h(ge);Ce=j(Ge,Ve),ie=j(Ge,` *\r
                `),V&&V.l(Ge),Ge.forEach(c),Z=A(ze),K=p(ze,"INPUT",{type:!0,class:!0,style:!0}),J=A(ze),le&&le.l(ze),ze.forEach(c),Ee=A(F),xe=p(F,"DIV",{});var We=h(xe);fe=p(We,"LABEL",{class:!0,style:!0});var Ye=h(fe);de=j(Ye,ke),Ye.forEach(c),se=A(We),G=p(We,"TEXTAREA",{rows:!0,placeholder:!0,class:!0,style:!0}),h(G).forEach(c),We.forEach(c),F.forEach(c),this.h()},h(){o(s,"class","block text-sm font-semibold text-gray-700 mb-2"),ye(s,"text-align",i[11]),o(v,"class","text-gray-600"),o(I,"class","text-3xl font-bold text-gray-900"),o(w,"class","text-center"),o(b,"class","bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl p-4 mb-4 border border-gray-200"),o(Q,"class","absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"),o(H,"type","number"),o(H,"min","0"),o(H,"step","0.001"),o(H,"placeholder","0.000"),o(H,"class",W="w-full pl-16 pr-4 py-4 bg-white/50 border "+(i[6].amount?"border-red-300 focus:ring-red-500":"border-gray-200 focus:ring-red-500")+" rounded-xl focus:outline-none focus:ring-2 focus:border-transparent transition-all duration-200 text-gray-900 text-lg font-semibold"),ye(H,"text-align",i[11]),o(U,"class","relative"),o(ne,"class","grid grid-cols-3 gap-2 mt-3"),o(ge,"class","block text-sm font-semibold text-gray-700 mb-2"),ye(ge,"text-align",i[11]),o(K,"type","date"),o(K,"class",ee="w-full px-4 py-3 bg-white/50 border "+(i[6].date?"border-red-300 focus:ring-red-500":"border-gray-200 focus:ring-red-500")+" rounded-xl focus:outline-none focus:ring-2 focus:border-transparent transition-all duration-200 text-gray-900"),ye(K,"text-align",i[11]),o(fe,"class","block text-sm font-semibold text-gray-700 mb-2"),ye(fe,"text-align",i[11]),o(G,"rows","4"),o(G,"placeholder",q=i[13]("finance.expense.notes_placeholder")),o(G,"class","w-full px-4 py-3 bg-white/50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200 text-gray-900 resize-none"),ye(G,"text-align",i[11]),o(e,"class","space-y-6")},m(P,F){C(P,e,F),ve&&ve.m(e,null),u(e,t),u(e,l),u(l,s),u(s,a),u(s,d),he&&he.m(s,null),u(l,g),u(l,b),u(b,w),u(w,I),u(I,L),u(I,T),u(I,v),u(l,D),u(l,U),u(U,Q),u(U,M),u(U,H),Re(H,i[0].amount),u(l,ue),u(l,ne);for(let X=0;X<6;X+=1)R[X]&&R[X].m(ne,null);u(l,me),y&&y.m(l,null),u(l,$),E&&E.m(l,null),u(e,be),u(e,re),u(re,ge),u(ge,Ce),u(ge,ie),V&&V.m(ge,null),u(re,Z),u(re,K),Re(K,i[0].date),u(re,J),le&&le.m(re,null),u(e,Ee),u(e,xe),u(xe,fe),u(fe,de),u(xe,se),u(xe,G),Re(G,i[0].description),N=!0,m||(z=[pe(H,"input",i[40]),pe(H,"focus",i[41]),pe(H,"blur",i[42]),pe(K,"input",i[44]),pe(G,"input",i[45])],m=!0)},p(P,F){if(n&&ve.p(P,F),(!N||F[0]&8192)&&r!==(r=P[13]("finance.expense.amount")+"")&&Y(a,r),F[0]&1&&(f=P[0].amount&&parseFloat(P[0].amount)>0),f?he||(he=Xt(),he.c(),he.m(s,null)):he&&(he.d(1),he=null),(!N||F[0]&2048)&&ye(s,"text-align",P[11]),(!N||F[0]&1)&&x!==(x=(P[0].amount?$e(P[0].amount):"0.000")+"")&&Y(L,x),(!N||F[0]&64&&W!==(W="w-full pl-16 pr-4 py-4 bg-white/50 border "+(P[6].amount?"border-red-300 focus:ring-red-500":"border-gray-200 focus:ring-red-500")+" rounded-xl focus:outline-none focus:ring-2 focus:border-transparent transition-all duration-200 text-gray-900 text-lg font-semibold"))&&o(H,"class",W),(!N||F[0]&2048)&&ye(H,"text-align",P[11]),F[0]&1&&rl(H.value)!==P[0].amount&&Re(H,P[0].amount),F[0]&1){oe=ae([10,20,50,100,200,500]);let X;for(X=0;X<6;X+=1){const Se=at(P,oe,X);R[X]?R[X].p(Se,F):(R[X]=Qt(Se),R[X].c(),R[X].m(ne,null))}for(;X<6;X+=1)R[X].d(1)}P[6].amount?y?y.p(P,F):(y=Yt(P),y.c(),y.m(l,$)):y&&(y.d(1),y=null),F[0]&1&&(ce=P[0].amount&&parseFloat(P[0].amount)>0&&P[0].date),ce?E?(E.p(P,F),F[0]&1&&_e(E,1)):(E=Jt(P),E.c(),_e(E,1),E.m(l,null)):E&&(Fe(),Ne(E,1,1,()=>{E=null}),qe()),(!N||F[0]&8192)&&Ve!==(Ve=P[13]("finance.expense.date")+"")&&Y(Ce,Ve),P[0].date?V||(V=Zt(),V.c(),V.m(ge,null)):V&&(V.d(1),V=null),(!N||F[0]&2048)&&ye(ge,"text-align",P[11]),(!N||F[0]&64&&ee!==(ee="w-full px-4 py-3 bg-white/50 border "+(P[6].date?"border-red-300 focus:ring-red-500":"border-gray-200 focus:ring-red-500")+" rounded-xl focus:outline-none focus:ring-2 focus:border-transparent transition-all duration-200 text-gray-900"))&&o(K,"class",ee),(!N||F[0]&2048)&&ye(K,"text-align",P[11]),F[0]&1&&Re(K,P[0].date),P[6].date?le?le.p(P,F):(le=$t(P),le.c(),le.m(re,null)):le&&(le.d(1),le=null),(!N||F[0]&8192)&&ke!==(ke=P[13]("finance.expense.notes")+"")&&Y(de,ke),(!N||F[0]&2048)&&ye(fe,"text-align",P[11]),(!N||F[0]&8192&&q!==(q=P[13]("finance.expense.notes_placeholder")))&&o(G,"placeholder",q),(!N||F[0]&2048)&&ye(G,"text-align",P[11]),F[0]&1&&Re(G,P[0].description)},i(P){N||(_e(ve),_e(E),P&&je(()=>{N&&(k||(k=we(e,Qe,{duration:300},!0)),k.run(1))}),N=!0)},o(P){Ne(ve),Ne(E),P&&(k||(k=we(e,Qe,{duration:300},!1)),k.run(0)),N=!1},d(P){P&&c(e),ve&&ve.d(),he&&he.d(),Pe(R,P),y&&y.d(),E&&E.d(),V&&V.d(),le&&le.d(),P&&k&&k.end(),m=!1,nl(z)}}}function Ll(i){let e,n,t,l,s,r,a,d,f,g,b=i[13]("finance.expense.step_complete")+"",w,I,x,L="Ready to review your expense",T,v,O="Review →",D,U,Q,te;return{c(){e=_("div"),n=_("div"),t=_("div"),l=_("div"),s=Ie("svg"),r=Ie("path"),d=B(),f=_("div"),g=_("span"),w=S(b),I=B(),x=_("p"),x.textContent=L,T=B(),v=_("button"),v.textContent=O,this.h()},l(M){e=p(M,"DIV",{class:!0});var H=h(e);n=p(H,"DIV",{class:!0});var W=h(n);t=p(W,"DIV",{class:!0});var ue=h(t);l=p(ue,"DIV",{class:!0});var ne=h(l);s=De(ne,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var me=h(s);r=De(me,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(r).forEach(c),me.forEach(c),ne.forEach(c),d=A(ue),f=p(ue,"DIV",{});var $=h(f);g=p($,"SPAN",{class:!0});var ce=h(g);w=j(ce,b),ce.forEach(c),I=A($),x=p($,"P",{class:!0,"data-svelte-h":!0}),Me(x)!=="svelte-12gblcv"&&(x.textContent=L),$.forEach(c),ue.forEach(c),T=A(W),v=p(W,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Me(v)!=="svelte-i78f54"&&(v.textContent=O),W.forEach(c),H.forEach(c),this.h()},h(){o(r,"stroke-linecap","round"),o(r,"stroke-linejoin","round"),o(r,"stroke-width","2"),o(r,"d","M5 13l4 4L19 7"),o(s,"class","w-4 h-4 text-white"),o(s,"fill","none"),o(s,"stroke","currentColor"),o(s,"viewBox","0 0 24 24"),o(l,"class",a="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center "+(i[2]?"ml-3":"mr-3")),o(g,"class","text-green-700 font-semibold"),o(x,"class","text-green-600 text-xs"),o(t,"class","flex items-center"),o(v,"type","button"),o(v,"class","px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-sm font-medium"),o(n,"class","flex items-center justify-between"),o(e,"class","bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-4 mb-6 shadow-sm")},m(M,H){C(M,e,H),u(e,n),u(n,t),u(t,l),u(l,s),u(s,r),u(t,d),u(t,f),u(f,g),u(g,w),u(f,I),u(f,x),u(n,T),u(n,v),U=!0,Q||(te=pe(v,"click",i[18]),Q=!0)},p(M,H){(!U||H[0]&4&&a!==(a="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center "+(M[2]?"ml-3":"mr-3")))&&o(l,"class",a),(!U||H[0]&8192)&&b!==(b=M[13]("finance.expense.step_complete")+"")&&Y(w,b)},i(M){U||(M&&je(()=>{U&&(D||(D=we(e,Ae,{duration:300},!0)),D.run(1))}),U=!0)},o(M){M&&(D||(D=we(e,Ae,{duration:300},!1)),D.run(0)),U=!1},d(M){M&&c(e),M&&D&&D.end(),Q=!1,te()}}}function Xt(i){let e,n="✓";return{c(){e=_("span"),e.textContent=n,this.h()},l(t){e=p(t,"SPAN",{class:!0,"data-svelte-h":!0}),Me(e)!=="svelte-1nziqar"&&(e.textContent=n),this.h()},h(){o(e,"class","text-green-600 text-xs ml-2")},m(t,l){C(t,e,l)},d(t){t&&c(e)}}}function Qt(i){let e,n,t,l,s;function r(){return i[43](i[53])}return{c(){e=_("button"),n=S(i[53]),t=S(` TND\r
                  `),this.h()},l(a){e=p(a,"BUTTON",{type:!0,class:!0});var d=h(e);n=j(d,i[53]),t=j(d,` TND\r
                  `),d.forEach(c),this.h()},h(){o(e,"type","button"),o(e,"class","px-2 py-2 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium text-gray-700")},m(a,d){C(a,e,d),u(e,n),u(e,t),l||(s=pe(e,"click",r),l=!0)},p(a,d){i=a},d(a){a&&c(e),l=!1,s()}}}function Yt(i){let e,n=i[6].amount+"",t;return{c(){e=_("p"),t=S(n),this.h()},l(l){e=p(l,"P",{class:!0});var s=h(e);t=j(s,n),s.forEach(c),this.h()},h(){o(e,"class","text-red-500 text-sm mt-2")},m(l,s){C(l,e,s),u(e,t)},p(l,s){s[0]&64&&n!==(n=l[6].amount+"")&&Y(t,n)},d(l){l&&c(e)}}}function Jt(i){let e,n,t=`Continue to Review
                    <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg>`,l,s,r,a;return{c(){e=_("div"),n=_("button"),n.innerHTML=t,this.h()},l(d){e=p(d,"DIV",{class:!0});var f=h(e);n=p(f,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Me(n)!=="svelte-spfafe"&&(n.innerHTML=t),f.forEach(c),this.h()},h(){o(n,"type","button"),o(n,"class","px-4 py-2 bg-gradient-to-r from-red-600 to-pink-600 text-white rounded-lg hover:from-red-700 hover:to-pink-700 transition-all duration-200 shadow-md hover:shadow-lg text-sm font-medium flex items-center"),o(e,"class","mt-4 flex justify-end")},m(d,f){C(d,e,f),u(e,n),s=!0,r||(a=pe(n,"click",i[18]),r=!0)},p:tt,i(d){s||(d&&je(()=>{s&&(l||(l=we(e,Ae,{duration:200},!0)),l.run(1))}),s=!0)},o(d){d&&(l||(l=we(e,Ae,{duration:200},!1)),l.run(0)),s=!1},d(d){d&&c(e),d&&l&&l.end(),r=!1,a()}}}function Zt(i){let e,n="✓";return{c(){e=_("span"),e.textContent=n,this.h()},l(t){e=p(t,"SPAN",{class:!0,"data-svelte-h":!0}),Me(e)!=="svelte-1nziqar"&&(e.textContent=n),this.h()},h(){o(e,"class","text-green-600 text-xs ml-2")},m(t,l){C(t,e,l)},d(t){t&&c(e)}}}function $t(i){let e,n=i[6].date+"",t;return{c(){e=_("p"),t=S(n),this.h()},l(l){e=p(l,"P",{class:!0});var s=h(e);t=j(s,n),s.forEach(c),this.h()},h(){o(e,"class","text-red-500 text-sm mt-2")},m(l,s){C(l,e,s),u(e,t)},p(l,s){s[0]&64&&n!==(n=l[6].date+"")&&Y(t,n)},d(l){l&&c(e)}}}function el(i){let e,n,t,l,s,r,a,d=i[13]("finance.expense.review_title")+"",f,g,b,w,I,x=i[13]("finance.expense.category")+"",L,T,v,O,D=i[16](i[0].category)+"",U,Q,te,M,H=i[15](i[0].category)+"",W,ue,ne,me,$=i[13]("finance.expense.amount")+"",ce,be,re,ge=$e(i[0].amount)+"",Ve,Ce,ie,Z,K,ee=i[13]("finance.expense.description")+"",J,Ee,xe,fe=i[0].label+"",ke,de,se,G,q=i[13]("finance.expense.date")+"",k,N,m,z=new Date(i[0].date).toLocaleDateString()+"",ve,he,oe,R,y=i[0].description&&tl(i);return{c(){e=_("div"),n=_("div"),t=_("h3"),l=Ie("svg"),s=Ie("path"),a=B(),f=S(d),g=B(),b=_("div"),w=_("div"),I=_("p"),L=S(x),T=B(),v=_("div"),O=_("span"),U=S(D),te=B(),M=_("span"),W=S(H),ue=B(),ne=_("div"),me=_("p"),ce=S($),be=B(),re=_("p"),Ve=S(ge),Ce=S(" TND"),ie=B(),Z=_("div"),K=_("p"),J=S(ee),Ee=B(),xe=_("p"),ke=S(fe),de=B(),se=_("div"),G=_("p"),k=S(q),N=B(),m=_("p"),ve=S(z),he=B(),y&&y.c(),this.h()},l(E){e=p(E,"DIV",{class:!0});var V=h(e);n=p(V,"DIV",{class:!0});var le=h(n);t=p(le,"H3",{class:!0});var P=h(t);l=De(P,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var F=h(l);s=De(F,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(s).forEach(c),F.forEach(c),a=A(P),f=j(P,d),P.forEach(c),g=A(le),b=p(le,"DIV",{class:!0});var X=h(b);w=p(X,"DIV",{});var Se=h(w);I=p(Se,"P",{class:!0});var Be=h(I);L=j(Be,x),Be.forEach(c),T=A(Se),v=p(Se,"DIV",{class:!0});var Le=h(v);O=p(Le,"SPAN",{class:!0});var Oe=h(O);U=j(Oe,D),Oe.forEach(c),te=A(Le),M=p(Le,"SPAN",{class:!0});var Ue=h(M);W=j(Ue,H),Ue.forEach(c),Le.forEach(c),Se.forEach(c),ue=A(X),ne=p(X,"DIV",{});var Ke=h(ne);me=p(Ke,"P",{class:!0});var ze=h(me);ce=j(ze,$),ze.forEach(c),be=A(Ke),re=p(Ke,"P",{class:!0});var Ge=h(re);Ve=j(Ge,ge),Ce=j(Ge," TND"),Ge.forEach(c),Ke.forEach(c),ie=A(X),Z=p(X,"DIV",{});var We=h(Z);K=p(We,"P",{class:!0});var Ye=h(K);J=j(Ye,ee),Ye.forEach(c),Ee=A(We),xe=p(We,"P",{class:!0});var Xe=h(xe);ke=j(Xe,fe),Xe.forEach(c),We.forEach(c),de=A(X),se=p(X,"DIV",{});var Je=h(se);G=p(Je,"P",{class:!0});var lt=h(G);k=j(lt,q),lt.forEach(c),N=A(Je),m=p(Je,"P",{class:!0});var rt=h(m);ve=j(rt,z),rt.forEach(c),Je.forEach(c),he=A(X),y&&y.l(X),X.forEach(c),le.forEach(c),V.forEach(c),this.h()},h(){o(s,"stroke-linecap","round"),o(s,"stroke-linejoin","round"),o(s,"stroke-width","2"),o(s,"d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"),o(l,"class",r="w-5 h-5 text-red-600 "+(i[2]?"ml-2":"mr-2")),o(l,"fill","none"),o(l,"stroke","currentColor"),o(l,"viewBox","0 0 24 24"),o(t,"class","text-lg font-semibold text-gray-900 mb-4 flex items-center"),o(I,"class","text-sm text-gray-500 mb-1"),o(O,"class",Q="text-2xl "+(i[2]?"ml-2":"mr-2")),o(M,"class","font-semibold text-gray-900"),o(v,"class","flex items-center"),o(me,"class","text-sm text-gray-500 mb-1"),o(re,"class","text-2xl font-bold text-red-600"),o(K,"class","text-sm text-gray-500 mb-1"),o(xe,"class","font-medium text-gray-900"),o(G,"class","text-sm text-gray-500 mb-1"),o(m,"class","font-medium text-gray-900"),o(b,"class","grid grid-cols-1 md:grid-cols-2 gap-6"),o(n,"class","bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl p-6"),o(e,"class","space-y-6")},m(E,V){C(E,e,V),u(e,n),u(n,t),u(t,l),u(l,s),u(t,a),u(t,f),u(n,g),u(n,b),u(b,w),u(w,I),u(I,L),u(w,T),u(w,v),u(v,O),u(O,U),u(v,te),u(v,M),u(M,W),u(b,ue),u(b,ne),u(ne,me),u(me,ce),u(ne,be),u(ne,re),u(re,Ve),u(re,Ce),u(b,ie),u(b,Z),u(Z,K),u(K,J),u(Z,Ee),u(Z,xe),u(xe,ke),u(b,de),u(b,se),u(se,G),u(G,k),u(se,N),u(se,m),u(m,ve),u(b,he),y&&y.m(b,null),R=!0},p(E,V){(!R||V[0]&4&&r!==(r="w-5 h-5 text-red-600 "+(E[2]?"ml-2":"mr-2")))&&o(l,"class",r),(!R||V[0]&8192)&&d!==(d=E[13]("finance.expense.review_title")+"")&&Y(f,d),(!R||V[0]&8192)&&x!==(x=E[13]("finance.expense.category")+"")&&Y(L,x),(!R||V[0]&1)&&D!==(D=E[16](E[0].category)+"")&&Y(U,D),(!R||V[0]&4&&Q!==(Q="text-2xl "+(E[2]?"ml-2":"mr-2")))&&o(O,"class",Q),(!R||V[0]&1)&&H!==(H=E[15](E[0].category)+"")&&Y(W,H),(!R||V[0]&8192)&&$!==($=E[13]("finance.expense.amount")+"")&&Y(ce,$),(!R||V[0]&1)&&ge!==(ge=$e(E[0].amount)+"")&&Y(Ve,ge),(!R||V[0]&8192)&&ee!==(ee=E[13]("finance.expense.description")+"")&&Y(J,ee),(!R||V[0]&1)&&fe!==(fe=E[0].label+"")&&Y(ke,fe),(!R||V[0]&8192)&&q!==(q=E[13]("finance.expense.date")+"")&&Y(k,q),(!R||V[0]&1)&&z!==(z=new Date(E[0].date).toLocaleDateString()+"")&&Y(ve,z),E[0].description?y?y.p(E,V):(y=tl(E),y.c(),y.m(b,null)):y&&(y.d(1),y=null)},i(E){R||(E&&je(()=>{R&&(oe||(oe=we(e,Qe,{duration:300},!0)),oe.run(1))}),R=!0)},o(E){E&&(oe||(oe=we(e,Qe,{duration:300},!1)),oe.run(0)),R=!1},d(E){E&&c(e),y&&y.d(),E&&oe&&oe.end()}}}function tl(i){let e,n,t=i[13]("finance.expense.notes")+"",l,s,r,a=i[0].description+"",d;return{c(){e=_("div"),n=_("p"),l=S(t),s=B(),r=_("p"),d=S(a),this.h()},l(f){e=p(f,"DIV",{class:!0});var g=h(e);n=p(g,"P",{class:!0});var b=h(n);l=j(b,t),b.forEach(c),s=A(g),r=p(g,"P",{class:!0});var w=h(r);d=j(w,a),w.forEach(c),g.forEach(c),this.h()},h(){o(n,"class","text-sm text-gray-500 mb-1"),o(r,"class","text-gray-700"),o(e,"class","md:col-span-2")},m(f,g){C(f,e,g),u(e,n),u(n,l),u(e,s),u(e,r),u(r,d)},p(f,g){g[0]&8192&&t!==(t=f[13]("finance.expense.notes")+"")&&Y(l,t),g[0]&1&&a!==(a=f[0].description+"")&&Y(d,a)},d(f){f&&c(e)}}}function Ol(i){let e;return{c(){e=_("div")},l(n){e=p(n,"DIV",{}),h(e).forEach(c)},m(n,t){C(n,e,t)},p:tt,d(n){n&&c(e)}}}function Ul(i){let e,n,t,l,s,r=i[13]("common.actions.previous")+"",a,d,f;return{c(){e=_("button"),n=Ie("svg"),t=Ie("path"),s=B(),a=S(r),this.h()},l(g){e=p(g,"BUTTON",{type:!0,class:!0});var b=h(e);n=De(b,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var w=h(n);t=De(w,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(t).forEach(c),w.forEach(c),s=A(b),a=j(b,r),b.forEach(c),this.h()},h(){o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"stroke-width","2"),o(t,"d","M10 19l-7-7m0 0l7-7m-7 7h18"),o(n,"class",l="w-4 h-4 "+(i[2]?"ml-2":"mr-2")),o(n,"fill","none"),o(n,"stroke","currentColor"),o(n,"viewBox","0 0 24 24"),o(e,"type","button"),o(e,"class","px-6 py-3 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors font-medium flex items-center")},m(g,b){C(g,e,b),u(e,n),u(n,t),u(e,s),u(e,a),d||(f=pe(e,"click",i[19]),d=!0)},p(g,b){b[0]&4&&l!==(l="w-4 h-4 "+(g[2]?"ml-2":"mr-2"))&&o(n,"class",l),b[0]&8192&&r!==(r=g[13]("common.actions.previous")+"")&&Y(a,r)},d(g){g&&c(e),d=!1,f()}}}function Hl(i){let e,n;function t(r,a){return r[3]?ql:Fl}let l=t(i),s=l(i);return{c(){e=_("button"),s.c(),this.h()},l(r){e=p(r,"BUTTON",{type:!0,class:!0});var a=h(e);s.l(a),a.forEach(c),this.h()},h(){o(e,"type","submit"),e.disabled=n=i[3]||!i[17](),o(e,"class","px-8 py-3 bg-gradient-to-r from-red-600 to-pink-600 text-white rounded-xl hover:from-red-700 hover:to-pink-700 transition-all duration-200 shadow-lg hover:shadow-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center")},m(r,a){C(r,e,a),s.m(e,null)},p(r,a){l===(l=t(r))&&s?s.p(r,a):(s.d(1),s=l(r),s&&(s.c(),s.m(e,null))),a[0]&8&&n!==(n=r[3]||!r[17]())&&(e.disabled=n)},d(r){r&&c(e),s.d()}}}function Rl(i){let e,n,t=i[13]("common.actions.next")+"",l,s,r,a,d,f,g;return{c(){e=_("button"),n=_("span"),l=S(t),s=B(),r=Ie("svg"),a=Ie("path"),this.h()},l(b){e=p(b,"BUTTON",{type:!0,class:!0});var w=h(e);n=p(w,"SPAN",{});var I=h(n);l=j(I,t),I.forEach(c),s=A(w),r=De(w,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var x=h(r);a=De(x,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(a).forEach(c),x.forEach(c),w.forEach(c),this.h()},h(){o(a,"stroke-linecap","round"),o(a,"stroke-linejoin","round"),o(a,"stroke-width","2"),o(a,"d","M14 5l7 7m0 0l-7 7m7-7H3"),o(r,"class",d="w-4 h-4 "+(i[2]?"mr-2":"ml-2")+" group-hover:translate-x-1 transition-transform duration-200"),o(r,"fill","none"),o(r,"stroke","currentColor"),o(r,"viewBox","0 0 24 24"),o(e,"type","button"),e.disabled=!i[20](),o(e,"class","px-8 py-3 bg-gradient-to-r from-red-600 to-pink-600 text-white rounded-xl hover:from-red-700 hover:to-pink-700 transition-all duration-200 shadow-lg hover:shadow-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center group")},m(b,w){C(b,e,w),u(e,n),u(n,l),u(e,s),u(e,r),u(r,a),f||(g=pe(e,"click",i[18]),f=!0)},p(b,w){w[0]&8192&&t!==(t=b[13]("common.actions.next")+"")&&Y(l,t),w[0]&4&&d!==(d="w-4 h-4 "+(b[2]?"mr-2":"ml-2")+" group-hover:translate-x-1 transition-transform duration-200")&&o(r,"class",d)},d(b){b&&c(e),f=!1,g()}}}function Fl(i){let e,n,t,l,s,r=i[13]("finance.expense.add_button")+"",a;return{c(){e=Ie("svg"),n=Ie("path"),l=B(),s=_("span"),a=S(r),this.h()},l(d){e=De(d,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var f=h(e);n=De(f,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(n).forEach(c),f.forEach(c),l=A(d),s=p(d,"SPAN",{});var g=h(s);a=j(g,r),g.forEach(c),this.h()},h(){o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"stroke-width","2"),o(n,"d","M12 6v6m0 0v6m0-6h6m-6 0H6"),o(e,"class",t="w-4 h-4 "+(i[2]?"ml-2":"mr-2")),o(e,"fill","none"),o(e,"stroke","currentColor"),o(e,"viewBox","0 0 24 24")},m(d,f){C(d,e,f),u(e,n),C(d,l,f),C(d,s,f),u(s,a)},p(d,f){f[0]&4&&t!==(t="w-4 h-4 "+(d[2]?"ml-2":"mr-2"))&&o(e,"class",t),f[0]&8192&&r!==(r=d[13]("finance.expense.add_button")+"")&&Y(a,r)},d(d){d&&(c(e),c(l),c(s))}}}function ql(i){let e,n,t,l,s,r,a=i[13]("finance.expense.adding")+"",d;return{c(){e=Ie("svg"),n=Ie("circle"),t=Ie("path"),s=B(),r=_("span"),d=S(a),this.h()},l(f){e=De(f,"svg",{class:!0,fill:!0,viewBox:!0});var g=h(e);n=De(g,"circle",{class:!0,cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0}),h(n).forEach(c),t=De(g,"path",{class:!0,fill:!0,d:!0}),h(t).forEach(c),g.forEach(c),s=A(f),r=p(f,"SPAN",{});var b=h(r);d=j(b,a),b.forEach(c),this.h()},h(){o(n,"class","opacity-25"),o(n,"cx","12"),o(n,"cy","12"),o(n,"r","10"),o(n,"stroke","currentColor"),o(n,"stroke-width","4"),o(t,"class","opacity-75"),o(t,"fill","currentColor"),o(t,"d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"),o(e,"class",l="animate-spin w-4 h-4 "+(i[2]?"ml-2":"mr-2")),o(e,"fill","none"),o(e,"viewBox","0 0 24 24")},m(f,g){C(f,e,g),u(e,n),u(e,t),C(f,s,g),C(f,r,g),u(r,d)},p(f,g){g[0]&4&&l!==(l="animate-spin w-4 h-4 "+(f[2]?"ml-2":"mr-2"))&&o(e,"class",l),g[0]&8192&&a!==(a=f[13]("finance.expense.adding")+"")&&Y(d,a)},d(f){f&&(c(e),c(s),c(r))}}}function ll(i){let e,n,t,l;function s(){return i[46](i[50])}return{c(){e=_("button"),this.h()},l(r){e=p(r,"BUTTON",{type:!0,class:!0,"aria-label":!0}),h(e).forEach(c),this.h()},h(){o(e,"type","button"),o(e,"class",n="w-3 h-3 mx-1 rounded-full transition-all duration-300 "+(i[5]===i[50]?"bg-red-500 scale-125":i[5]>i[50]?"bg-green-500":"bg-gray-300")),o(e,"aria-label","Go to step "+i[50])},m(r,a){C(r,e,a),t||(l=pe(e,"click",s),t=!0)},p(r,a){i=r,a[0]&32&&n!==(n="w-3 h-3 mx-1 rounded-full transition-all duration-300 "+(i[5]===i[50]?"bg-red-500 scale-125":i[5]>i[50]?"bg-green-500":"bg-gray-300"))&&o(e,"class",n)},d(r){r&&c(e),t=!1,l()}}}function zl(i){let e,n,t,l;const s=[vl,pl],r=[];function a(d,f){return d[7]?0:1}return t=a(i),l=r[t]=s[t](i),{c(){e=_("div"),n=_("div"),l.c(),this.h()},l(d){e=p(d,"DIV",{class:!0,style:!0});var f=h(e);n=p(f,"DIV",{class:!0});var g=h(n);l.l(g),g.forEach(c),f.forEach(c),this.h()},h(){o(n,"class","bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 overflow-hidden"),o(e,"class","bg-gradient-to-br from-red-50 via-pink-50 to-rose-50 rounded-2xl p-1"),ye(e,"direction",i[12])},m(d,f){C(d,e,f),u(e,n),r[t].m(n,null)},p(d,f){let g=t;t=a(d),t===g?r[t].p(d,f):(Fe(),Ne(r[g],1,1,()=>{r[g]=null}),qe(),l=r[t],l?l.p(d,f):(l=r[t]=s[t](d),l.c()),_e(l,1),l.m(n,null)),f[0]&4096&&ye(e,"direction",d[12])},i(d){_e(l)},o(d){Ne(l)},d(d){d&&c(e),r[t].d()}}}let He=3;function $e(i){return i?new Intl.NumberFormat("ar-TN",{style:"decimal",minimumFractionDigits:3,maximumFractionDigits:3}).format(i):"0.000"}function Wl(i,e,n){let t,l,s,r,a,d;nt(i,hl,m=>n(13,a=m)),nt(i,_l,m=>n(23,d=m));let{expense:f={category:"",label:"",amount:"",date:new Date().toISOString().split("T")[0],description:""}}=e;const g=sl();let b=!1,w=null,I=1,x={},L=!1,T=!1,v="",O=!1;const D=[{id:"WATER",icon:"💧",color:"blue"},{id:"ELECTRICITY",icon:"⚡",color:"yellow"},{id:"TRANSPORT",icon:"🚗",color:"green"},{id:"RENT",icon:"🏠",color:"purple"},{id:"SUPPLIES",icon:"📦",color:"orange"},{id:"MAINTENANCE",icon:"🔧",color:"gray"},{id:"SALARIES",icon:"💼",color:"indigo"},{id:"INSURANCE",icon:"🛡️",color:"teal"},{id:"TAXES",icon:"📊",color:"red"},{id:"MARKETING",icon:"📢",color:"pink"},{id:"OTHER",icon:"📝",color:"slate"}];function U(m){if(!m||typeof m!="string")return"Unknown Category";const z=m.charAt(0).toUpperCase()+m.slice(1).toLowerCase().replace("_"," ");return a(`finance.categories.${m.toLowerCase()}`,z)}function Q(m){const z=D.find(ve=>ve.id===m);return z?z.icon:"📝"}function te(){let m={};return f.category||(m.category=a("finance.validation.category_required")),(!f.label||f.label.trim().length<3)&&(m.label=a("finance.validation.description_required")),(!f.amount||parseFloat(f.amount)<=0)&&(m.amount=a("finance.validation.amount_required")),f.date||(m.date=a("finance.validation.date_required")),n(6,x=m),Object.keys(m).length===0}function M(){W()&&n(5,I=Math.min(I+1,He))}function H(){n(5,I=Math.max(I-1,1))}function W(){switch(I){case 1:const m=f.category&&f.category.trim()!=="",z=f.label&&f.label.trim().length>=3;return m&&z;case 2:const ve=f.amount&&parseFloat(f.amount)>0,he=f.date&&f.date.trim()!=="";return ve&&he;case 3:return te();default:return!0}}function ue(m){n(0,f.category=m,f),n(9,O=!1),n(1,v=""),x.category&&(n(6,x={...x}),delete x.category),f.label&&f.label.trim().length>=3&&M()}async function ne(){try{if(!te()){et(a("finance.validation.fix_errors"),"error");return}n(3,b=!0),n(4,w=null);const m=ol(dl);if(!m||!m.id)throw new Error(a("finance.validation.login_required"));const z=await fl.createExpense({...f,amount:parseFloat(f.amount),userId:m.id});if(z.success)n(7,L=!0),et(a("finance.expense.success"),"success"),setTimeout(()=>{n(7,L=!1),g("submit",z.data),n(0,f={category:"",label:"",amount:"",date:new Date().toISOString().split("T")[0],description:""}),n(5,I=1),n(6,x={})},2e3);else throw new Error(z.error||a("finance.expense.error"))}catch(m){n(4,w=m.message),et(w,"error")}finally{n(3,b=!1)}}const me=m=>ue(m.id),$=()=>n(9,O=!O);function ce(){v=this.value,n(1,v)}const be=m=>ue(m.id);function re(){f.label=this.value,n(0,f)}const ge=m=>n(0,f.label=m,f),Ve=m=>n(0,f.label=m,f),Ce=m=>n(0,f.label=m,f),ie=m=>n(0,f.label=m,f),Z=m=>n(0,f.label=m,f),K=m=>n(0,f.label=m,f),ee=m=>n(0,f.label=m,f),J=m=>n(0,f.label=m,f),Ee=m=>n(0,f.label=m,f),xe=m=>n(0,f.label=m,f),fe=m=>n(0,f.label=m,f);function ke(){f.amount=rl(this.value),n(0,f)}const de=()=>n(8,T=!0),se=()=>n(8,T=!1),G=m=>n(0,f.amount=m,f);function q(){f.date=this.value,n(0,f)}function k(){f.description=this.value,n(0,f)}const N=m=>{m<I?n(5,I=m):W()&&m===I+1&&M()};return i.$$set=m=>{"expense"in m&&n(0,f=m.expense)},i.$$.update=()=>{i.$$.dirty[0]&8388608&&n(2,t=d.code==="ar"),i.$$.dirty[0]&4&&n(12,l=t?"rtl":"ltr"),i.$$.dirty[0]&4&&n(11,s=t?"right":"left"),i.$$.dirty[0]&2&&n(10,r=D.filter(m=>U(m.id).toLowerCase().includes(v.toLowerCase())))},[f,v,t,b,w,I,x,L,T,O,r,s,l,a,D,U,Q,te,M,H,W,ue,ne,d,me,$,ce,be,re,ge,Ve,Ce,ie,Z,K,ee,J,Ee,xe,fe,ke,de,se,G,q,k,N]}class er extends ul{constructor(e){super(),cl(this,e,Wl,zl,il,{expense:0},null,[-1,-1,-1])}}export{er as E};
