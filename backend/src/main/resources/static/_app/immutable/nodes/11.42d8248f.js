import{s as Tt,a as E,f as i,l as O,F as _e,J as Nt,d as o,c as D,g as d,h as u,y as oe,m as S,G as ge,j as s,N as Ce,x as lt,i as we,w as e,O as bt,z as xt,n as Y,H as Ht,u as yt,o as Mt,t as Pt,A as Je,P as jt,L as Bt,I as He}from"../chunks/scheduler.fb6ad399.js";import{S as Ot,i as St,a as me,t as Ee,c as tt,f as We,g as st}from"../chunks/index.19f0e15d.js";import{e as kt}from"../chunks/each.eb6105d2.js";import{c as Ft,b as Ct}from"../chunks/api.b4688d57.js";import{s as Ue,l as Ne}from"../chunks/navigation.68a3d764.js";import"../chunks/index.c6708bed.js";import{c as Et,a as Ye}from"../chunks/index.548ee1c0.js";import{f as zt}from"../chunks/index.7c030542.js";function Dt(n,l,a){const v=n.slice();return v[14]=l[a],v[16]=a,v}function It(n){let l,a,v,w,x=n[7]("clients.details.actions.create_cession")+"",p,g;return{c(){l=i("a"),a=_e("svg"),v=_e("path"),w=E(),p=O(x),this.h()},l(m){l=d(m,"A",{href:!0,class:!0});var c=u(l);a=ge(c,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var V=u(a);v=ge(V,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),u(v).forEach(o),V.forEach(o),w=D(c),p=S(c,x),c.forEach(o),this.h()},h(){s(v,"stroke-linecap","round"),s(v,"stroke-linejoin","round"),s(v,"stroke-width","2"),s(v,"d","M12 6v6m0 0v6m0-6h6m-6 0H6"),s(a,"class","w-4 h-4 mr-2"),s(a,"fill","none"),s(a,"stroke","currentColor"),s(a,"viewBox","0 0 24 24"),s(l,"href",g=`/cessions/new?clientId=${n[0].id}`),s(l,"class","flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl hover:from-purple-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl font-medium")},m(m,c){we(m,l,c),e(l,a),e(a,v),e(l,w),e(l,p)},p(m,c){c&128&&x!==(x=m[7]("clients.details.actions.create_cession")+"")&&Y(p,x),c&1&&g!==(g=`/cessions/new?clientId=${m[0].id}`)&&s(l,"href",g)},d(m){m&&o(l)}}}function Vt(n){let l,a,v=n[7]("clients.details.client_info")+"",w,x,p,g,m,c=n[7]("clients.details.personal_info.full_name")+"",V,f,_,h=n[5].fullName+"",L,T,r,k,R=n[7]("clients.details.personal_info.cin")+"",N,P,H,M=n[5].cin+"",se,Q,J,j,q="Worker Number",I,b,ee=(n[5].workerNumber||"N/A")+"",X,F,B;return{c(){l=i("div"),a=i("h2"),w=O(v),x=E(),p=i("div"),g=i("div"),m=i("p"),V=O(c),f=E(),_=i("p"),L=O(h),T=E(),r=i("div"),k=i("p"),N=O(R),P=E(),H=i("p"),se=O(M),Q=E(),J=i("div"),j=i("p"),j.textContent=q,I=E(),b=i("p"),X=O(ee),this.h()},l(C){l=d(C,"DIV",{class:!0});var A=u(l);a=d(A,"H2",{class:!0});var Z=u(a);w=S(Z,v),Z.forEach(o),x=D(A),p=d(A,"DIV",{class:!0});var te=u(p);g=d(te,"DIV",{class:!0});var K=u(g);m=d(K,"P",{class:!0});var xe=u(m);V=S(xe,c),xe.forEach(o),f=D(K),_=d(K,"P",{class:!0});var ne=u(_);L=S(ne,h),ne.forEach(o),K.forEach(o),T=D(te),r=d(te,"DIV",{class:!0});var G=u(r);k=d(G,"P",{class:!0});var le=u(k);N=S(le,R),le.forEach(o),P=D(G),H=d(G,"P",{class:!0});var De=u(H);se=S(De,M),De.forEach(o),G.forEach(o),Q=D(te),J=d(te,"DIV",{class:!0});var $=u(J);j=d($,"P",{class:!0,"data-svelte-h":!0}),oe(j)!=="svelte-nl5ve4"&&(j.textContent=q),I=D($),b=d($,"P",{class:!0});var Ie=u(b);X=S(Ie,ee),Ie.forEach(o),$.forEach(o),te.forEach(o),A.forEach(o),this.h()},h(){s(a,"class","text-lg font-medium bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent mb-4"),s(m,"class","text-sm font-medium text-purple-600"),s(_,"class","font-medium text-gray-900 mt-1"),s(g,"class","bg-white/60 p-4 rounded-xl shadow-sm"),s(k,"class","text-sm font-medium text-purple-600"),s(H,"class","font-medium text-gray-900 mt-1"),s(r,"class","bg-white/60 p-4 rounded-xl shadow-sm"),s(j,"class","text-sm font-medium text-purple-600"),s(b,"class","font-medium text-gray-900 mt-1"),s(J,"class","bg-white/60 p-4 rounded-xl shadow-sm"),s(p,"class","grid grid-cols-1 md:grid-cols-3 gap-6"),s(l,"class","bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6 mb-8")},m(C,A){we(C,l,A),e(l,a),e(a,w),e(l,x),e(l,p),e(p,g),e(g,m),e(m,V),e(g,f),e(g,_),e(_,L),e(p,T),e(p,r),e(r,k),e(k,N),e(r,P),e(r,H),e(H,se),e(p,Q),e(p,J),e(J,j),e(J,I),e(J,b),e(b,X),B=!0},p(C,A){(!B||A&128)&&v!==(v=C[7]("clients.details.client_info")+"")&&Y(w,v),(!B||A&128)&&c!==(c=C[7]("clients.details.personal_info.full_name")+"")&&Y(V,c),(!B||A&32)&&h!==(h=C[5].fullName+"")&&Y(L,h),(!B||A&128)&&R!==(R=C[7]("clients.details.personal_info.cin")+"")&&Y(N,R),(!B||A&32)&&M!==(M=C[5].cin+"")&&Y(se,M),(!B||A&32)&&ee!==(ee=(C[5].workerNumber||"N/A")+"")&&Y(X,ee)},i(C){B||(C&&lt(()=>{B&&(F||(F=We(l,Ye,{y:20,duration:300,easing:Et},!0)),F.run(1))}),B=!0)},o(C){C&&(F||(F=We(l,Ye,{y:20,duration:300,easing:Et},!1)),F.run(0)),B=!1},d(C){C&&o(l),C&&F&&F.end()}}}function Rt(n){let l,a,v,w='<tr><th class="py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ID</th> <th class="py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Start Date</th> <th class="py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Amount</th> <th class="py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th> <th class="py-3 px-4 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th></tr>',x,p,g,m=kt(n[4]),c=[];for(let f=0;f<m.length;f+=1)c[f]=At(Dt(n,m,f));const V=f=>Ee(c[f],1,1,()=>{c[f]=null});return{c(){l=i("div"),a=i("table"),v=i("thead"),v.innerHTML=w,x=E(),p=i("tbody");for(let f=0;f<c.length;f+=1)c[f].c();this.h()},l(f){l=d(f,"DIV",{class:!0});var _=u(l);a=d(_,"TABLE",{class:!0});var h=u(a);v=d(h,"THEAD",{class:!0,"data-svelte-h":!0}),oe(v)!=="svelte-1tuo9d4"&&(v.innerHTML=w),x=D(h),p=d(h,"TBODY",{class:!0});var L=u(p);for(let T=0;T<c.length;T+=1)c[T].l(L);L.forEach(o),h.forEach(o),_.forEach(o),this.h()},h(){s(v,"class","bg-gray-50/80 backdrop-blur-sm"),s(p,"class","divide-y divide-gray-200"),s(a,"class","min-w-full bg-white/80 backdrop-blur-sm rounded-lg overflow-hidden"),s(l,"class","p-4 overflow-x-auto")},m(f,_){we(f,l,_),e(l,a),e(a,v),e(a,x),e(a,p);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(p,null);g=!0},p(f,_){if(_&272){m=kt(f[4]);let h;for(h=0;h<m.length;h+=1){const L=Dt(f,m,h);c[h]?(c[h].p(L,_),me(c[h],1)):(c[h]=At(L),c[h].c(),me(c[h],1),c[h].m(p,null))}for(st(),h=m.length;h<c.length;h+=1)V(h);tt()}},i(f){if(!g){for(let _=0;_<m.length;_+=1)me(c[_]);g=!0}},o(f){c=c.filter(Boolean);for(let _=0;_<c.length;_+=1)Ee(c[_]);g=!1},d(f){f&&o(l),Bt(c,f)}}}function qt(n){let l,a,v='<svg class="w-10 h-10 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>',w,x,p,g=n[2]||n[3]!=="all"?"Try different filters or ":"",m,c,V,f,_,h,L,T;return{c(){l=i("div"),a=i("div"),a.innerHTML=v,w=E(),x=i("p"),p=O("No cessions found. "),m=O(g),c=O(`\r
          Add a new cession to get started.`),V=E(),f=i("a"),_=_e("svg"),h=_e("path"),L=O(`\r
          Create New Cession`),this.h()},l(r){l=d(r,"DIV",{class:!0});var k=u(l);a=d(k,"DIV",{class:!0,"data-svelte-h":!0}),oe(a)!=="svelte-10x2qv3"&&(a.innerHTML=v),w=D(k),x=d(k,"P",{class:!0});var R=u(x);p=S(R,"No cessions found. "),m=S(R,g),c=S(R,`\r
          Add a new cession to get started.`),R.forEach(o),V=D(k),f=d(k,"A",{href:!0,class:!0});var N=u(f);_=ge(N,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var P=u(_);h=ge(P,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),u(h).forEach(o),P.forEach(o),L=S(N,`\r
          Create New Cession`),N.forEach(o),k.forEach(o),this.h()},h(){s(a,"class","w-20 h-20 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center"),s(x,"class","text-gray-600 font-medium"),s(h,"stroke-linecap","round"),s(h,"stroke-linejoin","round"),s(h,"stroke-width","2"),s(h,"d","M12 6v6m0 0v6m0-6h6m-6 0H6"),s(_,"class","w-4 h-4 mr-1"),s(_,"fill","none"),s(_,"stroke","currentColor"),s(_,"viewBox","0 0 24 24"),s(f,"href",T=`/cessions/new?clientId=${n[0].id}`),s(f,"class","inline-flex items-center px-4 py-2 mt-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl hover:from-purple-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl font-medium text-sm"),s(l,"class","text-center py-16")},m(r,k){we(r,l,k),e(l,a),e(l,w),e(l,x),e(x,p),e(x,m),e(x,c),e(l,V),e(l,f),e(f,_),e(_,h),e(f,L)},p(r,k){k&12&&g!==(g=r[2]||r[3]!=="all"?"Try different filters or ":"")&&Y(m,g),k&1&&T!==(T=`/cessions/new?clientId=${r[0].id}`)&&s(f,"href",T)},i:He,o:He,d(r){r&&o(l)}}}function Gt(n){let l,a='<div class="relative"><div class="w-12 h-12 border-4 border-purple-200 rounded-full animate-spin"></div> <div class="absolute top-0 left-0 w-12 h-12 border-4 border-purple-600 rounded-full animate-spin border-t-transparent"></div></div>';return{c(){l=i("div"),l.innerHTML=a,this.h()},l(v){l=d(v,"DIV",{class:!0,"data-svelte-h":!0}),oe(l)!=="svelte-1nd8jt2"&&(l.innerHTML=a),this.h()},h(){s(l,"class","flex justify-center items-center py-16")},m(v,w){we(v,l,w)},p:He,i:He,o:He,d(v){v&&o(l)}}}function At(n){let l,a,v=n[14].id+"",w,x,p,g,m=n[8](n[14].startDate)+"",c,V,f,_=Lt(n[14].totalLoanAmount)+"",h,L,T,r,k=n[14].status+"",R,N,P,H,M,se,Q,J,j,q;return{c(){l=i("tr"),a=i("td"),w=O(v),x=E(),p=i("td"),g=i("span"),c=O(m),V=E(),f=i("td"),h=O(_),L=E(),T=i("td"),r=i("span"),R=O(k),P=E(),H=i("td"),M=i("a"),se=O("View Details"),J=E(),this.h()},l(I){l=d(I,"TR",{class:!0});var b=u(l);a=d(b,"TD",{class:!0});var ee=u(a);w=S(ee,v),ee.forEach(o),x=D(b),p=d(b,"TD",{class:!0});var X=u(p);g=d(X,"SPAN",{dir:!0});var F=u(g);c=S(F,m),F.forEach(o),X.forEach(o),V=D(b),f=d(b,"TD",{class:!0});var B=u(f);h=S(B,_),B.forEach(o),L=D(b),T=d(b,"TD",{class:!0});var C=u(T);r=d(C,"SPAN",{class:!0});var A=u(r);R=S(A,k),A.forEach(o),C.forEach(o),P=D(b),H=d(b,"TD",{class:!0});var Z=u(H);M=d(Z,"A",{href:!0,class:!0});var te=u(M);se=S(te,"View Details"),te.forEach(o),Z.forEach(o),J=D(b),b.forEach(o),this.h()},h(){s(a,"class","py-4 px-4 whitespace-nowrap text-sm font-medium text-gray-900"),s(g,"dir","ltr"),s(p,"class","py-4 px-4 whitespace-nowrap text-sm text-gray-700"),s(f,"class","py-4 px-4 whitespace-nowrap text-sm text-gray-700 font-medium"),s(r,"class",N="px-3 py-1 text-xs font-medium rounded-full shadow-sm border border-"+n[14].status.toLowerCase()+"-200 bg-"+n[14].status.toLowerCase()+"-100 text-"+n[14].status.toLowerCase()+"-800"),s(T,"class","py-4 px-4 whitespace-nowrap"),s(M,"href",Q=`/cessions/${n[14].id}`),s(M,"class","text-purple-600 hover:text-purple-900 font-medium"),s(H,"class","py-4 px-4 whitespace-nowrap text-center"),s(l,"class","hover:bg-purple-50/80 transition-colors duration-150")},m(I,b){we(I,l,b),e(l,a),e(a,w),e(l,x),e(l,p),e(p,g),e(g,c),e(l,V),e(l,f),e(f,h),e(l,L),e(l,T),e(T,r),e(r,R),e(l,P),e(l,H),e(H,M),e(M,se),e(l,J),q=!0},p(I,b){(!q||b&16)&&v!==(v=I[14].id+"")&&Y(w,v),(!q||b&16)&&m!==(m=I[8](I[14].startDate)+"")&&Y(c,m),(!q||b&16)&&_!==(_=Lt(I[14].totalLoanAmount)+"")&&Y(h,_),(!q||b&16)&&k!==(k=I[14].status+"")&&Y(R,k),(!q||b&16&&N!==(N="px-3 py-1 text-xs font-medium rounded-full shadow-sm border border-"+I[14].status.toLowerCase()+"-200 bg-"+I[14].status.toLowerCase()+"-100 text-"+I[14].status.toLowerCase()+"-800"))&&s(r,"class",N),(!q||b&16&&Q!==(Q=`/cessions/${I[14].id}`))&&s(M,"href",Q)},i(I){q||(I&&lt(()=>{q&&(j||(j=We(l,Ye,{y:10,delay:n[16]*50,duration:200},!0)),j.run(1))}),q=!0)},o(I){I&&(j||(j=We(l,Ye,{y:10,delay:n[16]*50,duration:200},!1)),j.run(0)),q=!1},d(I){I&&o(l),I&&j&&j.end()}}}function Jt(n){let l,a,v,w,x,p,g,m,c='<svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>',V,f,_,h=(n[5]?`${n[5].fullName}'s ${n[7]("common.navigation.cessions")}`:n[7]("clients.details.cessions.title"))+"",L,T,r,k="Manage client cessions",R,N,P,H,M,se,Q=n[7]("common.actions.back_to_client_details")+"",J,j,q,I,b,ee,X,F,B,C,A,Z,te,K,xe,ne,G,le,De="All Statuses",$,Ie="Active",ie,rt="Finished",de,at="Pending",Ke,ce,ye,he,be,ot="Cessions",Qe,ue,Ve=n[4].length+"",Me,Xe,Ae=n[4].length===1?"cession":"cessions",Pe,Ze,$e,re,ae,fe,et,nt,W=n[5]&&It(n),z=n[5]&&Vt(n);const it=[Gt,qt,Rt],ve=[];function dt(y,U){return y[6]&&y[1].length===0?0:y[4].length===0?1:2}return re=dt(n),ae=ve[re]=it[re](n),{c(){l=E(),a=i("div"),v=i("div"),w=i("div"),x=i("div"),p=i("div"),g=i("div"),m=i("div"),m.innerHTML=c,V=E(),f=i("div"),_=i("h1"),L=O(h),T=E(),r=i("p"),r.textContent=k,R=E(),N=i("div"),P=i("a"),H=_e("svg"),M=_e("path"),se=E(),J=O(Q),q=E(),W&&W.c(),I=E(),b=i("div"),z&&z.c(),ee=E(),X=i("div"),F=i("div"),B=i("div"),C=i("div"),A=_e("svg"),Z=_e("path"),te=E(),K=i("input"),xe=E(),ne=i("div"),G=i("select"),le=i("option"),le.textContent=De,$=i("option"),$.textContent=Ie,ie=i("option"),ie.textContent=rt,de=i("option"),de.textContent=at,Ke=E(),ce=i("div"),ye=i("div"),he=i("div"),be=i("h2"),be.textContent=ot,Qe=E(),ue=i("div"),Me=O(Ve),Xe=E(),Pe=O(Ae),Ze=O(" found"),$e=E(),ae.c(),this.h()},l(y){Nt("svelte-1bkru2w",document.head).forEach(o),l=D(y),a=d(y,"DIV",{class:!0});var pe=u(a);v=d(pe,"DIV",{class:!0});var ct=u(v);w=d(ct,"DIV",{class:!0});var ut=u(w);x=d(ut,"DIV",{class:!0});var je=u(x);p=d(je,"DIV",{class:!0});var ft=u(p);g=d(ft,"DIV",{class:!0});var Be=u(g);m=d(Be,"DIV",{class:!0,"data-svelte-h":!0}),oe(m)!=="svelte-1rlkc1n"&&(m.innerHTML=c),V=D(Be),f=d(Be,"DIV",{});var Oe=u(f);_=d(Oe,"H1",{class:!0});var ht=u(_);L=S(ht,h),ht.forEach(o),T=D(Oe),r=d(Oe,"P",{class:!0,"data-svelte-h":!0}),oe(r)!=="svelte-5nafay"&&(r.textContent=k),Oe.forEach(o),Be.forEach(o),ft.forEach(o),R=D(je),N=d(je,"DIV",{class:!0});var Se=u(N);P=d(Se,"A",{href:!0,class:!0});var Fe=u(P);H=ge(Fe,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var vt=u(H);M=ge(vt,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),u(M).forEach(o),vt.forEach(o),se=D(Fe),J=S(Fe,Q),Fe.forEach(o),q=D(Se),W&&W.l(Se),Se.forEach(o),je.forEach(o),ut.forEach(o),ct.forEach(o),I=D(pe),b=d(pe,"DIV",{class:!0});var ke=u(b);z&&z.l(ke),ee=D(ke),X=d(ke,"DIV",{class:!0});var pt=u(X);F=d(pt,"DIV",{class:!0});var ze=u(F);B=d(ze,"DIV",{class:!0});var mt=u(B);C=d(mt,"DIV",{class:!0});var Re=u(C);A=ge(Re,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var _t=u(A);Z=ge(_t,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),u(Z).forEach(o),_t.forEach(o),te=D(Re),K=d(Re,"INPUT",{type:!0,placeholder:!0,class:!0}),Re.forEach(o),mt.forEach(o),xe=D(ze),ne=d(ze,"DIV",{class:!0});var gt=u(ne);G=d(gt,"SELECT",{class:!0});var Le=u(G);le=d(Le,"OPTION",{"data-svelte-h":!0}),oe(le)!=="svelte-gifdaw"&&(le.textContent=De),$=d(Le,"OPTION",{"data-svelte-h":!0}),oe($)!=="svelte-1mh57he"&&($.textContent=Ie),ie=d(Le,"OPTION",{"data-svelte-h":!0}),oe(ie)!=="svelte-3rcc8e"&&(ie.textContent=rt),de=d(Le,"OPTION",{"data-svelte-h":!0}),oe(de)!=="svelte-mygx0s"&&(de.textContent=at),Le.forEach(o),gt.forEach(o),ze.forEach(o),pt.forEach(o),Ke=D(ke),ce=d(ke,"DIV",{class:!0});var qe=u(ce);ye=d(qe,"DIV",{class:!0});var wt=u(ye);he=d(wt,"DIV",{class:!0});var Ge=u(he);be=d(Ge,"H2",{class:!0,"data-svelte-h":!0}),oe(be)!=="svelte-1j8do9o"&&(be.textContent=ot),Qe=D(Ge),ue=d(Ge,"DIV",{class:!0});var Te=u(ue);Me=S(Te,Ve),Xe=D(Te),Pe=S(Te,Ae),Ze=S(Te," found"),Te.forEach(o),Ge.forEach(o),wt.forEach(o),$e=D(qe),ae.l(qe),qe.forEach(o),ke.forEach(o),pe.forEach(o),this.h()},h(){document.title="Client Cessions | Cession Management",s(m,"class","w-12 h-12 bg-gradient-to-r from-purple-600 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg"),s(_,"class","text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent"),s(r,"class","text-sm text-gray-500 font-medium"),s(g,"class","flex items-center space-x-3"),s(p,"class","flex items-center space-x-4"),s(M,"fill-rule","evenodd"),s(M,"d","M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z"),s(M,"clip-rule","evenodd"),s(H,"xmlns","http://www.w3.org/2000/svg"),s(H,"class","h-4 w-4 mr-2"),s(H,"viewBox","0 0 20 20"),s(H,"fill","currentColor"),s(P,"href",j=`/clients/${n[0].id}`),s(P,"class","flex items-center px-4 py-2 bg-white border border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50 transition-all duration-200 font-medium text-sm shadow-sm hover:shadow-md"),s(N,"class","flex items-center space-x-3"),s(x,"class","flex items-center justify-between"),s(w,"class","max-w-7xl mx-auto px-6 py-4"),s(v,"class","sticky top-0 z-40 backdrop-blur-xl bg-white/80 border-b border-white/20 shadow-lg shadow-black/5"),s(Z,"stroke-linecap","round"),s(Z,"stroke-linejoin","round"),s(Z,"stroke-width","2"),s(Z,"d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"),s(A,"class","absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"),s(A,"fill","none"),s(A,"stroke","currentColor"),s(A,"viewBox","0 0 24 24"),s(K,"type","text"),s(K,"placeholder","Search by bank or agency..."),s(K,"class","w-full pl-10 pr-4 py-3 border border-gray-200 bg-white text-gray-900 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 shadow-sm"),s(C,"class","relative"),s(B,"class","flex-grow"),le.__value="all",Ce(le,le.__value),$.__value="active",Ce($,$.__value),ie.__value="finished",Ce(ie,ie.__value),de.__value="pending",Ce(de,de.__value),s(G,"class","w-full px-4 py-3 border border-gray-200 bg-white text-gray-900 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 shadow-sm"),n[3]===void 0&&lt(()=>n[10].call(G)),s(ne,"class","flex-shrink-0"),s(F,"class","flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0"),s(X,"class","bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6 mb-8"),s(be,"class","text-lg font-medium bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent"),s(ue,"class","text-sm text-gray-500"),s(he,"class","flex items-center justify-between"),s(ye,"class","p-6 border-b border-gray-200"),s(ce,"class","bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 overflow-hidden"),s(b,"class","max-w-7xl mx-auto px-6 py-8"),s(a,"class","min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50")},m(y,U){we(y,l,U),we(y,a,U),e(a,v),e(v,w),e(w,x),e(x,p),e(p,g),e(g,m),e(g,V),e(g,f),e(f,_),e(_,L),e(f,T),e(f,r),e(x,R),e(x,N),e(N,P),e(P,H),e(H,M),e(P,se),e(P,J),e(N,q),W&&W.m(N,null),e(a,I),e(a,b),z&&z.m(b,null),e(b,ee),e(b,X),e(X,F),e(F,B),e(B,C),e(C,A),e(A,Z),e(C,te),e(C,K),Ce(K,n[2]),e(F,xe),e(F,ne),e(ne,G),e(G,le),e(G,$),e(G,ie),e(G,de),bt(G,n[3],!0),e(b,Ke),e(b,ce),e(ce,ye),e(ye,he),e(he,be),e(he,Qe),e(he,ue),e(ue,Me),e(ue,Xe),e(ue,Pe),e(ue,Ze),e(ce,$e),ve[re].m(ce,null),fe=!0,et||(nt=[xt(K,"input",n[9]),xt(G,"change",n[10])],et=!0)},p(y,[U]){(!fe||U&160)&&h!==(h=(y[5]?`${y[5].fullName}'s ${y[7]("common.navigation.cessions")}`:y[7]("clients.details.cessions.title"))+"")&&Y(L,h),(!fe||U&128)&&Q!==(Q=y[7]("common.actions.back_to_client_details")+"")&&Y(J,Q),(!fe||U&1&&j!==(j=`/clients/${y[0].id}`))&&s(P,"href",j),y[5]?W?W.p(y,U):(W=It(y),W.c(),W.m(N,null)):W&&(W.d(1),W=null),y[5]?z?(z.p(y,U),U&32&&me(z,1)):(z=Vt(y),z.c(),me(z,1),z.m(b,ee)):z&&(st(),Ee(z,1,1,()=>{z=null}),tt()),U&4&&K.value!==y[2]&&Ce(K,y[2]),U&8&&bt(G,y[3]),(!fe||U&16)&&Ve!==(Ve=y[4].length+"")&&Y(Me,Ve),(!fe||U&16)&&Ae!==(Ae=y[4].length===1?"cession":"cessions")&&Y(Pe,Ae);let pe=re;re=dt(y),re===pe?ve[re].p(y,U):(st(),Ee(ve[pe],1,1,()=>{ve[pe]=null}),tt(),ae=ve[re],ae?ae.p(y,U):(ae=ve[re]=it[re](y),ae.c()),me(ae,1),ae.m(ce,null))},i(y){fe||(me(z),me(ae),fe=!0)},o(y){Ee(z),Ee(ae),fe=!1},d(y){y&&(o(l),o(a)),W&&W.d(),z&&z.d(),ve[re].d(),et=!1,Ht(nt)}}}function Lt(n){return new Intl.NumberFormat("fr-TN",{style:"currency",currency:"TND"}).format(n)}function Ut(n,l,a){let v,w,x;yt(n,Ne,r=>a(6,w=r)),yt(n,t,r=>a(7,x=r));let{data:p}=l,g=null,m=[],c="",V="all";Mt(async()=>{if(!p.id||p.id==="undefined"||p.id==="new"){Ue("Cannot load cessions for an invalid client.","error");return}await f(),await _(),await Pt()});async function f(){Je(Ne,w=!0,w);try{const r=await Ft.getById(p.id);r&&r.success&&r.data?a(5,g=r.data):Ue("Client not found for cessions page.","error")}catch(r){Ue(r.message||"Failed to load client details for cessions page","error")}finally{Je(Ne,w=!1,w)}}async function _(){Je(Ne,w=!0,w);try{try{const k=await Ct.getAll()}catch{}const r=await Ct.getByClientId(p.id);Array.isArray(r)?a(1,m=r):a(1,m=[])}catch(r){Ue(r.message||"Failed to load cessions","error"),a(1,m=[])}finally{Je(Ne,w=!1,w)}}function h(r){return r?zt(new Date(r),"dd/MM/yyyy"):"N/A"}function L(){c=this.value,a(2,c)}function T(){V=jt(this),a(3,V)}return n.$$set=r=>{"data"in r&&a(0,p=r.data)},n.$$.update=()=>{n.$$.dirty&14&&a(4,v=m.filter(r=>V==="all"||r.status&&r.status.toLowerCase()===V.toLowerCase()).filter(r=>{if(!c)return!0;const k=c.toLowerCase();return r.clientName&&r.clientName.toLowerCase().includes(k)||r.bankOrAgency&&r.bankOrAgency.toLowerCase().includes(k)||r.status&&r.status.toLowerCase().includes(k)||r.id&&r.id.toLowerCase().includes(k)})),n.$$.dirty&18},[p,m,c,V,v,g,w,x,h,L,T]}class ts extends Ot{constructor(l){super(),St(this,l,Ut,Jt,Tt,{data:0})}}export{ts as component};
