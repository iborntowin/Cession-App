import{g as Qs,f as Ws,b as Xs}from"../chunks/api.b4688d57.js";import{r as Zs}from"../chunks/index.c6708bed.js";import{s as $s,a as E,f as i,J as er,d as r,c as y,g as n,h as a,j as t,i as re,w as e,u as ls,o as tr,t as sr,A as Fs,F as ee,l as I,G as te,m as V,n as C,x as zt,L as rr,y as Ys,I as ct}from"../chunks/scheduler.fb6ad399.js";import{S as lr,i as ar,t as Ue,c as is,a as xe,g as ns,f as we}from"../chunks/index.19f0e15d.js";import{e as Os}from"../chunks/each.eb6105d2.js";import{p as or}from"../chunks/stores.f83cb6aa.js";import"../chunks/paths.7a59b8f6.js";import{s as as,l as os}from"../chunks/navigation.68a3d764.js";import{c as Rs,a as ke}from"../chunks/index.548ee1c0.js";import{t as ir}from"../chunks/index.92f608cc.js";import{f as nr}from"../chunks/index.7c030542.js";async function dr({params:l}){if(!l.id||l.id==="undefined"||l.id==="new")throw Zs(307,"/clients");try{const s=Qs(),o=Ws(),d=await fetch(`${s}/api/v1/clients/${l.id}`,{headers:o});if(!d.ok)throw new Error("Failed to fetch client");const c=await d.json(),g=await fetch(`${s}/api/v1/cessions/client/${l.id}`,{headers:o});if(!g.ok)throw new Error("Failed to fetch cessions");const f=await g.json();return{id:l.id,client:c,cessions:f}}catch(s){return{id:l.id,error:s.message}}}const jr=Object.freeze(Object.defineProperty({__proto__:null,load:dr},Symbol.toStringTag,{value:"Module"}));function Us(l,s,o){const d=l.slice();return d[14]=s[o],d[16]=o,d}function qs(l){let s,o,d,c,g,f=(l[4]("common.actions.back_to_salary_cessions")||"Back to Salary Cessions")+"",v;return{c(){s=i("div"),o=i("a"),d=ee("svg"),c=ee("path"),g=E(),v=I(f),this.h()},l(m){s=n(m,"DIV",{class:!0});var u=a(s);o=n(u,"A",{href:!0,class:!0});var h=a(o);d=te(h,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var p=a(d);c=te(p,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),a(c).forEach(r),p.forEach(r),g=y(h),v=V(h,f),h.forEach(r),u.forEach(r),this.h()},h(){t(c,"fill-rule","evenodd"),t(c,"d","M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z"),t(c,"clip-rule","evenodd"),t(d,"xmlns","http://www.w3.org/2000/svg"),t(d,"class","h-4 w-4 mr-2"),t(d,"viewBox","0 0 20 20"),t(d,"fill","currentColor"),t(o,"href","/salary-cessions"),t(o,"class","inline-flex items-center px-3 py-2 border border-gray-300 text-sm leading-4 font-medium rounded-xl text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-colors duration-200 shadow-sm"),t(s,"class","mb-6")},m(m,u){re(m,s,u),e(s,o),e(o,d),e(d,c),e(o,g),e(o,v)},p(m,u){u&16&&f!==(f=(m[4]("common.actions.back_to_salary_cessions")||"Back to Salary Cessions")+"")&&C(v,f)},d(m){m&&r(s)}}}function cr(l){let s,o,d,c,g,f,v,m=l[4]("clients.details.title")+"",u,h,p,b=l[4]("clients.details.subtitle")+"",_,H,T,x,N,S,J,X=l[4]("clients.details.actions.edit")+"",O,R,F,U,G,K,z=l[4]("clients.details.actions.create_cession")+"",M,w,B,D,A,j,W=l[4]("clients.details.personal_info.title")+"",q,le,Y,Q,ae,ce=l[4]("clients.details.personal_info.full_name")+"",Ee,Ie,se,ds=l[5].fullName+"",Ft,Ot,oe,Ve,qe=l[4]("clients.details.personal_info.cin")+"",ut,Rt,Te,cs=l[5].cin+"",Ut,qt,ie,je,Ge=l[4]("clients.details.personal_info.phone")+"",ft,Gt,Ce,Je=(l[5].phoneNumber||l[4]("common.not_provided"))+"",ht,Jt,ue,Ae,Ke=l[4]("clients.details.personal_info.address")+"",vt,Kt,Be,Ye=(l[5].address||l[4]("common.not_provided"))+"",pt,Yt,fe,He,Qe=l[4]("clients.details.work_info.title")+"",mt,Qt,he,ne,Le,We=l[4]("clients.details.work_info.job")+"",_t,Wt,Ne,Xe=(l[5].jobName||l[4]("common.not_provided"))+"",gt,Xt,de,Me,Ze=l[4]("clients.details.work_info.workplace")+"",bt,Zt,Pe,$e=(l[5].workplaceName||l[4]("common.not_provided"))+"",wt,$t,ve,Se,et=l[4]("clients.details.work_info.worker_number")+"",kt,es,ze,tt=(l[5].workerNumber||l[4]("common.not_provided"))+"",Et,ts,Fe,pe,Oe,me,Re,st=l[4]("clients.details.cessions.title")+"",yt,ss,ye,rt=l[4]("clients.details.cessions.view_all")+"",Dt,rs,De,Z,$,_e,P;const us=[pr,vr,hr],ge=[];function fs(k,L){return k[3]?0:k[1].length===0?1:2}return Z=fs(l),$=ge[Z]=us[Z](l),{c(){s=i("div"),o=i("div"),d=i("div"),c=i("div"),g=i("div"),f=i("div"),v=i("h1"),u=I(m),h=E(),p=i("p"),_=I(b),H=E(),T=i("div"),x=i("a"),N=ee("svg"),S=ee("path"),J=E(),O=I(X),R=E(),F=i("a"),U=ee("svg"),G=ee("path"),K=E(),M=I(z),w=E(),B=i("div"),D=i("div"),A=i("div"),j=i("h3"),q=I(W),le=E(),Y=i("dl"),Q=i("div"),ae=i("dt"),Ee=I(ce),Ie=E(),se=i("dd"),Ft=I(ds),Ot=E(),oe=i("div"),Ve=i("dt"),ut=I(qe),Rt=E(),Te=i("dd"),Ut=I(cs),qt=E(),ie=i("div"),je=i("dt"),ft=I(Ge),Gt=E(),Ce=i("dd"),ht=I(Je),Jt=E(),ue=i("div"),Ae=i("dt"),vt=I(Ke),Kt=E(),Be=i("dd"),pt=I(Ye),Yt=E(),fe=i("div"),He=i("h3"),mt=I(Qe),Qt=E(),he=i("dl"),ne=i("div"),Le=i("dt"),_t=I(We),Wt=E(),Ne=i("dd"),gt=I(Xe),Xt=E(),de=i("div"),Me=i("dt"),bt=I(Ze),Zt=E(),Pe=i("dd"),wt=I($e),$t=E(),ve=i("div"),Se=i("dt"),kt=I(et),es=E(),ze=i("dd"),Et=I(tt),ts=E(),Fe=i("div"),pe=i("div"),Oe=i("div"),me=i("div"),Re=i("h2"),yt=I(st),ss=E(),ye=i("a"),Dt=I(rt),rs=E(),De=i("div"),$.c(),this.h()},l(k){s=n(k,"DIV",{class:!0});var L=a(s);o=n(L,"DIV",{class:!0});var be=a(o);d=n(be,"DIV",{class:!0});var xt=a(d);c=n(xt,"DIV",{class:!0});var hs=a(c);g=n(hs,"DIV",{class:!0});var It=a(g);f=n(It,"DIV",{});var Vt=a(f);v=n(Vt,"H1",{class:!0});var vs=a(v);u=V(vs,m),vs.forEach(r),h=y(Vt),p=n(Vt,"P",{class:!0});var ps=a(p);_=V(ps,b),ps.forEach(r),Vt.forEach(r),H=y(It),T=n(It,"DIV",{class:!0});var Tt=a(T);x=n(Tt,"A",{href:!0,class:!0});var jt=a(x);N=te(jt,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var ms=a(N);S=te(ms,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),a(S).forEach(r),ms.forEach(r),J=y(jt),O=V(jt,X),jt.forEach(r),R=y(Tt),F=n(Tt,"A",{href:!0,class:!0});var Ct=a(F);U=te(Ct,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var _s=a(U);G=te(_s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),a(G).forEach(r),_s.forEach(r),K=y(Ct),M=V(Ct,z),Ct.forEach(r),Tt.forEach(r),It.forEach(r),hs.forEach(r),w=y(xt),B=n(xt,"DIV",{class:!0});var gs=a(B);D=n(gs,"DIV",{class:!0});var At=a(D);A=n(At,"DIV",{class:!0});var Bt=a(A);j=n(Bt,"H3",{class:!0});var bs=a(j);q=V(bs,W),bs.forEach(r),le=y(Bt),Y=n(Bt,"DL",{class:!0});var lt=a(Y);Q=n(lt,"DIV",{class:!0});var at=a(Q);ae=n(at,"DT",{class:!0});var ws=a(ae);Ee=V(ws,ce),ws.forEach(r),Ie=y(at),se=n(at,"DD",{class:!0});var ks=a(se);Ft=V(ks,ds),ks.forEach(r),Ot=y(at),at.forEach(r),oe=n(lt,"DIV",{class:!0});var ot=a(oe);Ve=n(ot,"DT",{class:!0});var Es=a(Ve);ut=V(Es,qe),Es.forEach(r),Rt=y(ot),Te=n(ot,"DD",{class:!0});var ys=a(Te);Ut=V(ys,cs),ys.forEach(r),qt=y(ot),ot.forEach(r),ie=n(lt,"DIV",{class:!0});var it=a(ie);je=n(it,"DT",{class:!0});var Ds=a(je);ft=V(Ds,Ge),Ds.forEach(r),Gt=y(it),Ce=n(it,"DD",{class:!0});var xs=a(Ce);ht=V(xs,Je),xs.forEach(r),Jt=y(it),it.forEach(r),ue=n(lt,"DIV",{class:!0});var Ht=a(ue);Ae=n(Ht,"DT",{class:!0});var Is=a(Ae);vt=V(Is,Ke),Is.forEach(r),Kt=y(Ht),Be=n(Ht,"DD",{class:!0});var Vs=a(Be);pt=V(Vs,Ye),Vs.forEach(r),Ht.forEach(r),lt.forEach(r),Bt.forEach(r),Yt=y(At),fe=n(At,"DIV",{class:!0});var Lt=a(fe);He=n(Lt,"H3",{class:!0});var Ts=a(He);mt=V(Ts,Qe),Ts.forEach(r),Qt=y(Lt),he=n(Lt,"DL",{class:!0});var Nt=a(he);ne=n(Nt,"DIV",{class:!0});var nt=a(ne);Le=n(nt,"DT",{class:!0});var js=a(Le);_t=V(js,We),js.forEach(r),Wt=y(nt),Ne=n(nt,"DD",{class:!0});var Cs=a(Ne);gt=V(Cs,Xe),Cs.forEach(r),Xt=y(nt),nt.forEach(r),de=n(Nt,"DIV",{class:!0});var dt=a(de);Me=n(dt,"DT",{class:!0});var As=a(Me);bt=V(As,Ze),As.forEach(r),Zt=y(dt),Pe=n(dt,"DD",{class:!0});var Bs=a(Pe);wt=V(Bs,$e),Bs.forEach(r),$t=y(dt),dt.forEach(r),ve=n(Nt,"DIV",{class:!0});var Mt=a(ve);Se=n(Mt,"DT",{class:!0});var Hs=a(Se);kt=V(Hs,et),Hs.forEach(r),es=y(Mt),ze=n(Mt,"DD",{class:!0});var Ls=a(ze);Et=V(Ls,tt),Ls.forEach(r),Mt.forEach(r),Nt.forEach(r),Lt.forEach(r),At.forEach(r),gs.forEach(r),xt.forEach(r),ts=y(be),Fe=n(be,"DIV",{class:!0});var Ns=a(Fe);pe=n(Ns,"DIV",{class:!0});var Pt=a(pe);Oe=n(Pt,"DIV",{class:!0});var Ms=a(Oe);me=n(Ms,"DIV",{class:!0});var St=a(me);Re=n(St,"H2",{class:!0});var Ps=a(Re);yt=V(Ps,st),Ps.forEach(r),ss=y(St),ye=n(St,"A",{href:!0,class:!0});var Ss=a(ye);Dt=V(Ss,rt),Ss.forEach(r),St.forEach(r),Ms.forEach(r),rs=y(Pt),De=n(Pt,"DIV",{class:!0});var zs=a(De);$.l(zs),zs.forEach(r),Pt.forEach(r),Ns.forEach(r),be.forEach(r),L.forEach(r),this.h()},h(){t(v,"class","text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent"),t(p,"class","mt-1 text-sm text-gray-500"),t(S,"stroke-linecap","round"),t(S,"stroke-linejoin","round"),t(S,"stroke-width","2"),t(S,"d","M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"),t(N,"class","w-4 h-4 mr-1"),t(N,"fill","none"),t(N,"stroke","currentColor"),t(N,"viewBox","0 0 24 24"),t(x,"href",`/clients/${l[5].id}/edit`),t(x,"class","inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-xl text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-all duration-200"),t(G,"stroke-linecap","round"),t(G,"stroke-linejoin","round"),t(G,"stroke-width","2"),t(G,"d","M12 6v6m0 0v6m0-6h6m-6 0H6"),t(U,"class","w-4 h-4 mr-1"),t(U,"fill","none"),t(U,"stroke","currentColor"),t(U,"viewBox","0 0 24 24"),t(F,"href",`/cessions/new?clientId=${l[5].id}`),t(F,"class","inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-xl text-white bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-all duration-200"),t(T,"class","flex space-x-4"),t(g,"class","flex items-center justify-between"),t(c,"class","p-6 border-b border-gray-200"),t(j,"class","text-lg font-medium bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent mb-4"),t(ae,"class","text-sm font-medium text-purple-600"),t(se,"class","mt-1 text-sm text-gray-900 font-medium"),t(Q,"class","bg-white/80 p-3 rounded-lg shadow-sm"),t(Ve,"class","text-sm font-medium text-purple-600"),t(Te,"class","mt-1 text-sm text-gray-900 font-medium"),t(oe,"class","bg-white/80 p-3 rounded-lg shadow-sm"),t(je,"class","text-sm font-medium text-purple-600"),t(Ce,"class","mt-1 text-sm text-gray-900 font-medium"),t(ie,"class","bg-white/80 p-3 rounded-lg shadow-sm"),t(Ae,"class","text-sm font-medium text-purple-600"),t(Be,"class","mt-1 text-sm text-gray-900 font-medium"),t(ue,"class","bg-white/80 p-3 rounded-lg shadow-sm"),t(Y,"class","grid grid-cols-1 gap-4"),t(A,"class","bg-white/60 backdrop-blur-sm rounded-xl p-5 shadow-sm border border-white/20"),t(He,"class","text-lg font-medium bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent mb-4"),t(Le,"class","text-sm font-medium text-purple-600"),t(Ne,"class","mt-1 text-sm text-gray-900 font-medium"),t(ne,"class","bg-white/80 p-3 rounded-lg shadow-sm"),t(Me,"class","text-sm font-medium text-purple-600"),t(Pe,"class","mt-1 text-sm text-gray-900 font-medium"),t(de,"class","bg-white/80 p-3 rounded-lg shadow-sm"),t(Se,"class","text-sm font-medium text-purple-600"),t(ze,"class","mt-1 text-sm text-gray-900 font-medium"),t(ve,"class","bg-white/80 p-3 rounded-lg shadow-sm"),t(he,"class","grid grid-cols-1 gap-4"),t(fe,"class","bg-white/60 backdrop-blur-sm rounded-xl p-5 shadow-sm border border-white/20"),t(D,"class","grid grid-cols-1 md:grid-cols-2 gap-6"),t(B,"class","p-6"),t(d,"class","bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 overflow-hidden"),t(Re,"class","text-lg font-medium bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent"),t(ye,"href",`/cessions?clientId=${l[5].id}`),t(ye,"class","text-sm text-purple-600 hover:text-purple-800 font-medium"),t(me,"class","flex items-center justify-between"),t(Oe,"class","p-6 border-b border-gray-200"),t(De,"class","overflow-x-auto"),t(pe,"class","bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 overflow-hidden"),t(Fe,"class","mt-8"),t(o,"class","lg:col-span-11"),t(s,"class","lg:grid lg:grid-cols-12 lg:gap-8")},m(k,L){re(k,s,L),e(s,o),e(o,d),e(d,c),e(c,g),e(g,f),e(f,v),e(v,u),e(f,h),e(f,p),e(p,_),e(g,H),e(g,T),e(T,x),e(x,N),e(N,S),e(x,J),e(x,O),e(T,R),e(T,F),e(F,U),e(U,G),e(F,K),e(F,M),e(d,w),e(d,B),e(B,D),e(D,A),e(A,j),e(j,q),e(A,le),e(A,Y),e(Y,Q),e(Q,ae),e(ae,Ee),e(Q,Ie),e(Q,se),e(se,Ft),e(Q,Ot),e(Y,oe),e(oe,Ve),e(Ve,ut),e(oe,Rt),e(oe,Te),e(Te,Ut),e(oe,qt),e(Y,ie),e(ie,je),e(je,ft),e(ie,Gt),e(ie,Ce),e(Ce,ht),e(ie,Jt),e(Y,ue),e(ue,Ae),e(Ae,vt),e(ue,Kt),e(ue,Be),e(Be,pt),e(D,Yt),e(D,fe),e(fe,He),e(He,mt),e(fe,Qt),e(fe,he),e(he,ne),e(ne,Le),e(Le,_t),e(ne,Wt),e(ne,Ne),e(Ne,gt),e(ne,Xt),e(he,de),e(de,Me),e(Me,bt),e(de,Zt),e(de,Pe),e(Pe,wt),e(de,$t),e(he,ve),e(ve,Se),e(Se,kt),e(ve,es),e(ve,ze),e(ze,Et),e(o,ts),e(o,Fe),e(Fe,pe),e(pe,Oe),e(Oe,me),e(me,Re),e(Re,yt),e(me,ss),e(me,ye),e(ye,Dt),e(pe,rs),e(pe,De),ge[Z].m(De,null),P=!0},p(k,L){(!P||L&16)&&m!==(m=k[4]("clients.details.title")+"")&&C(u,m),(!P||L&16)&&b!==(b=k[4]("clients.details.subtitle")+"")&&C(_,b),(!P||L&16)&&X!==(X=k[4]("clients.details.actions.edit")+"")&&C(O,X),(!P||L&16)&&z!==(z=k[4]("clients.details.actions.create_cession")+"")&&C(M,z),(!P||L&16)&&W!==(W=k[4]("clients.details.personal_info.title")+"")&&C(q,W),(!P||L&16)&&ce!==(ce=k[4]("clients.details.personal_info.full_name")+"")&&C(Ee,ce),(!P||L&16)&&qe!==(qe=k[4]("clients.details.personal_info.cin")+"")&&C(ut,qe),(!P||L&16)&&Ge!==(Ge=k[4]("clients.details.personal_info.phone")+"")&&C(ft,Ge),(!P||L&16)&&Je!==(Je=(k[5].phoneNumber||k[4]("common.not_provided"))+"")&&C(ht,Je),(!P||L&16)&&Ke!==(Ke=k[4]("clients.details.personal_info.address")+"")&&C(vt,Ke),(!P||L&16)&&Ye!==(Ye=(k[5].address||k[4]("common.not_provided"))+"")&&C(pt,Ye),(!P||L&16)&&Qe!==(Qe=k[4]("clients.details.work_info.title")+"")&&C(mt,Qe),(!P||L&16)&&We!==(We=k[4]("clients.details.work_info.job")+"")&&C(_t,We),(!P||L&16)&&Xe!==(Xe=(k[5].jobName||k[4]("common.not_provided"))+"")&&C(gt,Xe),(!P||L&16)&&Ze!==(Ze=k[4]("clients.details.work_info.workplace")+"")&&C(bt,Ze),(!P||L&16)&&$e!==($e=(k[5].workplaceName||k[4]("common.not_provided"))+"")&&C(wt,$e),(!P||L&16)&&et!==(et=k[4]("clients.details.work_info.worker_number")+"")&&C(kt,et),(!P||L&16)&&tt!==(tt=(k[5].workerNumber||k[4]("common.not_provided"))+"")&&C(Et,tt),(!P||L&16)&&st!==(st=k[4]("clients.details.cessions.title")+"")&&C(yt,st),(!P||L&16)&&rt!==(rt=k[4]("clients.details.cessions.view_all")+"")&&C(Dt,rt);let be=Z;Z=fs(k),Z===be?ge[Z].p(k,L):(ns(),Ue(ge[be],1,1,()=>{ge[be]=null}),is(),$=ge[Z],$?$.p(k,L):($=ge[Z]=us[Z](k),$.c()),xe($,1),$.m(De,null))},i(k){P||(xe($),k&&zt(()=>{P&&(_e||(_e=we(s,ke,{y:20,duration:300,easing:Rs},!0)),_e.run(1))}),P=!0)},o(k){Ue($),k&&(_e||(_e=we(s,ke,{y:20,duration:300,easing:Rs},!1)),_e.run(0)),P=!1},d(k){k&&r(s),ge[Z].d(),k&&_e&&_e.end()}}}function ur(l){let s,o,d,c,g,f=l[4]("clients.details.not_found")+"",v,m,u;return{c(){s=i("div"),o=i("div"),d=ee("svg"),c=ee("path"),g=E(),v=I(f),this.h()},l(h){s=n(h,"DIV",{class:!0});var p=a(s);o=n(p,"DIV",{class:!0});var b=a(o);d=te(b,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var _=a(d);c=te(_,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),a(c).forEach(r),_.forEach(r),g=y(b),v=V(b,f),b.forEach(r),p.forEach(r),this.h()},h(){t(c,"stroke-linecap","round"),t(c,"stroke-linejoin","round"),t(c,"stroke-width","2"),t(c,"d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"),t(d,"class","w-5 h-5 mr-2 text-yellow-500"),t(d,"fill","none"),t(d,"stroke","currentColor"),t(d,"viewBox","0 0 24 24"),t(o,"class","flex items-center"),t(s,"class","bg-yellow-50 text-yellow-700 p-4 rounded-xl shadow-sm border border-yellow-100")},m(h,p){re(h,s,p),e(s,o),e(o,d),e(d,c),e(o,g),e(o,v),u=!0},p(h,p){(!u||p&16)&&f!==(f=h[4]("clients.details.not_found")+"")&&C(v,f)},i(h){u||(h&&zt(()=>{u&&(m||(m=we(s,ke,{y:-20,duration:300},!0)),m.run(1))}),u=!0)},o(h){h&&(m||(m=we(s,ke,{y:-20,duration:300},!1)),m.run(0)),u=!1},d(h){h&&r(s),h&&m&&m.end()}}}function fr(l){let s,o,d,c,g,f=l[0].error+"",v,m,u;return{c(){s=i("div"),o=i("div"),d=ee("svg"),c=ee("path"),g=E(),v=I(f),this.h()},l(h){s=n(h,"DIV",{class:!0});var p=a(s);o=n(p,"DIV",{class:!0});var b=a(o);d=te(b,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var _=a(d);c=te(_,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),a(c).forEach(r),_.forEach(r),g=y(b),v=V(b,f),b.forEach(r),p.forEach(r),this.h()},h(){t(c,"stroke-linecap","round"),t(c,"stroke-linejoin","round"),t(c,"stroke-width","2"),t(c,"d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),t(d,"class","w-5 h-5 mr-2 text-red-500"),t(d,"fill","none"),t(d,"stroke","currentColor"),t(d,"viewBox","0 0 24 24"),t(o,"class","flex items-center"),t(s,"class","bg-red-50 text-red-700 p-4 rounded-xl shadow-sm border border-red-100")},m(h,p){re(h,s,p),e(s,o),e(o,d),e(d,c),e(o,g),e(o,v),u=!0},p(h,p){(!u||p&1)&&f!==(f=h[0].error+"")&&C(v,f)},i(h){u||(h&&zt(()=>{u&&(m||(m=we(s,ke,{y:-20,duration:300},!0)),m.run(1))}),u=!0)},o(h){h&&(m||(m=we(s,ke,{y:-20,duration:300},!1)),m.run(0)),u=!1},d(h){h&&r(s),h&&m&&m.end()}}}function hr(l){let s,o,d,c,g,f=l[4]("clients.details.cessions.table.id")+"",v,m,u,h=l[4]("clients.details.cessions.table.start_date")+"",p,b,_,H=l[4]("clients.details.cessions.table.amount")+"",T,x,N,S=l[4]("clients.details.cessions.table.status")+"",J,X,O,R,F=l[4]("clients.details.cessions.table.actions")+"",U,G,K,z,M=Os(l[1]),w=[];for(let D=0;D<M.length;D+=1)w[D]=Gs(Us(l,M,D));const B=D=>Ue(w[D],1,1,()=>{w[D]=null});return{c(){s=i("div"),o=i("table"),d=i("thead"),c=i("tr"),g=i("th"),v=I(f),m=E(),u=i("th"),p=I(h),b=E(),_=i("th"),T=I(H),x=E(),N=i("th"),J=I(S),X=E(),O=i("th"),R=i("span"),U=I(F),G=E(),K=i("tbody");for(let D=0;D<w.length;D+=1)w[D].c();this.h()},l(D){s=n(D,"DIV",{class:!0});var A=a(s);o=n(A,"TABLE",{class:!0});var j=a(o);d=n(j,"THEAD",{class:!0});var W=a(d);c=n(W,"TR",{});var q=a(c);g=n(q,"TH",{scope:!0,class:!0});var le=a(g);v=V(le,f),le.forEach(r),m=y(q),u=n(q,"TH",{scope:!0,class:!0});var Y=a(u);p=V(Y,h),Y.forEach(r),b=y(q),_=n(q,"TH",{scope:!0,class:!0});var Q=a(_);T=V(Q,H),Q.forEach(r),x=y(q),N=n(q,"TH",{scope:!0,class:!0});var ae=a(N);J=V(ae,S),ae.forEach(r),X=y(q),O=n(q,"TH",{scope:!0,class:!0});var ce=a(O);R=n(ce,"SPAN",{class:!0});var Ee=a(R);U=V(Ee,F),Ee.forEach(r),ce.forEach(r),q.forEach(r),W.forEach(r),G=y(j),K=n(j,"TBODY",{class:!0});var Ie=a(K);for(let se=0;se<w.length;se+=1)w[se].l(Ie);Ie.forEach(r),j.forEach(r),A.forEach(r),this.h()},h(){t(g,"scope","col"),t(g,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"),t(u,"scope","col"),t(u,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"),t(_,"scope","col"),t(_,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"),t(N,"scope","col"),t(N,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"),t(R,"class","sr-only"),t(O,"scope","col"),t(O,"class","relative px-6 py-3"),t(d,"class","bg-gray-50/80 backdrop-blur-sm"),t(K,"class","bg-white/80 backdrop-blur-sm divide-y divide-gray-200"),t(o,"class","min-w-full divide-y divide-gray-200 rounded-lg overflow-hidden"),t(s,"class","p-4")},m(D,A){re(D,s,A),e(s,o),e(o,d),e(d,c),e(c,g),e(g,v),e(c,m),e(c,u),e(u,p),e(c,b),e(c,_),e(_,T),e(c,x),e(c,N),e(N,J),e(c,X),e(c,O),e(O,R),e(R,U),e(o,G),e(o,K);for(let j=0;j<w.length;j+=1)w[j]&&w[j].m(K,null);z=!0},p(D,A){if((!z||A&16)&&f!==(f=D[4]("clients.details.cessions.table.id")+"")&&C(v,f),(!z||A&16)&&h!==(h=D[4]("clients.details.cessions.table.start_date")+"")&&C(p,h),(!z||A&16)&&H!==(H=D[4]("clients.details.cessions.table.amount")+"")&&C(T,H),(!z||A&16)&&S!==(S=D[4]("clients.details.cessions.table.status")+"")&&C(J,S),(!z||A&16)&&F!==(F=D[4]("clients.details.cessions.table.actions")+"")&&C(U,F),A&82){M=Os(D[1]);let j;for(j=0;j<M.length;j+=1){const W=Us(D,M,j);w[j]?(w[j].p(W,A),xe(w[j],1)):(w[j]=Gs(W),w[j].c(),xe(w[j],1),w[j].m(K,null))}for(ns(),j=M.length;j<w.length;j+=1)B(j);is()}},i(D){if(!z){for(let A=0;A<M.length;A+=1)xe(w[A]);z=!0}},o(D){w=w.filter(Boolean);for(let A=0;A<w.length;A+=1)Ue(w[A]);z=!1},d(D){D&&r(s),rr(w,D)}}}function vr(l){let s,o,d='<svg class="w-10 h-10 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>',c,g,f=l[4]("clients.details.cessions.no_cessions")+"",v,m,u,h,p,b,_=l[4]("clients.details.actions.create_cession")+"",H;return{c(){s=i("div"),o=i("div"),o.innerHTML=d,c=E(),g=i("p"),v=I(f),m=E(),u=i("a"),h=ee("svg"),p=ee("path"),b=E(),H=I(_),this.h()},l(T){s=n(T,"DIV",{class:!0});var x=a(s);o=n(x,"DIV",{class:!0,"data-svelte-h":!0}),Ys(o)!=="svelte-1ukl1mn"&&(o.innerHTML=d),c=y(x),g=n(x,"P",{class:!0});var N=a(g);v=V(N,f),N.forEach(r),m=y(x),u=n(x,"A",{href:!0,class:!0});var S=a(u);h=te(S,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var J=a(h);p=te(J,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),a(p).forEach(r),J.forEach(r),b=y(S),H=V(S,_),S.forEach(r),x.forEach(r),this.h()},h(){t(o,"class","w-20 h-20 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center"),t(g,"class","text-gray-500 font-medium"),t(p,"stroke-linecap","round"),t(p,"stroke-linejoin","round"),t(p,"stroke-width","2"),t(p,"d","M12 6v6m0 0v6m0-6h6m-6 0H6"),t(h,"class","w-4 h-4 mr-1"),t(h,"fill","none"),t(h,"stroke","currentColor"),t(h,"viewBox","0 0 24 24"),t(u,"href",`/cessions/new?clientId=${l[5].id}`),t(u,"class","inline-flex items-center px-4 py-2 mt-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl hover:from-purple-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl font-medium text-sm"),t(s,"class","text-center py-12")},m(T,x){re(T,s,x),e(s,o),e(s,c),e(s,g),e(g,v),e(s,m),e(s,u),e(u,h),e(h,p),e(u,b),e(u,H)},p(T,x){x&16&&f!==(f=T[4]("clients.details.cessions.no_cessions")+"")&&C(v,f),x&16&&_!==(_=T[4]("clients.details.actions.create_cession")+"")&&C(H,_)},i:ct,o:ct,d(T){T&&r(s)}}}function pr(l){let s,o='<div class="relative"><div class="w-12 h-12 border-4 border-purple-200 rounded-full animate-spin"></div> <div class="absolute top-0 left-0 w-12 h-12 border-4 border-purple-600 rounded-full animate-spin border-t-transparent"></div></div>';return{c(){s=i("div"),s.innerHTML=o,this.h()},l(d){s=n(d,"DIV",{class:!0,"data-svelte-h":!0}),Ys(s)!=="svelte-byhdnl"&&(s.innerHTML=o),this.h()},h(){t(s,"class","flex justify-center items-center py-8")},m(d,c){re(d,s,c)},p:ct,i:ct,o:ct,d(d){d&&r(s)}}}function Gs(l){let s,o,d=l[14].id+"",c,g,f,v,m=l[6](l[14].startDate)+"",u,h,p,b=Js(l[14].totalLoanAmount)+"",_,H,T,x,N=l[4](`cessions.details.status.${l[14].status.toLowerCase()}`)+"",S,J,X,O,R,F=l[4]("clients.details.cessions.table.view_details")+"",U,G,K,z,M;return{c(){s=i("tr"),o=i("td"),c=I(d),g=E(),f=i("td"),v=i("span"),u=I(m),h=E(),p=i("td"),_=I(b),H=E(),T=i("td"),x=i("span"),S=I(N),X=E(),O=i("td"),R=i("a"),U=I(F),K=E(),this.h()},l(w){s=n(w,"TR",{class:!0});var B=a(s);o=n(B,"TD",{class:!0});var D=a(o);c=V(D,d),D.forEach(r),g=y(B),f=n(B,"TD",{class:!0});var A=a(f);v=n(A,"SPAN",{dir:!0});var j=a(v);u=V(j,m),j.forEach(r),A.forEach(r),h=y(B),p=n(B,"TD",{class:!0});var W=a(p);_=V(W,b),W.forEach(r),H=y(B),T=n(B,"TD",{class:!0});var q=a(T);x=n(q,"SPAN",{class:!0});var le=a(x);S=V(le,N),le.forEach(r),q.forEach(r),X=y(B),O=n(B,"TD",{class:!0});var Y=a(O);R=n(Y,"A",{href:!0,class:!0});var Q=a(R);U=V(Q,F),Q.forEach(r),Y.forEach(r),K=y(B),B.forEach(r),this.h()},h(){t(o,"class","px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"),t(v,"dir","ltr"),t(f,"class","px-6 py-4 whitespace-nowrap text-sm text-gray-700"),t(p,"class","px-6 py-4 whitespace-nowrap text-sm text-gray-700 font-medium"),t(x,"class",J="px-3 py-1 text-xs font-medium rounded-full shadow-sm "+Ks(l[14].status)+" svelte-2ij2sh"),t(T,"class","px-6 py-4 whitespace-nowrap"),t(R,"href",G=`/cessions/${l[14].id}`),t(R,"class","text-purple-600 hover:text-purple-900 font-medium"),t(O,"class","px-6 py-4 whitespace-nowrap text-right text-sm font-medium"),t(s,"class","hover:bg-purple-50/80 transition-colors duration-150")},m(w,B){re(w,s,B),e(s,o),e(o,c),e(s,g),e(s,f),e(f,v),e(v,u),e(s,h),e(s,p),e(p,_),e(s,H),e(s,T),e(T,x),e(x,S),e(s,X),e(s,O),e(O,R),e(R,U),e(s,K),M=!0},p(w,B){(!M||B&2)&&d!==(d=w[14].id+"")&&C(c,d),(!M||B&2)&&m!==(m=w[6](w[14].startDate)+"")&&C(u,m),(!M||B&2)&&b!==(b=Js(w[14].totalLoanAmount)+"")&&C(_,b),(!M||B&18)&&N!==(N=w[4](`cessions.details.status.${w[14].status.toLowerCase()}`)+"")&&C(S,N),(!M||B&2&&J!==(J="px-3 py-1 text-xs font-medium rounded-full shadow-sm "+Ks(w[14].status)+" svelte-2ij2sh"))&&t(x,"class",J),(!M||B&16)&&F!==(F=w[4]("clients.details.cessions.table.view_details")+"")&&C(U,F),(!M||B&2&&G!==(G=`/cessions/${w[14].id}`))&&t(R,"href",G)},i(w){M||(w&&zt(()=>{M&&(z||(z=we(s,ke,{y:10,delay:l[16]*50,duration:200},!0)),z.run(1))}),M=!0)},o(w){w&&(z||(z=we(s,ke,{y:10,delay:l[16]*50,duration:200},!1)),z.run(0)),M=!1},d(w){w&&r(s),w&&z&&z.end()}}}function mr(l){let s,o,d,c,g,f,v,m;document.title=s=l[4]("clients.details.title")+" | "+l[4]("common.app_name");let u=l[2]&&qs(l);const h=[fr,ur,cr],p=[];function b(_,H){return _[0].error?0:_[5]?2:1}return f=b(l),v=p[f]=h[f](l),{c(){o=E(),d=i("div"),c=i("div"),u&&u.c(),g=E(),v.c(),this.h()},l(_){er("svelte-d43wuv",document.head).forEach(r),o=y(_),d=n(_,"DIV",{class:!0});var T=a(d);c=n(T,"DIV",{class:!0});var x=a(c);u&&u.l(x),g=y(x),v.l(x),x.forEach(r),T.forEach(r),this.h()},h(){t(c,"class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"),t(d,"class","min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50")},m(_,H){re(_,o,H),re(_,d,H),e(d,c),u&&u.m(c,null),e(c,g),p[f].m(c,null),m=!0},p(_,[H]){(!m||H&16)&&s!==(s=_[4]("clients.details.title")+" | "+_[4]("common.app_name"))&&(document.title=s),_[2]?u?u.p(_,H):(u=qs(_),u.c(),u.m(c,g)):u&&(u.d(1),u=null);let T=f;f=b(_),f===T?p[f].p(_,H):(ns(),Ue(p[T],1,1,()=>{p[T]=null}),is(),v=p[f],v?v.p(_,H):(v=p[f]=h[f](_),v.c()),xe(v,1),v.m(c,null))},i(_){m||(xe(v),m=!0)},o(_){Ue(v),m=!1},d(_){_&&(r(o),r(d)),u&&u.d(),p[f].d()}}}function Js(l){return l==null?"N/A":new Intl.NumberFormat("ar-TN",{style:"currency",currency:"TND"}).format(l)}function Ks(l){switch(l?.toLowerCase()){case"active":return"bg-green-100 text-green-800 border border-green-200";case"finished":return"bg-gray-100 text-gray-800 border border-gray-200";case"pending":return"bg-yellow-100 text-yellow-800 border border-yellow-200";default:return"bg-gray-100 text-gray-800 border border-gray-200"}}function _r(l,s,o){let d,c,g,f;ls(l,os,b=>o(3,c=b)),ls(l,or,b=>o(7,g=b)),ls(l,ir,b=>o(4,f=b));let{data:v}=s,m=v.client,u=[];tr(async()=>{if(v.error){as(v.error,"error");return}if(!m){as("Client not found","error");return}await h(),await sr()});async function h(){Fs(os,c=!0,c);try{const b=await Xs.getByClientId(v.id);b&&Array.isArray(b)&&o(1,u=b)}catch(b){as(b.message||"Failed to load cessions","error")}finally{Fs(os,c=!1,c)}}function p(b){if(!b)return"N/A";const _=new Date(b);return nr(_,"dd/MM/yyyy")}return l.$$set=b=>{"data"in b&&o(0,v=b.data)},l.$$.update=()=>{l.$$.dirty&128&&o(2,d=g.url.searchParams.get("from")==="salary-cessions")},[v,u,d,c,f,m,p,g]}class Cr extends lr{constructor(s){super(),ar(this,s,_r,mr,$s,{data:0})}}export{Cr as component,jr as universal};
