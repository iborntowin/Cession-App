import{s as Qs,a as v,f as r,F as Wt,l as g,e as Us,J as Xs,d as a,c as _,g as o,h as l,G as xt,m as b,j as n,i as R,w as e,z as ms,n as y,H as Zs,u as ea,o as ta,k as zs,I as sa}from"../chunks/scheduler.55755e91.js";import{S as aa,i as la,t as Jt,c as na,a as Rt,g as ra,b as qs,d as Gs,m as Ys,e as Ks}from"../chunks/index.d2ed93bc.js";import{s as st,g as ps}from"../chunks/navigation.fbd60083.js";import{a as oa}from"../chunks/api.20dd9789.js";import{S as ia}from"../chunks/Spinner.50375aac.js";import{P as ca}from"../chunks/PaymentSection.51a33568.js";import{a as Ws,o as ua,d as da}from"../chunks/pdfGenerator.aa2f9fb1.js";import{t as fa}from"../chunks/index.7dc5fa01.js";import{f as Ut}from"../chunks/index.7c030542.js";function ma({params:t}){return{id:t.id}}const Ia=Object.freeze(Object.defineProperty({__proto__:null,load:ma},Symbol.toStringTag,{value:"Module"}));function pa(t){let u,m,f,h=t[2]("cessions.details.cession_info")+"",s,A,E,w,P,L=t[2]("cessions.details.client")+"",V,D,M,U,G=t[0].clientName+"",j,Y,T,$,N,I,F=t[2]("cessions.details.view_profile")+"",S,Q,he,z,B,X=t[2]("cessions.details.bank_agency")+"",d,k,O,W=t[0].bankOrAgency+"",ne,Z,x,K,Se=t[2]("cessions.details.total_loan")+"",at,qt,ge,Oe=q(t[0].totalLoanAmount)+"",lt,Gt,re,be,je=t[2]("cessions.details.monthly_payment")+"",nt,Yt,ye,Fe=q(t[0].monthlyPayment)+"",rt,Kt,oe,Ee,He=t[2]("cessions.details.start_date")+"",ot,Qt,we,Ue=Ce(t[0].startDate)+"",it,Xt,ie,De,ze=t[2]("cessions.details.end_date")+"",ct,Zt,Pe,We=Ce(t[0].endDate)+"",ut,es,ce,Ne,xe=t[2]("common.status")+"",dt,ts,ue,Je=t[3](t[0].status)+"",ft,mt,ss,ee,Ae,Re=t[2]("cessions.details.progress_info")+"",pt,as,H,de,Ie,qe=t[2]("cessions.details.current_progress")+"",vt,ls,te,ke,fe,ns,Ve,Ge=xs(t[0].currentProgress)+"",_t,rs,me,Me,Ye=t[2]("cessions.details.remaining_balance")+"",ht,os,Le,Ke=q(t[0].remainingBalance)+"",gt,is,pe,Te,Qe=t[2]("cessions.details.months_remaining")+"",bt,cs,se,Xe=t[0].monthsRemaining+"",yt,us,Ze=t[2]("common.months")+"",Et,ds,ve,Be,et=t[2]("cessions.details.expected_payoff")+"",wt,fs,$e,tt=Ce(t[0].expectedPayoffDate)+"",Dt,Pt,_e,ae,p;return ae=new ca({props:{cessionId:t[0].id,remainingBalance:t[0].remainingBalance,totalLoanAmount:t[0].totalLoanAmount,monthlyPayment:t[0].monthlyPayment}}),{c(){u=r("div"),m=r("div"),f=r("h2"),s=g(h),A=v(),E=r("div"),w=r("div"),P=r("p"),V=g(L),D=v(),M=r("div"),U=r("p"),j=g(G),Y=v(),T=r("a"),$=Wt("svg"),N=Wt("path"),I=v(),S=g(F),he=v(),z=r("div"),B=r("p"),d=g(X),k=v(),O=r("p"),ne=g(W),Z=v(),x=r("div"),K=r("p"),at=g(Se),qt=v(),ge=r("p"),lt=g(Oe),Gt=v(),re=r("div"),be=r("p"),nt=g(je),Yt=v(),ye=r("p"),rt=g(Fe),Kt=v(),oe=r("div"),Ee=r("p"),ot=g(He),Qt=v(),we=r("p"),it=g(Ue),Xt=v(),ie=r("div"),De=r("p"),ct=g(ze),Zt=v(),Pe=r("p"),ut=g(We),es=v(),ce=r("div"),Ne=r("p"),dt=g(xe),ts=v(),ue=r("span"),ft=g(Je),ss=v(),ee=r("div"),Ae=r("h2"),pt=g(Re),as=v(),H=r("div"),de=r("div"),Ie=r("p"),vt=g(qe),ls=v(),te=r("div"),ke=r("div"),fe=r("div"),ns=v(),Ve=r("p"),_t=g(Ge),rs=v(),me=r("div"),Me=r("p"),ht=g(Ye),os=v(),Le=r("p"),gt=g(Ke),is=v(),pe=r("div"),Te=r("p"),bt=g(Qe),cs=v(),se=r("p"),yt=g(Xe),us=v(),Et=g(Ze),ds=v(),ve=r("div"),Be=r("p"),wt=g(et),fs=v(),$e=r("p"),Dt=g(tt),Pt=v(),_e=r("div"),qs(ae.$$.fragment),this.h()},l(i){u=o(i,"DIV",{class:!0});var c=l(u);m=o(c,"DIV",{class:!0});var J=l(m);f=o(J,"H2",{class:!0});var vs=l(f);s=b(vs,h),vs.forEach(a),A=_(J),E=o(J,"DIV",{class:!0});var C=l(E);w=o(C,"DIV",{});var Nt=l(w);P=o(Nt,"P",{class:!0});var _s=l(P);V=b(_s,L),_s.forEach(a),D=_(Nt),M=o(Nt,"DIV",{class:!0});var At=l(M);U=o(At,"P",{class:!0});var hs=l(U);j=b(hs,G),hs.forEach(a),Y=_(At),T=o(At,"A",{href:!0,class:!0});var It=l(T);$=xt(It,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var gs=l($);N=xt(gs,"path",{d:!0}),l(N).forEach(a),gs.forEach(a),I=_(It),S=b(It,F),It.forEach(a),At.forEach(a),Nt.forEach(a),he=_(C),z=o(C,"DIV",{});var kt=l(z);B=o(kt,"P",{class:!0});var bs=l(B);d=b(bs,X),bs.forEach(a),k=_(kt),O=o(kt,"P",{class:!0});var ys=l(O);ne=b(ys,W),ys.forEach(a),kt.forEach(a),Z=_(C),x=o(C,"DIV",{});var Vt=l(x);K=o(Vt,"P",{class:!0});var Es=l(K);at=b(Es,Se),Es.forEach(a),qt=_(Vt),ge=o(Vt,"P",{class:!0});var ws=l(ge);lt=b(ws,Oe),ws.forEach(a),Vt.forEach(a),Gt=_(C),re=o(C,"DIV",{});var Mt=l(re);be=o(Mt,"P",{class:!0});var Ds=l(be);nt=b(Ds,je),Ds.forEach(a),Yt=_(Mt),ye=o(Mt,"P",{class:!0});var Ps=l(ye);rt=b(Ps,Fe),Ps.forEach(a),Mt.forEach(a),Kt=_(C),oe=o(C,"DIV",{});var Lt=l(oe);Ee=o(Lt,"P",{class:!0});var Ns=l(Ee);ot=b(Ns,He),Ns.forEach(a),Qt=_(Lt),we=o(Lt,"P",{class:!0});var As=l(we);it=b(As,Ue),As.forEach(a),Lt.forEach(a),Xt=_(C),ie=o(C,"DIV",{});var Tt=l(ie);De=o(Tt,"P",{class:!0});var Is=l(De);ct=b(Is,ze),Is.forEach(a),Zt=_(Tt),Pe=o(Tt,"P",{class:!0});var ks=l(Pe);ut=b(ks,We),ks.forEach(a),Tt.forEach(a),es=_(C),ce=o(C,"DIV",{});var Bt=l(ce);Ne=o(Bt,"P",{class:!0});var Vs=l(Ne);dt=b(Vs,xe),Vs.forEach(a),ts=_(Bt),ue=o(Bt,"SPAN",{class:!0});var Ms=l(ue);ft=b(Ms,Je),Ms.forEach(a),Bt.forEach(a),C.forEach(a),J.forEach(a),ss=_(c),ee=o(c,"DIV",{class:!0});var $t=l(ee);Ae=o($t,"H2",{class:!0});var Ls=l(Ae);pt=b(Ls,Re),Ls.forEach(a),as=_($t),H=o($t,"DIV",{class:!0});var le=l(H);de=o(le,"DIV",{});var Ct=l(de);Ie=o(Ct,"P",{class:!0});var Ts=l(Ie);vt=b(Ts,qe),Ts.forEach(a),ls=_(Ct),te=o(Ct,"DIV",{class:!0});var St=l(te);ke=o(St,"DIV",{class:!0});var Bs=l(ke);fe=o(Bs,"DIV",{class:!0,style:!0}),l(fe).forEach(a),Bs.forEach(a),ns=_(St),Ve=o(St,"P",{class:!0});var $s=l(Ve);_t=b($s,Ge),$s.forEach(a),St.forEach(a),Ct.forEach(a),rs=_(le),me=o(le,"DIV",{});var Ot=l(me);Me=o(Ot,"P",{class:!0});var Cs=l(Me);ht=b(Cs,Ye),Cs.forEach(a),os=_(Ot),Le=o(Ot,"P",{class:!0});var Ss=l(Le);gt=b(Ss,Ke),Ss.forEach(a),Ot.forEach(a),is=_(le),pe=o(le,"DIV",{});var jt=l(pe);Te=o(jt,"P",{class:!0});var Os=l(Te);bt=b(Os,Qe),Os.forEach(a),cs=_(jt),se=o(jt,"P",{class:!0});var Ft=l(se);yt=b(Ft,Xe),us=_(Ft),Et=b(Ft,Ze),Ft.forEach(a),jt.forEach(a),ds=_(le),ve=o(le,"DIV",{});var Ht=l(ve);Be=o(Ht,"P",{class:!0});var js=l(Be);wt=b(js,et),js.forEach(a),fs=_(Ht),$e=o(Ht,"P",{class:!0});var Fs=l($e);Dt=b(Fs,tt),Fs.forEach(a),Ht.forEach(a),le.forEach(a),$t.forEach(a),c.forEach(a),Pt=_(i),_e=o(i,"DIV",{class:!0});var Hs=l(_e);Gs(ae.$$.fragment,Hs),Hs.forEach(a),this.h()},h(){n(f,"class","text-lg font-medium text-gray-900 mb-4"),n(P,"class","text-sm text-gray-500"),n(U,"class","font-medium"),n(N,"d","M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"),n($,"xmlns","http://www.w3.org/2000/svg"),n($,"class","h-4 w-4 mr-1"),n($,"viewBox","0 0 20 20"),n($,"fill","currentColor"),n(T,"href",Q=`/clients/${t[0].clientId}`),n(T,"class","inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-primary-700 bg-primary-100 hover:bg-primary-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"),n(M,"class","flex items-center space-x-2"),n(B,"class","text-sm text-gray-500"),n(O,"class","font-medium"),n(K,"class","text-sm text-gray-500"),n(ge,"class","font-medium"),n(be,"class","text-sm text-gray-500"),n(ye,"class","font-medium"),n(Ee,"class","text-sm text-gray-500"),n(we,"class","font-medium"),n(De,"class","text-sm text-gray-500"),n(Pe,"class","font-medium"),n(Ne,"class","text-sm text-gray-500"),n(ue,"class",mt="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+Js(t[0].status)),n(E,"class","space-y-4"),n(m,"class","bg-white shadow-sm rounded-lg p-6"),n(Ae,"class","text-lg font-medium text-gray-900 mb-4"),n(Ie,"class","text-sm text-gray-500"),n(fe,"class","bg-primary-600 h-2.5 rounded-full"),zs(fe,"width",t[0].currentProgress+"%"),n(ke,"class","w-full bg-gray-200 rounded-full h-2.5"),n(Ve,"class","text-sm text-gray-600 mt-1"),n(te,"class","mt-2"),n(Me,"class","text-sm text-gray-500"),n(Le,"class","font-medium"),n(Te,"class","text-sm text-gray-500"),n(se,"class","font-medium"),n(Be,"class","text-sm text-gray-500"),n($e,"class","font-medium"),n(H,"class","space-y-4"),n(ee,"class","bg-white shadow-sm rounded-lg p-6"),n(u,"class","grid grid-cols-1 md:grid-cols-2 gap-6"),n(_e,"class","mt-6")},m(i,c){R(i,u,c),e(u,m),e(m,f),e(f,s),e(m,A),e(m,E),e(E,w),e(w,P),e(P,V),e(w,D),e(w,M),e(M,U),e(U,j),e(M,Y),e(M,T),e(T,$),e($,N),e(T,I),e(T,S),e(E,he),e(E,z),e(z,B),e(B,d),e(z,k),e(z,O),e(O,ne),e(E,Z),e(E,x),e(x,K),e(K,at),e(x,qt),e(x,ge),e(ge,lt),e(E,Gt),e(E,re),e(re,be),e(be,nt),e(re,Yt),e(re,ye),e(ye,rt),e(E,Kt),e(E,oe),e(oe,Ee),e(Ee,ot),e(oe,Qt),e(oe,we),e(we,it),e(E,Xt),e(E,ie),e(ie,De),e(De,ct),e(ie,Zt),e(ie,Pe),e(Pe,ut),e(E,es),e(E,ce),e(ce,Ne),e(Ne,dt),e(ce,ts),e(ce,ue),e(ue,ft),e(u,ss),e(u,ee),e(ee,Ae),e(Ae,pt),e(ee,as),e(ee,H),e(H,de),e(de,Ie),e(Ie,vt),e(de,ls),e(de,te),e(te,ke),e(ke,fe),e(te,ns),e(te,Ve),e(Ve,_t),e(H,rs),e(H,me),e(me,Me),e(Me,ht),e(me,os),e(me,Le),e(Le,gt),e(H,is),e(H,pe),e(pe,Te),e(Te,bt),e(pe,cs),e(pe,se),e(se,yt),e(se,us),e(se,Et),e(H,ds),e(H,ve),e(ve,Be),e(Be,wt),e(ve,fs),e(ve,$e),e($e,Dt),R(i,Pt,c),R(i,_e,c),Ys(ae,_e,null),p=!0},p(i,c){(!p||c&4)&&h!==(h=i[2]("cessions.details.cession_info")+"")&&y(s,h),(!p||c&4)&&L!==(L=i[2]("cessions.details.client")+"")&&y(V,L),(!p||c&1)&&G!==(G=i[0].clientName+"")&&y(j,G),(!p||c&4)&&F!==(F=i[2]("cessions.details.view_profile")+"")&&y(S,F),(!p||c&1&&Q!==(Q=`/clients/${i[0].clientId}`))&&n(T,"href",Q),(!p||c&4)&&X!==(X=i[2]("cessions.details.bank_agency")+"")&&y(d,X),(!p||c&1)&&W!==(W=i[0].bankOrAgency+"")&&y(ne,W),(!p||c&4)&&Se!==(Se=i[2]("cessions.details.total_loan")+"")&&y(at,Se),(!p||c&1)&&Oe!==(Oe=q(i[0].totalLoanAmount)+"")&&y(lt,Oe),(!p||c&4)&&je!==(je=i[2]("cessions.details.monthly_payment")+"")&&y(nt,je),(!p||c&1)&&Fe!==(Fe=q(i[0].monthlyPayment)+"")&&y(rt,Fe),(!p||c&4)&&He!==(He=i[2]("cessions.details.start_date")+"")&&y(ot,He),(!p||c&1)&&Ue!==(Ue=Ce(i[0].startDate)+"")&&y(it,Ue),(!p||c&4)&&ze!==(ze=i[2]("cessions.details.end_date")+"")&&y(ct,ze),(!p||c&1)&&We!==(We=Ce(i[0].endDate)+"")&&y(ut,We),(!p||c&4)&&xe!==(xe=i[2]("common.status")+"")&&y(dt,xe),(!p||c&1)&&Je!==(Je=i[3](i[0].status)+"")&&y(ft,Je),(!p||c&1&&mt!==(mt="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+Js(i[0].status)))&&n(ue,"class",mt),(!p||c&4)&&Re!==(Re=i[2]("cessions.details.progress_info")+"")&&y(pt,Re),(!p||c&4)&&qe!==(qe=i[2]("cessions.details.current_progress")+"")&&y(vt,qe),(!p||c&1)&&zs(fe,"width",i[0].currentProgress+"%"),(!p||c&1)&&Ge!==(Ge=xs(i[0].currentProgress)+"")&&y(_t,Ge),(!p||c&4)&&Ye!==(Ye=i[2]("cessions.details.remaining_balance")+"")&&y(ht,Ye),(!p||c&1)&&Ke!==(Ke=q(i[0].remainingBalance)+"")&&y(gt,Ke),(!p||c&4)&&Qe!==(Qe=i[2]("cessions.details.months_remaining")+"")&&y(bt,Qe),(!p||c&1)&&Xe!==(Xe=i[0].monthsRemaining+"")&&y(yt,Xe),(!p||c&4)&&Ze!==(Ze=i[2]("common.months")+"")&&y(Et,Ze),(!p||c&4)&&et!==(et=i[2]("cessions.details.expected_payoff")+"")&&y(wt,et),(!p||c&1)&&tt!==(tt=Ce(i[0].expectedPayoffDate)+"")&&y(Dt,tt);const J={};c&1&&(J.cessionId=i[0].id),c&1&&(J.remainingBalance=i[0].remainingBalance),c&1&&(J.totalLoanAmount=i[0].totalLoanAmount),c&1&&(J.monthlyPayment=i[0].monthlyPayment),ae.$set(J)},i(i){p||(Rt(ae.$$.fragment,i),p=!0)},o(i){Jt(ae.$$.fragment,i),p=!1},d(i){i&&(a(u),a(Pt),a(_e)),Ks(ae)}}}function va(t){let u,m,f;return m=new ia({props:{isLoading:!0,size:"lg"}}),{c(){u=r("div"),qs(m.$$.fragment),this.h()},l(h){u=o(h,"DIV",{class:!0});var s=l(u);Gs(m.$$.fragment,s),s.forEach(a),this.h()},h(){n(u,"class","flex justify-center py-12")},m(h,s){R(h,u,s),Ys(m,u,null),f=!0},p:sa,i(h){f||(Rt(m.$$.fragment,h),f=!0)},o(h){Jt(m.$$.fragment,h),f=!1},d(h){h&&a(u),Ks(m)}}}function _a(t){let u,m,f,h,s,A,E,w=t[2]("cessions.details.actions.back")+"",P,L,V,D,M=t[2]("cessions.details.actions.preview_document")+"",U,G,j,Y=t[2]("cessions.details.actions.download_document")+"",T,$,N,I,F,S,Q,he;document.title=u=t[2]("cessions.details.title")+" | "+t[2]("common.app_title");const z=[va,pa],B=[];function X(d,k){return d[1]?0:d[0]?1:-1}return~(N=X(t))&&(I=B[N]=z[N](t)),{c(){m=v(),f=r("div"),h=r("button"),s=Wt("svg"),A=Wt("path"),E=v(),P=g(w),L=v(),V=r("div"),D=r("button"),U=g(M),G=v(),j=r("button"),T=g(Y),$=v(),I&&I.c(),F=Us(),this.h()},l(d){Xs("svelte-1fljqwx",document.head).forEach(a),m=_(d),f=o(d,"DIV",{class:!0});var O=l(f);h=o(O,"BUTTON",{class:!0});var W=l(h);s=xt(W,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var ne=l(s);A=xt(ne,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),l(A).forEach(a),ne.forEach(a),E=_(W),P=b(W,w),W.forEach(a),O.forEach(a),L=_(d),V=o(d,"DIV",{class:!0});var Z=l(V);D=o(Z,"BUTTON",{class:!0});var x=l(D);U=b(x,M),x.forEach(a),G=_(Z),j=o(Z,"BUTTON",{class:!0});var K=l(j);T=b(K,Y),K.forEach(a),Z.forEach(a),$=_(d),I&&I.l(d),F=Us(),this.h()},h(){n(A,"fill-rule","evenodd"),n(A,"d","M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z"),n(A,"clip-rule","evenodd"),n(s,"xmlns","http://www.w3.org/2000/svg"),n(s,"class","h-4 w-4 mr-2"),n(s,"viewBox","0 0 20 20"),n(s,"fill","currentColor"),n(h,"class","inline-flex items-center px-3 py-2 border border-gray-300 text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 mb-4"),n(f,"class","mb-6"),n(D,"class","inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700"),n(j,"class","inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700"),n(V,"class","flex justify-end space-x-4 mb-6")},m(d,k){R(d,m,k),R(d,f,k),e(f,h),e(h,s),e(s,A),e(h,E),e(h,P),R(d,L,k),R(d,V,k),e(V,D),e(D,U),e(V,G),e(V,j),e(j,T),R(d,$,k),~N&&B[N].m(d,k),R(d,F,k),S=!0,Q||(he=[ms(h,"click",t[7]),ms(D,"click",t[4]),ms(j,"click",t[5])],Q=!0)},p(d,[k]){(!S||k&4)&&u!==(u=d[2]("cessions.details.title")+" | "+d[2]("common.app_title"))&&(document.title=u),(!S||k&4)&&w!==(w=d[2]("cessions.details.actions.back")+"")&&y(P,w),(!S||k&4)&&M!==(M=d[2]("cessions.details.actions.preview_document")+"")&&y(U,M),(!S||k&4)&&Y!==(Y=d[2]("cessions.details.actions.download_document")+"")&&y(T,Y);let O=N;N=X(d),N===O?~N&&B[N].p(d,k):(I&&(ra(),Jt(B[O],1,1,()=>{B[O]=null}),na()),~N?(I=B[N],I?I.p(d,k):(I=B[N]=z[N](d),I.c()),Rt(I,1),I.m(F.parentNode,F)):I=null)},i(d){S||(Rt(I),S=!0)},o(d){Jt(I),S=!1},d(d){d&&(a(m),a(f),a(L),a(V),a($),a(F)),~N&&B[N].d(d),Q=!1,Zs(he)}}}function Ce(t){if(!t)return"N/A";const u=new Date(t),m=u.toLocaleString("en-US",{month:"long"}),f=u.toLocaleString("fr-FR",{month:"long"});return`${u.getDate()} ${m} ${u.getFullYear()} (${u.getDate()} ${f} ${u.getFullYear()})`}function q(t){return t==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)}function xs(t){return t==null?"N/A":`${t}%`}function Js(t){switch(t){case"ACTIVE":return"bg-green-100 text-green-800";case"COMPLETED":return"bg-blue-100 text-blue-800";case"CANCELLED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}function Rs(t){const u=["","ألف","مليون","مليار"],m=["صفر","واحد","اثنان","ثلاثة","أربعة","خمسة","ستة","سبعة","ثمانية","تسعة"],f=["عشرة","أحد عشر","اثنا عشر","ثلاثة عشر","أربعة عشر","خمسة عشر","ستة عشر","سبعة عشر","ثمانية عشر","تسعة عشر"],h=["","","عشرون","ثلاثون","أربعون","خمسون","ستون","سبعون","ثمانون","تسعون"],s=["","مائة","مئتان","ثلاثمائة","أربعمائة","خمسمائة","ستمائة","سبعمائة","ثمانمائة","تسعمائة"];if(t===0)return m[0];let A="",E=0;for(;t>0;){let w=t%1e3;if(w!==0){let P="";if(w>=100&&(P+=s[Math.floor(w/100)]+" ",w%=100),w>0)if(w<10)P+=m[w];else if(w<20)P+=f[w-10];else{let L=w%10,V=Math.floor(w/10);L>0&&(P+=m[L]+" و "),P+=h[V]}E>0&&(P+=" "+u[E]),A?A=P+" و "+A:A=P}t=Math.floor(t/1e3),E++}return A+" دينارا"}function zt(t){if(!t)return new Date;const u=new Date(t);return isNaN(u.getTime())?new Date:u}function ha(t,u,m){let f;ea(t,fa,D=>m(2,f=D));let{data:h}=u,s=null,A=!0;ta(async()=>{if(!h.id){st(f("cessions.errors.invalid_id"),"error"),ps("/cessions");return}await E()});async function E(){m(1,A=!0);try{m(0,s=await oa.getById(h.id)),s||(st(f("cessions.errors.not_found"),"error"),ps("/cessions"))}catch(D){st(D.message||f("cessions.errors.load_failed"),"error"),ps("/cessions")}finally{m(1,A=!1)}}function w(D){switch(D?.toUpperCase()){case"ACTIVE":return f("cessions.details.status.active");case"FINISHED":return f("cessions.details.status.finished");case"CANCELLED":return f("cessions.details.status.cancelled");case"PENDING":return f("cessions.details.status.pending");default:return D}}async function P(){if(!s)return;const D={workerNumber:s.clientNumber,fullName:s.clientName,cin:s.clientCin,address:s.clientAddress,workplace:s.clientWorkplace,jobTitle:s.clientJob,bankAccountNumber:s.bankOrAgency,itemDescription:s.itemDescription,amountInWords:Rs(s.totalLoanAmount),totalAmountNumeric:q(s.totalLoanAmount),monthlyPayment:q(s.monthlyPayment),firstDeductionMonthArabic:Ut(zt(s.startDate),"MMMM yyyy",{locale:Ws}),supplierName:s.supplierName,supplierTaxId:s.supplierTaxId,supplierAddress:s.supplierAddress,supplierBankAccount:s.supplierBankAccount,courtName:s.courtName,bookNumber:s.bookNumber,pageNumber:s.pageNumber,date:Ut(zt(s.createdAt),"dd/MM/yyyy")};try{await ua(D)}catch{st(f("cessions.errors.preview_failed"),"error")}}async function L(){if(!s)return;const D={workerNumber:s.clientNumber,fullName:s.clientName,cin:s.clientCin,address:s.clientAddress,workplace:s.clientWorkplace,jobTitle:s.clientJob,bankAccountNumber:s.bankOrAgency,itemDescription:s.itemDescription,amountInWords:Rs(s.totalLoanAmount),totalAmountNumeric:q(s.totalLoanAmount),monthlyPayment:q(s.monthlyPayment),firstDeductionMonthArabic:Ut(zt(s.startDate),"MMMM yyyy",{locale:Ws}),supplierName:s.supplierName,supplierTaxId:s.supplierTaxId,supplierAddress:s.supplierAddress,supplierBankAccount:s.supplierBankAccount,courtName:s.courtName,bookNumber:s.bookNumber,pageNumber:s.pageNumber,date:Ut(zt(s.createdAt),"dd/MM/yyyy")};try{await da(D)}catch{st(f("cessions.errors.download_failed"),"error")}}const V=()=>window.history.back();return t.$$set=D=>{"data"in D&&m(6,h=D.data)},[s,A,f,w,P,L,h,V]}class ka extends aa{constructor(u){super(),la(this,u,ha,_a,Qs,{data:6})}}export{ka as component,Ia as universal};
