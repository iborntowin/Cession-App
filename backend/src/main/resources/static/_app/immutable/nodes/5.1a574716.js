import{s as ds,f as o,a as v,l as P,F as Me,g as i,h as u,y as fe,c as p,m as A,d as a,G as Te,J as fs,j as t,k as de,K as Ae,i as qe,w as e,z as rt,Q as hs,n as K,L as us,H as Nl,u as Sl,o as vs,x as tl,N as Ft,R as cs,I as Bt}from"../chunks/scheduler.fb6ad399.js";import{S as ps,i as ms,a as st,t as Et,c as Xt,f as Pt,g as Yt}from"../chunks/index.19f0e15d.js";import{e as Cl}from"../chunks/each.eb6105d2.js";import{s as Ot,g as _s}from"../chunks/navigation.68a3d764.js";import{c as sl,b as bs}from"../chunks/api.b4688d57.js";import{a as gs,o as ks}from"../chunks/pdfGenerator.aa2f9fb1.js";import{p as ws}from"../chunks/stores.f83cb6aa.js";import{t as xs}from"../chunks/index.92f608cc.js";import{l as ys}from"../chunks/language.610d3d52.js";import{s as Gl,f as el,b as Il}from"../chunks/index.548ee1c0.js";import{f as Dl}from"../chunks/index.7c030542.js";import{a as Es}from"../chunks/index.e61f0a07.js";function Kl(s,l,r){const n=s.slice();return n[46]=l[r],n[48]=r,n}function Ql(s,l,r){const n=s.slice();return n[49]=l[r],n}function Xl(s){let l,r,n,c,h,f="Auto-saved";return{c(){l=o("div"),r=o("div"),c=v(),h=o("span"),h.textContent=f,this.h()},l(m){l=i(m,"DIV",{class:!0});var _=u(l);r=i(_,"DIV",{class:!0}),u(r).forEach(a),c=p(_),h=i(_,"SPAN",{class:!0,"data-svelte-h":!0}),fe(h)!=="svelte-klncmc"&&(h.textContent=f),_.forEach(a),this.h()},h(){t(r,"class",n="w-2 h-2 bg-green-500 rounded-full "+(s[1]?"ml-2":"mr-2")),t(h,"class","text-xs font-semibold text-green-800"),t(l,"class","flex items-center px-3 py-1.5 bg-green-100 rounded-full")},m(m,_){qe(m,l,_),e(l,r),e(l,c),e(l,h)},p(m,_){_[0]&2&&n!==(n="w-2 h-2 bg-green-500 rounded-full "+(m[1]?"ml-2":"mr-2"))&&t(r,"class",n)},d(m){m&&a(l)}}}function Yl(s){let l,r,n,c='<svg class="w-6 h-6 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg>',h,f,m,_="Error",N,d,D,S,x,w,V='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',I,y,U,C;return{c(){l=o("div"),r=o("div"),n=o("div"),n.innerHTML=c,h=v(),f=o("div"),m=o("h3"),m.textContent=_,N=v(),d=o("p"),D=P(s[5]),x=v(),w=o("button"),w.innerHTML=V,this.h()},l(M){l=i(M,"DIV",{class:!0});var b=u(l);r=i(b,"DIV",{class:!0});var k=u(r);n=i(k,"DIV",{class:!0,"data-svelte-h":!0}),fe(n)!=="svelte-zb3iov"&&(n.innerHTML=c),h=p(k),f=i(k,"DIV",{class:!0});var L=u(f);m=i(L,"H3",{class:!0,"data-svelte-h":!0}),fe(m)!=="svelte-19bx9j4"&&(m.textContent=_),N=p(L),d=i(L,"P",{class:!0});var H=u(d);D=A(H,s[5]),H.forEach(a),L.forEach(a),x=p(k),w=i(k,"BUTTON",{class:!0,"data-svelte-h":!0}),fe(w)!=="svelte-1gcq7z0"&&(w.innerHTML=V),k.forEach(a),b.forEach(a),this.h()},h(){t(n,"class","flex-shrink-0"),t(m,"class","text-sm font-medium text-red-800"),t(d,"class","text-sm text-red-700 mt-1"),t(f,"class",S=s[1]?"mr-3":"ml-3"),t(w,"class","ml-auto p-1 text-red-400 hover:text-red-600 transition-colors"),t(r,"class","flex items-center"),t(l,"class","mb-8 bg-red-50/80 backdrop-blur-sm border border-red-200 rounded-2xl p-6 shadow-lg")},m(M,b){qe(M,l,b),e(l,r),e(r,n),e(r,h),e(r,f),e(f,m),e(f,N),e(f,d),e(d,D),e(r,x),e(r,w),y=!0,U||(C=rt(w,"click",s[28]),U=!0)},p(M,b){(!y||b[0]&32)&&K(D,M[5]),(!y||b[0]&2&&S!==(S=M[1]?"mr-3":"ml-3"))&&t(f,"class",S)},i(M){y||(M&&tl(()=>{y&&(I||(I=Pt(l,Gl,{duration:300},!0)),I.run(1))}),y=!0)},o(M){M&&(I||(I=Pt(l,Gl,{duration:300},!1)),I.run(0)),y=!1},d(M){M&&a(l),M&&I&&I.end(),U=!1,C()}}}function Cs(s){let l=s[49]+"",r;return{c(){r=P(l)},l(n){r=A(n,l)},m(n,c){qe(n,r,c)},p:Bt,d(n){n&&a(r)}}}function Is(s){let l,r;return{c(){l=Me("svg"),r=Me("path"),this.h()},l(n){l=Te(n,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var c=u(l);r=Te(c,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),u(r).forEach(a),c.forEach(a),this.h()},h(){t(r,"stroke-linecap","round"),t(r,"stroke-linejoin","round"),t(r,"stroke-width","2"),t(r,"d","M5 13l4 4L19 7"),t(l,"class","w-5 h-5"),t(l,"fill","none"),t(l,"stroke","currentColor"),t(l,"viewBox","0 0 24 24")},m(n,c){qe(n,l,c),e(l,r)},p:Bt,d(n){n&&a(l)}}}function Ds(s){let l,r,n;return{c(){l=o("div"),r=o("div"),this.h()},l(c){l=i(c,"DIV",{class:!0});var h=u(l);r=i(h,"DIV",{class:!0}),u(r).forEach(a),h.forEach(a),this.h()},h(){t(r,"class",n="h-full bg-emerald-500 transition-all duration-500 "+(s[49]<s[7]?"w-full":"w-0")),t(l,"class","w-16 h-1 mx-2 bg-gray-200 rounded-full overflow-hidden")},m(c,h){qe(c,l,h),e(l,r)},p(c,h){h[0]&128&&n!==(n="h-full bg-emerald-500 transition-all duration-500 "+(c[49]<c[7]?"w-full":"w-0"))&&t(r,"class",n)},d(c){c&&a(l)}}}function Zl(s){let l,r,n,c,h,f,m;function _(x,w){return x[49]<x[7]?Is:Cs}let N=_(s),d=N(s);function D(){return s[29](s[49])}let S=s[49]<zt&&Ds(s);return{c(){l=o("div"),r=o("button"),d.c(),c=v(),S&&S.c(),h=v(),this.h()},l(x){l=i(x,"DIV",{class:!0});var w=u(l);r=i(w,"BUTTON",{class:!0});var V=u(r);d.l(V),V.forEach(a),c=p(w),S&&S.l(w),h=p(w),w.forEach(a),this.h()},h(){t(r,"class",n="w-10 h-10 rounded-full flex items-center justify-center font-semibold text-sm transition-all duration-200 "+(s[49]===s[7]?"bg-emerald-600 text-white shadow-lg":s[49]<s[7]?"bg-emerald-100 text-emerald-600 hover:bg-emerald-200":"bg-gray-100 text-gray-400")),t(l,"class","flex items-center")},m(x,w){qe(x,l,w),e(l,r),d.m(r,null),e(l,c),S&&S.m(l,null),e(l,h),f||(m=rt(r,"click",D),f=!0)},p(x,w){s=x,N===(N=_(s))&&d?d.p(s,w):(d.d(1),d=N(s),d&&(d.c(),d.m(r,null))),w[0]&128&&n!==(n="w-10 h-10 rounded-full flex items-center justify-center font-semibold text-sm transition-all duration-200 "+(s[49]===s[7]?"bg-emerald-600 text-white shadow-lg":s[49]<s[7]?"bg-emerald-100 text-emerald-600 hover:bg-emerald-200":"bg-gray-100 text-gray-400"))&&t(r,"class",n),s[49]<zt&&S.p(s,w)},d(x){x&&a(l),d.d(),S&&S.d(),f=!1,m()}}}function $l(s){let l,r,n,c='<svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>',h,f,m,_=s[15]("cessions.create.select_client")+"",N,d,D,S,x,w,V,I,y,U,C=s[15]("common.actions.next")+"",M,b,k,L,H,W,oe,le,F,G;const Q=[Vs,Ns],T=[];function $(O,z){return O[0].clientId?1:0}return w=$(s),V=T[w]=Q[w](s),{c(){l=o("div"),r=o("div"),n=o("div"),n.innerHTML=c,h=v(),f=o("div"),m=o("h2"),N=P(_),d=v(),D=o("p"),S=P("Search and select a client to create a cession for"),x=v(),V.c(),I=v(),y=o("div"),U=o("button"),M=P(C),b=v(),k=Me("svg"),L=Me("path"),this.h()},l(O){l=i(O,"DIV",{class:!0});var z=u(l);r=i(z,"DIV",{class:!0});var q=u(r);n=i(q,"DIV",{class:!0,"data-svelte-h":!0}),fe(n)!=="svelte-1qzt5k7"&&(n.innerHTML=c),h=p(q),f=i(q,"DIV",{});var ue=u(f);m=i(ue,"H2",{class:!0,style:!0});var je=u(m);N=A(je,_),je.forEach(a),d=p(ue),D=i(ue,"P",{class:!0,style:!0});var me=u(D);S=A(me,"Search and select a client to create a cession for"),me.forEach(a),ue.forEach(a),q.forEach(a),x=p(z),V.l(z),I=p(z),y=i(z,"DIV",{class:!0});var ce=u(y);U=i(ce,"BUTTON",{type:!0,class:!0});var X=u(U);M=A(X,C),b=p(X),k=Te(X,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var ke=u(k);L=Te(ke,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),u(L).forEach(a),ke.forEach(a),X.forEach(a),ce.forEach(a),z.forEach(a),this.h()},h(){t(n,"class","w-12 h-12 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-xl flex items-center justify-center"),t(m,"class","text-2xl font-bold text-gray-900"),de(m,"text-align",s[13]),t(D,"class","text-gray-500"),de(D,"text-align",s[13]),t(r,"class","flex items-center space-x-4 mb-6"),Ae(r,"space-x-reverse",s[1]),t(L,"stroke-linecap","round"),t(L,"stroke-linejoin","round"),t(L,"stroke-width","2"),t(L,"d","M9 5l7 7-7 7"),t(k,"class",H="w-5 h-5 "+(s[1]?"mr-2":"ml-2")),t(k,"fill","none"),t(k,"stroke","currentColor"),t(k,"viewBox","0 0 24 24"),t(U,"type","button"),U.disabled=W=!s[0].clientId,t(U,"class","flex items-center px-6 py-3 bg-gradient-to-r from-emerald-600 to-teal-600 text-white rounded-xl hover:from-emerald-700 hover:to-teal-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl font-medium"),t(y,"class","flex justify-end mt-8"),t(l,"class","bg-white/90 backdrop-blur-sm rounded-2xl p-8 shadow-lg border border-white/20")},m(O,z){qe(O,l,z),e(l,r),e(r,n),e(r,h),e(r,f),e(f,m),e(m,N),e(f,d),e(f,D),e(D,S),e(l,x),T[w].m(l,null),e(l,I),e(l,y),e(y,U),e(U,M),e(U,b),e(U,k),e(k,L),le=!0,F||(G=rt(U,"click",s[16]),F=!0)},p(O,z){(!le||z[0]&32768)&&_!==(_=O[15]("cessions.create.select_client")+"")&&K(N,_),(!le||z[0]&8192)&&de(m,"text-align",O[13]),(!le||z[0]&8192)&&de(D,"text-align",O[13]),(!le||z[0]&2)&&Ae(r,"space-x-reverse",O[1]);let q=w;w=$(O),w===q?T[w].p(O,z):(Yt(),Et(T[q],1,1,()=>{T[q]=null}),Xt(),V=T[w],V?V.p(O,z):(V=T[w]=Q[w](O),V.c()),st(V,1),V.m(l,I)),(!le||z[0]&32768)&&C!==(C=O[15]("common.actions.next")+"")&&K(M,C),(!le||z[0]&2&&H!==(H="w-5 h-5 "+(O[1]?"mr-2":"ml-2")))&&t(k,"class",H),(!le||z[0]&1&&W!==(W=!O[0].clientId))&&(U.disabled=W)},i(O){le||(st(V),O&&tl(()=>{le&&(oe||(oe=Pt(l,el,{duration:300},!0)),oe.run(1))}),le=!0)},o(O){Et(V),O&&(oe||(oe=Pt(l,el,{duration:300},!1)),oe.run(0)),le=!1},d(O){O&&a(l),T[w].d(),O&&oe&&oe.end(),F=!1,G()}}}function Ns(s){let l,r,n,c,h=(s[0].clientName||"U").charAt(0)+"",f,m,_,N,d=s[0].clientName+"",D,S,x,w="Selected Client",V,I,y='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',U,C,M,b,k="CIN",L,H,W=s[0].clientCin+"",oe,le,F,G,Q="Client Number",T,$,O=s[0].clientNumber+"",z,q,ue,je,me="Job",ce,X,ke=(s[0].clientJob||"Not specified")+"",Pe,Je,g,ee,ae="Workplace",J,he,Be=(s[0].clientWorkplace||"Not specified")+"",Le,at,Ke,He,ve="Address",Re,_e,Ee=(s[0].clientAddress||"Not specified")+"",We,Xe,Oe,we,ze;return{c(){l=o("div"),r=o("div"),n=o("div"),c=o("div"),f=P(h),m=v(),_=o("div"),N=o("h3"),D=P(d),S=v(),x=o("p"),x.textContent=w,V=v(),I=o("button"),I.innerHTML=y,U=v(),C=o("div"),M=o("div"),b=o("p"),b.textContent=k,L=v(),H=o("p"),oe=P(W),le=v(),F=o("div"),G=o("p"),G.textContent=Q,T=v(),$=o("p"),z=P(O),q=v(),ue=o("div"),je=o("p"),je.textContent=me,ce=v(),X=o("p"),Pe=P(ke),Je=v(),g=o("div"),ee=o("p"),ee.textContent=ae,J=v(),he=o("p"),Le=P(Be),at=v(),Ke=o("div"),He=o("p"),He.textContent=ve,Re=v(),_e=o("p"),We=P(Ee),this.h()},l(Y){l=i(Y,"DIV",{class:!0});var Ue=u(l);r=i(Ue,"DIV",{class:!0});var vt=u(r);n=i(vt,"DIV",{class:!0});var Ce=u(n);c=i(Ce,"DIV",{class:!0});var pt=u(c);f=A(pt,h),pt.forEach(a),m=p(Ce),_=i(Ce,"DIV",{});var Ze=u(_);N=i(Ze,"H3",{class:!0});var nt=u(N);D=A(nt,d),nt.forEach(a),S=p(Ze),x=i(Ze,"P",{class:!0,"data-svelte-h":!0}),fe(x)!=="svelte-o3ju4f"&&(x.textContent=w),Ze.forEach(a),Ce.forEach(a),V=p(vt),I=i(vt,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),fe(I)!=="svelte-kczixo"&&(I.innerHTML=y),vt.forEach(a),U=p(Ue),C=i(Ue,"DIV",{class:!0});var pe=u(C);M=i(pe,"DIV",{});var ie=u(M);b=i(ie,"P",{class:!0,"data-svelte-h":!0}),fe(b)!=="svelte-9z77um"&&(b.textContent=k),L=p(ie),H=i(ie,"P",{class:!0});var Ct=u(H);oe=A(Ct,W),Ct.forEach(a),ie.forEach(a),le=p(pe),F=i(pe,"DIV",{});var ct=u(F);G=i(ct,"P",{class:!0,"data-svelte-h":!0}),fe(G)!=="svelte-nrbjvg"&&(G.textContent=Q),T=p(ct),$=i(ct,"P",{class:!0});var Qe=u($);z=A(Qe,O),Qe.forEach(a),ct.forEach(a),q=p(pe),ue=i(pe,"DIV",{});var et=u(ue);je=i(et,"P",{class:!0,"data-svelte-h":!0}),fe(je)!=="svelte-zqxddl"&&(je.textContent=me),ce=p(et),X=i(et,"P",{class:!0});var te=u(X);Pe=A(te,ke),te.forEach(a),et.forEach(a),Je=p(pe),g=i(pe,"DIV",{});var mt=u(g);ee=i(mt,"P",{class:!0,"data-svelte-h":!0}),fe(ee)!=="svelte-1cg1clk"&&(ee.textContent=ae),J=p(mt),he=i(mt,"P",{class:!0});var Ge=u(he);Le=A(Ge,Be),Ge.forEach(a),mt.forEach(a),at=p(pe),Ke=i(pe,"DIV",{class:!0});var Z=u(Ke);He=i(Z,"P",{class:!0,"data-svelte-h":!0}),fe(He)!=="svelte-uhmyas"&&(He.textContent=ve),Re=p(Z),_e=i(Z,"P",{class:!0});var se=u(_e);We=A(se,Ee),se.forEach(a),Z.forEach(a),pe.forEach(a),Ue.forEach(a),this.h()},h(){t(c,"class","w-16 h-16 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full flex items-center justify-center text-white font-bold text-xl"),t(N,"class","text-xl font-bold text-emerald-900"),t(x,"class","text-emerald-700"),t(n,"class","flex items-center space-x-4"),Ae(n,"space-x-reverse",s[1]),t(I,"type","button"),t(I,"class","p-2 text-emerald-600 hover:text-emerald-800 hover:bg-emerald-100 rounded-lg transition-colors"),t(r,"class","flex items-start justify-between"),t(b,"class","text-xs font-medium text-emerald-700 uppercase tracking-wide"),t(H,"class","text-sm font-semibold text-emerald-900"),t(G,"class","text-xs font-medium text-emerald-700 uppercase tracking-wide"),t($,"class","text-sm font-semibold text-emerald-900"),t(je,"class","text-xs font-medium text-emerald-700 uppercase tracking-wide"),t(X,"class","text-sm font-semibold text-emerald-900"),t(ee,"class","text-xs font-medium text-emerald-700 uppercase tracking-wide"),t(he,"class","text-sm font-semibold text-emerald-900"),t(He,"class","text-xs font-medium text-emerald-700 uppercase tracking-wide"),t(_e,"class","text-sm font-semibold text-emerald-900"),t(Ke,"class","md:col-span-2"),t(C,"class","grid grid-cols-1 md:grid-cols-3 gap-4 mt-6"),t(l,"class","bg-gradient-to-br from-emerald-50 to-teal-50 border border-emerald-200 rounded-2xl p-6")},m(Y,Ue){qe(Y,l,Ue),e(l,r),e(r,n),e(n,c),e(c,f),e(n,m),e(n,_),e(_,N),e(N,D),e(_,S),e(_,x),e(r,V),e(r,I),e(l,U),e(l,C),e(C,M),e(M,b),e(M,L),e(M,H),e(H,oe),e(C,le),e(C,F),e(F,G),e(F,T),e(F,$),e($,z),e(C,q),e(C,ue),e(ue,je),e(ue,ce),e(ue,X),e(X,Pe),e(C,Je),e(C,g),e(g,ee),e(g,J),e(g,he),e(he,Le),e(C,at),e(C,Ke),e(Ke,He),e(Ke,Re),e(Ke,_e),e(_e,We),Oe=!0,we||(ze=rt(I,"click",s[33]),we=!0)},p(Y,Ue){(!Oe||Ue[0]&1)&&h!==(h=(Y[0].clientName||"U").charAt(0)+"")&&K(f,h),(!Oe||Ue[0]&1)&&d!==(d=Y[0].clientName+"")&&K(D,d),(!Oe||Ue[0]&2)&&Ae(n,"space-x-reverse",Y[1]),(!Oe||Ue[0]&1)&&W!==(W=Y[0].clientCin+"")&&K(oe,W),(!Oe||Ue[0]&1)&&O!==(O=Y[0].clientNumber+"")&&K(z,O),(!Oe||Ue[0]&1)&&ke!==(ke=(Y[0].clientJob||"Not specified")+"")&&K(Pe,ke),(!Oe||Ue[0]&1)&&Be!==(Be=(Y[0].clientWorkplace||"Not specified")+"")&&K(Le,Be),(!Oe||Ue[0]&1)&&Ee!==(Ee=(Y[0].clientAddress||"Not specified")+"")&&K(We,Ee)},i(Y){Oe||(Y&&tl(()=>{Oe&&(Xe||(Xe=Pt(l,Il,{duration:300},!0)),Xe.run(1))}),Oe=!0)},o(Y){Y&&(Xe||(Xe=Pt(l,Il,{duration:300},!1)),Xe.run(0)),Oe=!1},d(Y){Y&&a(l),Y&&Xe&&Xe.end(),we=!1,ze()}}}function Vs(s){let l,r,n,c,h,f,m,_,N,d,D,S,x,w,V,I,y=s[6]&&es(s);const U=[Ss,js,As,Ps],C=[];function M(b,k){return b[3].length>0?0:b[2].length>=2&&!b[6]?1:b[2].length>0&&b[2].length<2?2:3}return S=M(s),x=C[S]=U[S](s),{c(){l=o("div"),r=o("div"),n=o("input"),h=v(),f=o("div"),m=Me("svg"),_=Me("path"),d=v(),y&&y.c(),D=v(),x.c(),this.h()},l(b){l=i(b,"DIV",{class:!0});var k=u(l);r=i(k,"DIV",{class:!0});var L=u(r);n=i(L,"INPUT",{type:!0,placeholder:!0,class:!0,style:!0}),h=p(L),f=i(L,"DIV",{class:!0});var H=u(f);m=Te(H,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var W=u(m);_=Te(W,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),u(_).forEach(a),W.forEach(a),H.forEach(a),d=p(L),y&&y.l(L),L.forEach(a),D=p(k),x.l(k),k.forEach(a),this.h()},h(){t(n,"type","text"),t(n,"placeholder",c="ðŸ” "+s[15]("cessions.create.search_client")),t(n,"class","w-full pl-12 pr-4 py-4 bg-white/50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500 text-lg"),de(n,"text-align",s[13]),t(_,"stroke-linecap","round"),t(_,"stroke-linejoin","round"),t(_,"stroke-width","2"),t(_,"d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"),t(m,"class","h-6 w-6 text-gray-400"),t(m,"fill","none"),t(m,"stroke","currentColor"),t(m,"viewBox","0 0 24 24"),t(f,"class",N="absolute inset-y-0 "+(s[1]?"right-0 pr-4":"left-0 pl-4")+" flex items-center pointer-events-none"),t(r,"class","relative"),t(l,"class","space-y-6")},m(b,k){qe(b,l,k),e(l,r),e(r,n),Ft(n,s[2]),e(r,h),e(r,f),e(f,m),e(m,_),e(r,d),y&&y.m(r,null),e(l,D),C[S].m(l,null),w=!0,V||(I=[rt(n,"input",s[30]),rt(n,"input",s[31])],V=!0)},p(b,k){(!w||k[0]&32768&&c!==(c="ðŸ” "+b[15]("cessions.create.search_client")))&&t(n,"placeholder",c),(!w||k[0]&8192)&&de(n,"text-align",b[13]),k[0]&4&&n.value!==b[2]&&Ft(n,b[2]),(!w||k[0]&2&&N!==(N="absolute inset-y-0 "+(b[1]?"right-0 pr-4":"left-0 pl-4")+" flex items-center pointer-events-none"))&&t(f,"class",N),b[6]?y?y.p(b,k):(y=es(b),y.c(),y.m(r,null)):y&&(y.d(1),y=null);let L=S;S=M(b),S===L?C[S].p(b,k):(Yt(),Et(C[L],1,1,()=>{C[L]=null}),Xt(),x=C[S],x?x.p(b,k):(x=C[S]=U[S](b),x.c()),st(x,1),x.m(l,null))},i(b){w||(st(x),w=!0)},o(b){Et(x),w=!1},d(b){b&&a(l),y&&y.d(),C[S].d(),V=!1,Nl(I)}}}function es(s){let l,r,n;return{c(){l=o("div"),r=o("div"),this.h()},l(c){l=i(c,"DIV",{class:!0});var h=u(l);r=i(h,"DIV",{class:!0}),u(r).forEach(a),h.forEach(a),this.h()},h(){t(r,"class","animate-spin h-5 w-5 border-2 border-emerald-500 border-t-transparent rounded-full"),t(l,"class",n="absolute inset-y-0 "+(s[1]?"left-0 pl-4":"right-0 pr-4")+" flex items-center")},m(c,h){qe(c,l,h),e(l,r)},p(c,h){h[0]&2&&n!==(n="absolute inset-y-0 "+(c[1]?"left-0 pl-4":"right-0 pr-4")+" flex items-center")&&t(l,"class",n)},d(c){c&&a(l)}}}function Ps(s){let l,r='<div class="w-24 h-24 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4"><svg class="w-12 h-12 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div> <h3 class="text-lg font-semibold text-gray-900 mb-2">Search for a client</h3> <p class="text-gray-500">Start typing to search by name, CIN, or worker number</p>';return{c(){l=o("div"),l.innerHTML=r,this.h()},l(n){l=i(n,"DIV",{class:!0,"data-svelte-h":!0}),fe(l)!=="svelte-1vqrcdk"&&(l.innerHTML=r),this.h()},h(){t(l,"class","text-center py-12")},m(n,c){qe(n,l,c)},p:Bt,i:Bt,o:Bt,d(n){n&&a(l)}}}function As(s){let l,r='<p class="text-gray-500">Please enter at least 2 characters to search.</p>';return{c(){l=o("div"),l.innerHTML=r,this.h()},l(n){l=i(n,"DIV",{class:!0,"data-svelte-h":!0}),fe(l)!=="svelte-7bag6c"&&(l.innerHTML=r),this.h()},h(){t(l,"class","text-center py-8")},m(n,c){qe(n,l,c)},p:Bt,i:Bt,o:Bt,d(n){n&&a(l)}}}function js(s){let l,r='<div class="w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4"><svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0118 12a8 8 0 10-8 8 7.962 7.962 0 01-5.291-2z"></path></svg></div> <h3 class="text-lg font-semibold text-gray-900 mb-2">No clients found</h3> <p class="text-gray-500 mb-4">No clients match your search criteria.</p> <p class="text-sm text-gray-400">Try searching by full name, CIN, or worker number.</p>';return{c(){l=o("div"),l.innerHTML=r,this.h()},l(n){l=i(n,"DIV",{class:!0,"data-svelte-h":!0}),fe(l)!=="svelte-1twrf7"&&(l.innerHTML=r),this.h()},h(){t(l,"class","text-center py-12")},m(n,c){qe(n,l,c)},p:Bt,i:Bt,o:Bt,d(n){n&&a(l)}}}function Ss(s){let l,r,n=Cl(s[3]),c=[];for(let f=0;f<n.length;f+=1)c[f]=ss(Kl(s,n,f));const h=f=>Et(c[f],1,1,()=>{c[f]=null});return{c(){l=o("div");for(let f=0;f<c.length;f+=1)c[f].c();this.h()},l(f){l=i(f,"DIV",{class:!0});var m=u(l);for(let _=0;_<c.length;_+=1)c[_].l(m);m.forEach(a),this.h()},h(){t(l,"class","grid grid-cols-1 gap-4 max-h-96 overflow-y-auto")},m(f,m){qe(f,l,m);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(l,null);r=!0},p(f,m){if(m[0]&10551306){n=Cl(f[3]);let _;for(_=0;_<n.length;_+=1){const N=Kl(f,n,_);c[_]?(c[_].p(N,m),st(c[_],1)):(c[_]=ss(N),c[_].c(),st(c[_],1),c[_].m(l,null))}for(Yt(),_=n.length;_<c.length;_+=1)h(_);Xt()}},i(f){if(!r){for(let m=0;m<n.length;m+=1)st(c[m]);r=!0}},o(f){c=c.filter(Boolean);for(let m=0;m<c.length;m+=1)Et(c[m]);r=!1},d(f){f&&a(l),us(c,f)}}}function ts(s){let l,r,n=s[46].clientNumber+"",c;return{c(){l=o("span"),r=P("#"),c=P(n),this.h()},l(h){l=i(h,"SPAN",{class:!0});var f=u(l);r=A(f,"#"),c=A(f,n),f.forEach(a),this.h()},h(){t(l,"class","text-sm text-gray-500")},m(h,f){qe(h,l,f),e(l,r),e(l,c)},p(h,f){f[0]&8&&n!==(n=h[46].clientNumber+"")&&K(c,n)},d(h){h&&a(l)}}}function ls(s){let l,r=s[46].jobTitle+"",n;return{c(){l=o("span"),n=P(r),this.h()},l(c){l=i(c,"SPAN",{class:!0});var h=u(l);n=A(h,r),h.forEach(a),this.h()},h(){t(l,"class","text-sm text-emerald-600")},m(c,h){qe(c,l,h),e(l,n)},p(c,h){h[0]&8&&r!==(r=c[46].jobTitle+"")&&K(n,r)},d(c){c&&a(l)}}}function ss(s){let l,r,n,c,h=(s[46].fullName||"U").charAt(0)+"",f,m,_,N,d=s[46].fullName+"",D,S,x,w,V,I=s[46].cin+"",y,U,C,M,b,k,L,H,W,oe,le,F=s[46].clientNumber&&ts(s),G=s[46].jobTitle&&ls(s);function Q(){return s[32](s[46])}return{c(){l=o("button"),r=o("div"),n=o("div"),c=o("div"),f=P(h),m=v(),_=o("div"),N=o("h3"),D=P(d),S=v(),x=o("div"),w=o("span"),V=P("CIN: "),y=P(I),U=v(),F&&F.c(),C=v(),G&&G.c(),M=v(),b=Me("svg"),k=Me("path"),L=v(),this.h()},l(T){l=i(T,"BUTTON",{type:!0,class:!0});var $=u(l);r=i($,"DIV",{class:!0});var O=u(r);n=i(O,"DIV",{class:!0});var z=u(n);c=i(z,"DIV",{class:!0});var q=u(c);f=A(q,h),q.forEach(a),m=p(z),_=i(z,"DIV",{});var ue=u(_);N=i(ue,"H3",{class:!0});var je=u(N);D=A(je,d),je.forEach(a),S=p(ue),x=i(ue,"DIV",{class:!0});var me=u(x);w=i(me,"SPAN",{class:!0});var ce=u(w);V=A(ce,"CIN: "),y=A(ce,I),ce.forEach(a),U=p(me),F&&F.l(me),C=p(me),G&&G.l(me),me.forEach(a),ue.forEach(a),z.forEach(a),M=p(O),b=Te(O,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var X=u(b);k=Te(X,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),u(k).forEach(a),X.forEach(a),O.forEach(a),L=p($),$.forEach(a),this.h()},h(){t(c,"class","w-12 h-12 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full flex items-center justify-center text-white font-bold text-lg"),t(N,"class","font-semibold text-gray-900 text-lg"),t(w,"class","text-sm text-gray-500"),t(x,"class","flex space-x-4 mt-1"),Ae(x,"space-x-reverse",s[1]),t(n,"class","flex items-center space-x-4"),Ae(n,"space-x-reverse",s[1]),t(k,"stroke-linecap","round"),t(k,"stroke-linejoin","round"),t(k,"stroke-width","2"),t(k,"d","M9 5l7 7-7 7"),t(b,"class","w-6 h-6 text-gray-400"),t(b,"fill","none"),t(b,"stroke","currentColor"),t(b,"viewBox","0 0 24 24"),t(r,"class","flex items-center justify-between"),t(l,"type","button"),t(l,"class","p-6 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 hover:border-emerald-300 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 transition-all duration-200 text-left")},m(T,$){qe(T,l,$),e(l,r),e(r,n),e(n,c),e(c,f),e(n,m),e(n,_),e(_,N),e(N,D),e(_,S),e(_,x),e(x,w),e(w,V),e(w,y),e(x,U),F&&F.m(x,null),e(x,C),G&&G.m(x,null),e(r,M),e(r,b),e(b,k),e(l,L),W=!0,oe||(le=rt(l,"click",Q),oe=!0)},p(T,$){s=T,(!W||$[0]&8)&&h!==(h=(s[46].fullName||"U").charAt(0)+"")&&K(f,h),(!W||$[0]&8)&&d!==(d=s[46].fullName+"")&&K(D,d),(!W||$[0]&8)&&I!==(I=s[46].cin+"")&&K(y,I),s[46].clientNumber?F?F.p(s,$):(F=ts(s),F.c(),F.m(x,C)):F&&(F.d(1),F=null),s[46].jobTitle?G?G.p(s,$):(G=ls(s),G.c(),G.m(x,null)):G&&(G.d(1),G=null),(!W||$[0]&2)&&Ae(x,"space-x-reverse",s[1]),(!W||$[0]&2)&&Ae(n,"space-x-reverse",s[1])},i(T){W||(T&&tl(()=>{W&&(H||(H=Pt(l,Il,{delay:s[48]*50,duration:200},!0)),H.run(1))}),W=!0)},o(T){T&&(H||(H=Pt(l,Il,{delay:s[48]*50,duration:200},!1)),H.run(0)),W=!1},d(T){T&&a(l),F&&F.d(),G&&G.d(),T&&H&&H.end(),oe=!1,le()}}}function rs(s){let l,r,n,c='<svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>',h,f,m,_=s[15]("cessions.create.cession_details")+"",N,d,D,S,x,w,V,I,y,U=s[15]("cessions.details.monthly_payment")+"",C,M,b,k,L,H,W,oe="TND",le,F,G,Q,T,$=s[15]("cessions.details.bank_agency")+"",O,z,q,ue,je,me,ce,X,ke=s[15]("cessions.details.start_date")+"",Pe,Je,g,ee,ae,J,he,Be,Le,at="Calculation Summary",Ke,He,ve,Re,_e="Monthly Payment",Ee,We,Xe=Ut(s[0].monthlyPayment||0)+"",Oe,we,ze,Y,Ue="Payment Period",vt,Ce,pt,Ze,nt,pe,ie,Ct="Total Amount",ct,Qe,et=Ut(s[12])+"",te,mt,Ge,Z,se,tt,Ie,xe,be=s[15]("common.actions.previous")+"",De,E,j,Ne=s[15]("common.actions.next")+"",xt,kt,Ye,ot,It,$e,re,Dt,At,Ve=s[9].monthlyPayment&&as(s),Se=s[9].bankOrAgency&&ns(s);return{c(){l=o("div"),r=o("div"),n=o("div"),n.innerHTML=c,h=v(),f=o("div"),m=o("h2"),N=P(_),d=v(),D=o("p"),S=P("Enter the financial details for this cession"),x=v(),w=o("div"),V=o("div"),I=o("div"),y=o("label"),C=P(U),M=v(),b=o("div"),k=o("input"),L=v(),H=o("div"),W=o("span"),W.textContent=oe,F=v(),Ve&&Ve.c(),G=v(),Q=o("div"),T=o("label"),O=P($),z=v(),q=o("input"),je=v(),Se&&Se.c(),me=v(),ce=o("div"),X=o("label"),Pe=P(ke),Je=v(),g=o("input"),ee=v(),ae=o("p"),J=P("Leave as today or pick another date"),he=v(),Be=o("div"),Le=o("h3"),Le.textContent=at,Ke=v(),He=o("div"),ve=o("div"),Re=o("span"),Re.textContent=_e,Ee=v(),We=o("span"),Oe=P(Xe),we=v(),ze=o("div"),Y=o("span"),Y.textContent=Ue,vt=v(),Ce=o("span"),pt=P(rl),Ze=P(" months"),nt=v(),pe=o("div"),ie=o("span"),ie.textContent=Ct,ct=v(),Qe=o("span"),te=P(et),mt=v(),Ge=o("div"),Z=o("button"),se=Me("svg"),tt=Me("path"),xe=v(),De=P(be),E=v(),j=o("button"),xt=P(Ne),kt=v(),Ye=Me("svg"),ot=Me("path"),this.h()},l(B){l=i(B,"DIV",{class:!0});var R=u(l);r=i(R,"DIV",{class:!0});var _t=u(r);n=i(_t,"DIV",{class:!0,"data-svelte-h":!0}),fe(n)!=="svelte-94jhqf"&&(n.innerHTML=c),h=p(_t),f=i(_t,"DIV",{});var it=u(f);m=i(it,"H2",{class:!0,style:!0});var ut=u(m);N=A(ut,_),ut.forEach(a),d=p(it),D=i(it,"P",{class:!0,style:!0});var yt=u(D);S=A(yt,"Enter the financial details for this cession"),yt.forEach(a),it.forEach(a),_t.forEach(a),x=p(R),w=i(R,"DIV",{class:!0});var bt=u(w);V=i(bt,"DIV",{class:!0});var dt=u(V);I=i(dt,"DIV",{});var ft=u(I);y=i(ft,"LABEL",{for:!0,class:!0,style:!0});var jt=u(y);C=A(jt,U),jt.forEach(a),M=p(ft),b=i(ft,"DIV",{class:!0});var St=u(b);k=i(St,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0,step:!0,min:!0,style:!0}),L=p(St),H=i(St,"DIV",{class:!0});var gt=u(H);W=i(gt,"SPAN",{class:!0,"data-svelte-h":!0}),fe(W)!=="svelte-1kc2ucu"&&(W.textContent=oe),gt.forEach(a),St.forEach(a),F=p(ft),Ve&&Ve.l(ft),ft.forEach(a),G=p(dt),Q=i(dt,"DIV",{});var Fe=u(Q);T=i(Fe,"LABEL",{for:!0,class:!0,style:!0});var wt=u(T);O=A(wt,$),wt.forEach(a),z=p(Fe),q=i(Fe,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0,style:!0}),je=p(Fe),Se&&Se.l(Fe),Fe.forEach(a),me=p(dt),ce=i(dt,"DIV",{});var lt=u(ce);X=i(lt,"LABEL",{for:!0,class:!0,style:!0});var Mt=u(X);Pe=A(Mt,ke),Mt.forEach(a),Je=p(lt),g=i(lt,"INPUT",{type:!0,id:!0,class:!0,max:!0}),ee=p(lt),ae=i(lt,"P",{class:!0,style:!0});var Gt=u(ae);J=A(Gt,"Leave as today or pick another date"),Gt.forEach(a),lt.forEach(a),dt.forEach(a),he=p(bt),Be=i(bt,"DIV",{class:!0});var Jt=u(Be);Le=i(Jt,"H3",{class:!0,"data-svelte-h":!0}),fe(Le)!=="svelte-vebssk"&&(Le.textContent=at),Ke=p(Jt),He=i(Jt,"DIV",{class:!0});var Vt=u(He);ve=i(Vt,"DIV",{class:!0});var qt=u(ve);Re=i(qt,"SPAN",{class:!0,"data-svelte-h":!0}),fe(Re)!=="svelte-nq8zbf"&&(Re.textContent=_e),Ee=p(qt),We=i(qt,"SPAN",{class:!0});var Zt=u(We);Oe=A(Zt,Xe),Zt.forEach(a),qt.forEach(a),we=p(Vt),ze=i(Vt,"DIV",{class:!0});var ht=u(ze);Y=i(ht,"SPAN",{class:!0,"data-svelte-h":!0}),fe(Y)!=="svelte-v7bn3x"&&(Y.textContent=Ue),vt=p(ht),Ce=i(ht,"SPAN",{class:!0});var Rt=u(Ce);pt=A(Rt,rl),Ze=A(Rt," months"),Rt.forEach(a),ht.forEach(a),nt=p(Vt),pe=i(Vt,"DIV",{class:!0});var Lt=u(pe);ie=i(Lt,"SPAN",{class:!0,"data-svelte-h":!0}),fe(ie)!=="svelte-15470t9"&&(ie.textContent=Ct),ct=p(Lt),Qe=i(Lt,"SPAN",{class:!0});var Kt=u(Qe);te=A(Kt,et),Kt.forEach(a),Lt.forEach(a),Vt.forEach(a),Jt.forEach(a),bt.forEach(a),mt=p(R),Ge=i(R,"DIV",{class:!0});var Nt=u(Ge);Z=i(Nt,"BUTTON",{type:!0,class:!0});var ye=u(Z);se=Te(ye,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var $t=u(se);tt=Te($t,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),u(tt).forEach(a),$t.forEach(a),xe=p(ye),De=A(ye,be),ye.forEach(a),E=p(Nt),j=i(Nt,"BUTTON",{type:!0,class:!0});var Qt=u(j);xt=A(Qt,Ne),kt=p(Qt),Ye=Te(Qt,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var ll=u(Ye);ot=Te(ll,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),u(ot).forEach(a),ll.forEach(a),Qt.forEach(a),Nt.forEach(a),R.forEach(a),this.h()},h(){t(n,"class","w-12 h-12 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-xl flex items-center justify-center"),t(m,"class","text-2xl font-bold text-gray-900"),de(m,"text-align",s[13]),t(D,"class","text-gray-500"),de(D,"text-align",s[13]),t(r,"class","flex items-center space-x-4 mb-6"),Ae(r,"space-x-reverse",s[1]),t(y,"for","monthlyPayment"),t(y,"class","block text-sm font-medium text-gray-700 mb-2"),de(y,"text-align",s[13]),t(k,"type","number"),t(k,"id","monthlyPayment"),t(k,"class","w-full px-4 py-3 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 text-lg"),t(k,"placeholder","0.000"),t(k,"step","0.001"),t(k,"min","0"),de(k,"text-align",s[13]),t(W,"class","text-gray-500 text-sm"),t(H,"class",le="absolute inset-y-0 "+(s[1]?"left-0 pl-3":"right-0 pr-3")+" flex items-center pointer-events-none"),t(b,"class","relative"),t(T,"for","bankOrAgency"),t(T,"class","block text-sm font-medium text-gray-700 mb-2"),de(T,"text-align",s[13]),t(q,"type","text"),t(q,"id","bankOrAgency"),t(q,"class","w-full px-4 py-3 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200"),t(q,"placeholder",ue=s[15]("cessions.details.bank_agency")),de(q,"text-align",s[13]),t(X,"for","startDate"),t(X,"class","block text-sm font-medium text-gray-700 mb-2"),de(X,"text-align",s[13]),t(g,"type","date"),t(g,"id","startDate"),t(g,"class","w-full px-4 py-3 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200"),t(g,"max","9999-12-31"),t(ae,"class","text-xs text-gray-500 mt-1"),de(ae,"text-align",s[13]),t(V,"class","space-y-6"),t(Le,"class","text-lg font-semibold text-purple-900 mb-4"),t(Re,"class","text-purple-700 font-medium"),t(We,"class","text-2xl font-bold text-purple-900"),t(ve,"class","flex justify-between items-center py-3 border-b border-purple-200"),t(Y,"class","text-purple-700 font-medium"),t(Ce,"class","text-lg font-semibold text-purple-900"),t(ze,"class","flex justify-between items-center py-3 border-b border-purple-200"),t(ie,"class","text-purple-800 font-bold"),t(Qe,"class","text-3xl font-bold text-purple-900"),t(pe,"class","flex justify-between items-center py-3 bg-purple-100 rounded-xl px-4"),t(He,"class","space-y-4"),t(Be,"class","bg-gradient-to-br from-purple-50 to-indigo-50 rounded-2xl p-6 border border-purple-200"),t(w,"class","grid grid-cols-1 lg:grid-cols-2 gap-8"),t(tt,"stroke-linecap","round"),t(tt,"stroke-linejoin","round"),t(tt,"stroke-width","2"),t(tt,"d","M15 19l-7-7 7-7"),t(se,"class",Ie="w-5 h-5 "+(s[1]?"ml-2":"mr-2")),t(se,"fill","none"),t(se,"stroke","currentColor"),t(se,"viewBox","0 0 24 24"),t(Z,"type","button"),t(Z,"class","flex items-center px-6 py-3 bg-white border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-all duration-200 font-medium"),t(ot,"stroke-linecap","round"),t(ot,"stroke-linejoin","round"),t(ot,"stroke-width","2"),t(ot,"d","M9 5l7 7-7 7"),t(Ye,"class",It="w-5 h-5 "+(s[1]?"mr-2":"ml-2")),t(Ye,"fill","none"),t(Ye,"stroke","currentColor"),t(Ye,"viewBox","0 0 24 24"),t(j,"type","button"),t(j,"class","flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl hover:from-purple-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl font-medium"),t(Ge,"class","flex justify-between mt-8"),t(l,"class","bg-white/90 backdrop-blur-sm rounded-2xl p-8 shadow-lg border border-white/20")},m(B,R){qe(B,l,R),e(l,r),e(r,n),e(r,h),e(r,f),e(f,m),e(m,N),e(f,d),e(f,D),e(D,S),e(l,x),e(l,w),e(w,V),e(V,I),e(I,y),e(y,C),e(I,M),e(I,b),e(b,k),Ft(k,s[0].monthlyPayment),e(b,L),e(b,H),e(H,W),e(I,F),Ve&&Ve.m(I,null),e(V,G),e(V,Q),e(Q,T),e(T,O),e(Q,z),e(Q,q),Ft(q,s[0].bankOrAgency),e(Q,je),Se&&Se.m(Q,null),e(V,me),e(V,ce),e(ce,X),e(X,Pe),e(ce,Je),e(ce,g),Ft(g,s[0].startDate),e(ce,ee),e(ce,ae),e(ae,J),e(w,he),e(w,Be),e(Be,Le),e(Be,Ke),e(Be,He),e(He,ve),e(ve,Re),e(ve,Ee),e(ve,We),e(We,Oe),e(He,we),e(He,ze),e(ze,Y),e(ze,vt),e(ze,Ce),e(Ce,pt),e(Ce,Ze),e(He,nt),e(He,pe),e(pe,ie),e(pe,ct),e(pe,Qe),e(Qe,te),e(l,mt),e(l,Ge),e(Ge,Z),e(Z,se),e(se,tt),e(Z,xe),e(Z,De),e(Ge,E),e(Ge,j),e(j,xt),e(j,kt),e(j,Ye),e(Ye,ot),re=!0,Dt||(At=[rt(k,"input",s[34]),rt(k,"input",s[21]),rt(q,"input",s[35]),rt(q,"input",s[21]),rt(g,"input",s[36]),rt(g,"input",s[21]),rt(Z,"click",s[17]),rt(j,"click",s[37])],Dt=!0)},p(B,R){(!re||R[0]&32768)&&_!==(_=B[15]("cessions.create.cession_details")+"")&&K(N,_),(!re||R[0]&8192)&&de(m,"text-align",B[13]),(!re||R[0]&8192)&&de(D,"text-align",B[13]),(!re||R[0]&2)&&Ae(r,"space-x-reverse",B[1]),(!re||R[0]&32768)&&U!==(U=B[15]("cessions.details.monthly_payment")+"")&&K(C,U),(!re||R[0]&8192)&&de(y,"text-align",B[13]),(!re||R[0]&8192)&&de(k,"text-align",B[13]),R[0]&1&&cs(k.value)!==B[0].monthlyPayment&&Ft(k,B[0].monthlyPayment),(!re||R[0]&2&&le!==(le="absolute inset-y-0 "+(B[1]?"left-0 pl-3":"right-0 pr-3")+" flex items-center pointer-events-none"))&&t(H,"class",le),B[9].monthlyPayment?Ve?Ve.p(B,R):(Ve=as(B),Ve.c(),Ve.m(I,null)):Ve&&(Ve.d(1),Ve=null),(!re||R[0]&32768)&&$!==($=B[15]("cessions.details.bank_agency")+"")&&K(O,$),(!re||R[0]&8192)&&de(T,"text-align",B[13]),(!re||R[0]&32768&&ue!==(ue=B[15]("cessions.details.bank_agency")))&&t(q,"placeholder",ue),(!re||R[0]&8192)&&de(q,"text-align",B[13]),R[0]&1&&q.value!==B[0].bankOrAgency&&Ft(q,B[0].bankOrAgency),B[9].bankOrAgency?Se?Se.p(B,R):(Se=ns(B),Se.c(),Se.m(Q,null)):Se&&(Se.d(1),Se=null),(!re||R[0]&32768)&&ke!==(ke=B[15]("cessions.details.start_date")+"")&&K(Pe,ke),(!re||R[0]&8192)&&de(X,"text-align",B[13]),R[0]&1&&Ft(g,B[0].startDate),(!re||R[0]&8192)&&de(ae,"text-align",B[13]),(!re||R[0]&1)&&Xe!==(Xe=Ut(B[0].monthlyPayment||0)+"")&&K(Oe,Xe),(!re||R[0]&4096)&&et!==(et=Ut(B[12])+"")&&K(te,et),(!re||R[0]&2&&Ie!==(Ie="w-5 h-5 "+(B[1]?"ml-2":"mr-2")))&&t(se,"class",Ie),(!re||R[0]&32768)&&be!==(be=B[15]("common.actions.previous")+"")&&K(De,be),(!re||R[0]&32768)&&Ne!==(Ne=B[15]("common.actions.next")+"")&&K(xt,Ne),(!re||R[0]&2&&It!==(It="w-5 h-5 "+(B[1]?"mr-2":"ml-2")))&&t(Ye,"class",It)},i(B){re||(B&&tl(()=>{re&&($e||($e=Pt(l,el,{duration:300},!0)),$e.run(1))}),re=!0)},o(B){B&&($e||($e=Pt(l,el,{duration:300},!1)),$e.run(0)),re=!1},d(B){B&&a(l),Ve&&Ve.d(),Se&&Se.d(),B&&$e&&$e.end(),Dt=!1,Nl(At)}}}function as(s){let l,r=s[9].monthlyPayment+"",n;return{c(){l=o("p"),n=P(r),this.h()},l(c){l=i(c,"P",{class:!0});var h=u(l);n=A(h,r),h.forEach(a),this.h()},h(){t(l,"class","text-red-500 text-sm mt-1")},m(c,h){qe(c,l,h),e(l,n)},p(c,h){h[0]&512&&r!==(r=c[9].monthlyPayment+"")&&K(n,r)},d(c){c&&a(l)}}}function ns(s){let l,r=s[9].bankOrAgency+"",n;return{c(){l=o("p"),n=P(r),this.h()},l(c){l=i(c,"P",{class:!0});var h=u(l);n=A(h,r),h.forEach(a),this.h()},h(){t(l,"class","text-red-500 text-sm mt-1")},m(c,h){qe(c,l,h),e(l,n)},p(c,h){h[0]&512&&r!==(r=c[9].bankOrAgency+"")&&K(n,r)},d(c){c&&a(l)}}}function os(s){let l,r,n,c='<svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',h,f,m,_,N,d,D,S,x,w,V,I,y,U,C,M,b,k,L,H="Name",W,oe,le=s[0].clientName+"",F,G,Q,T,$="CIN",O,z,q=s[0].clientCin+"",ue,je,me,ce,X="Client Number",ke,Pe,Je=s[0].clientNumber+"",g,ee,ae,J,he="Job",Be,Le,at=(s[0].clientJob||"Not specified")+"",Ke,He,ve,Re,_e,Ee,We,Xe,Oe,we,ze,Y,Ue="Monthly Payment",vt,Ce,pt=Ut(s[0].monthlyPayment)+"",Ze,nt,pe,ie,Ct="Payment Period",ct,Qe,et,te,mt,Ge,Z,se="Bank/Agency",tt,Ie,xe=s[0].bankOrAgency+"",be,De,E,j,Ne="Start Date",xt,kt,Ye=Dl(new Date(s[0].startDate),"dd/MM/yyyy")+"",ot,It,$e,re,Dt="Total Amount",At,Ve,Se=Ut(s[12])+"",B,R,_t,it,ut,yt,bt,dt,ft=s[15]("common.actions.previous")+"",jt,St,gt,Fe,wt,lt,Mt,Gt,Jt,Vt=s[15]("cessions.create.preview_pdf")+"",qt,Zt,ht,Rt,Lt=s[15]("cessions.create.create_cession")+"",Kt,Nt,ye,$t,Qt;function ll(ne,ge){return ne[4]?Ts:Ms}let al=ll(s),Tt=al(s);return{c(){l=o("div"),r=o("div"),n=o("div"),n.innerHTML=c,h=v(),f=o("div"),m=o("h2"),_=P("Review & Submit"),N=v(),d=o("p"),D=P("Review all details before creating the cession"),S=v(),x=o("div"),w=o("div"),V=o("h3"),I=Me("svg"),y=Me("path"),C=P(`\r
                Client Information`),M=v(),b=o("div"),k=o("div"),L=o("span"),L.textContent=H,W=v(),oe=o("span"),F=P(le),G=v(),Q=o("div"),T=o("span"),T.textContent=$,O=v(),z=o("span"),ue=P(q),je=v(),me=o("div"),ce=o("span"),ce.textContent=X,ke=v(),Pe=o("span"),g=P(Je),ee=v(),ae=o("div"),J=o("span"),J.textContent=he,Be=v(),Le=o("span"),Ke=P(at),He=v(),ve=o("div"),Re=o("h3"),_e=Me("svg"),Ee=Me("path"),Xe=P(`\r
                Cession Details`),Oe=v(),we=o("div"),ze=o("div"),Y=o("span"),Y.textContent=Ue,vt=v(),Ce=o("span"),Ze=P(pt),nt=v(),pe=o("div"),ie=o("span"),ie.textContent=Ct,ct=v(),Qe=o("span"),et=P(rl),te=P(" months"),mt=v(),Ge=o("div"),Z=o("span"),Z.textContent=se,tt=v(),Ie=o("span"),be=P(xe),De=v(),E=o("div"),j=o("span"),j.textContent=Ne,xt=v(),kt=o("span"),ot=P(Ye),It=v(),$e=o("div"),re=o("span"),re.textContent=Dt,At=v(),Ve=o("span"),B=P(Se),R=v(),_t=o("div"),it=o("button"),ut=Me("svg"),yt=Me("path"),dt=v(),jt=P(ft),St=v(),gt=o("div"),Fe=o("button"),wt=Me("svg"),lt=Me("path"),Mt=Me("path"),Jt=v(),qt=P(Vt),Zt=v(),ht=o("button"),Tt.c(),Rt=v(),Kt=P(Lt),this.h()},l(ne){l=i(ne,"DIV",{class:!0});var ge=u(l);r=i(ge,"DIV",{class:!0});var nl=u(r);n=i(nl,"DIV",{class:!0,"data-svelte-h":!0}),fe(n)!=="svelte-1b9cagk"&&(n.innerHTML=c),h=p(nl),f=i(nl,"DIV",{});var ol=u(f);m=i(ol,"H2",{class:!0,style:!0});var Ml=u(m);_=A(Ml,"Review & Submit"),Ml.forEach(a),N=p(ol),d=i(ol,"P",{class:!0,style:!0});var Tl=u(d);D=A(Tl,"Review all details before creating the cession"),Tl.forEach(a),ol.forEach(a),nl.forEach(a),S=p(ge),x=i(ge,"DIV",{class:!0});var il=u(x);w=i(il,"DIV",{class:!0});var ul=u(w);V=i(ul,"H3",{class:!0});var Vl=u(V);I=Te(Vl,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var Bl=u(I);y=Te(Bl,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),u(y).forEach(a),Bl.forEach(a),C=A(Vl,`\r
                Client Information`),Vl.forEach(a),M=p(ul),b=i(ul,"DIV",{class:!0});var Wt=u(b);k=i(Wt,"DIV",{class:!0});var cl=u(k);L=i(cl,"SPAN",{class:!0,"data-svelte-h":!0}),fe(L)!=="svelte-2vkntz"&&(L.textContent=H),W=p(cl),oe=i(cl,"SPAN",{class:!0});var Ll=u(oe);F=A(Ll,le),Ll.forEach(a),cl.forEach(a),G=p(Wt),Q=i(Wt,"DIV",{class:!0});var dl=u(Q);T=i(dl,"SPAN",{class:!0,"data-svelte-h":!0}),fe(T)!=="svelte-qil6n2"&&(T.textContent=$),O=p(dl),z=i(dl,"SPAN",{class:!0});var Hl=u(z);ue=A(Hl,q),Hl.forEach(a),dl.forEach(a),je=p(Wt),me=i(Wt,"DIV",{class:!0});var fl=u(me);ce=i(fl,"SPAN",{class:!0,"data-svelte-h":!0}),fe(ce)!=="svelte-1j863ls"&&(ce.textContent=X),ke=p(fl),Pe=i(fl,"SPAN",{class:!0});var Ol=u(Pe);g=A(Ol,Je),Ol.forEach(a),fl.forEach(a),ee=p(Wt),ae=i(Wt,"DIV",{class:!0});var hl=u(ae);J=i(hl,"SPAN",{class:!0,"data-svelte-h":!0}),fe(J)!=="svelte-1n0zfp"&&(J.textContent=he),Be=p(hl),Le=i(hl,"SPAN",{class:!0});var zl=u(Le);Ke=A(zl,at),zl.forEach(a),hl.forEach(a),Wt.forEach(a),ul.forEach(a),He=p(il),ve=i(il,"DIV",{class:!0});var vl=u(ve);Re=i(vl,"H3",{class:!0});var Pl=u(Re);_e=Te(Pl,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var Ul=u(_e);Ee=Te(Ul,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),u(Ee).forEach(a),Ul.forEach(a),Xe=A(Pl,`\r
                Cession Details`),Pl.forEach(a),Oe=p(vl),we=i(vl,"DIV",{class:!0});var Ht=u(we);ze=i(Ht,"DIV",{class:!0});var pl=u(ze);Y=i(pl,"SPAN",{class:!0,"data-svelte-h":!0}),fe(Y)!=="svelte-nq8zbf"&&(Y.textContent=Ue),vt=p(pl),Ce=i(pl,"SPAN",{class:!0});var ql=u(Ce);Ze=A(ql,pt),ql.forEach(a),pl.forEach(a),nt=p(Ht),pe=i(Ht,"DIV",{class:!0});var ml=u(pe);ie=i(ml,"SPAN",{class:!0,"data-svelte-h":!0}),fe(ie)!=="svelte-v7bn3x"&&(ie.textContent=Ct),ct=p(ml),Qe=i(ml,"SPAN",{class:!0});var Al=u(Qe);et=A(Al,rl),te=A(Al," months"),Al.forEach(a),ml.forEach(a),mt=p(Ht),Ge=i(Ht,"DIV",{class:!0});var _l=u(Ge);Z=i(_l,"SPAN",{class:!0,"data-svelte-h":!0}),fe(Z)!=="svelte-1jwy4sy"&&(Z.textContent=se),tt=p(_l),Ie=i(_l,"SPAN",{class:!0});var Jl=u(Ie);be=A(Jl,xe),Jl.forEach(a),_l.forEach(a),De=p(Ht),E=i(Ht,"DIV",{class:!0});var bl=u(E);j=i(bl,"SPAN",{class:!0,"data-svelte-h":!0}),fe(j)!=="svelte-1r5qz7u"&&(j.textContent=Ne),xt=p(bl),kt=i(bl,"SPAN",{class:!0});var Rl=u(kt);ot=A(Rl,Ye),Rl.forEach(a),bl.forEach(a),It=p(Ht),$e=i(Ht,"DIV",{class:!0});var gl=u($e);re=i(gl,"SPAN",{class:!0,"data-svelte-h":!0}),fe(re)!=="svelte-15470t9"&&(re.textContent=Dt),At=p(gl),Ve=i(gl,"SPAN",{class:!0});var Wl=u(Ve);B=A(Wl,Se),Wl.forEach(a),gl.forEach(a),Ht.forEach(a),vl.forEach(a),il.forEach(a),R=p(ge),_t=i(ge,"DIV",{class:!0});var kl=u(_t);it=i(kl,"BUTTON",{type:!0,class:!0});var wl=u(it);ut=Te(wl,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var Fl=u(ut);yt=Te(Fl,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),u(yt).forEach(a),Fl.forEach(a),dt=p(wl),jt=A(wl,ft),wl.forEach(a),St=p(kl),gt=i(kl,"DIV",{class:!0});var xl=u(gt);Fe=i(xl,"BUTTON",{type:!0,class:!0});var yl=u(Fe);wt=Te(yl,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var jl=u(wt);lt=Te(jl,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),u(lt).forEach(a),Mt=Te(jl,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),u(Mt).forEach(a),jl.forEach(a),Jt=p(yl),qt=A(yl,Vt),yl.forEach(a),Zt=p(xl),ht=i(xl,"BUTTON",{type:!0,class:!0});var El=u(ht);Tt.l(El),Rt=p(El),Kt=A(El,Lt),El.forEach(a),xl.forEach(a),kl.forEach(a),ge.forEach(a),this.h()},h(){t(n,"class","w-12 h-12 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-xl flex items-center justify-center"),t(m,"class","text-2xl font-bold text-gray-900"),de(m,"text-align",s[13]),t(d,"class","text-gray-500"),de(d,"text-align",s[13]),t(r,"class","flex items-center space-x-4 mb-6"),Ae(r,"space-x-reverse",s[1]),t(y,"stroke-linecap","round"),t(y,"stroke-linejoin","round"),t(y,"stroke-width","2"),t(y,"d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"),t(I,"class",U="w-5 h-5 text-blue-600 "+(s[1]?"ml-2":"mr-2")),t(I,"fill","none"),t(I,"stroke","currentColor"),t(I,"viewBox","0 0 24 24"),t(V,"class","text-lg font-semibold text-blue-900 mb-4 flex items-center"),t(L,"class","text-blue-700 font-medium"),t(oe,"class","text-blue-900 font-semibold"),t(k,"class","flex justify-between"),t(T,"class","text-blue-700 font-medium"),t(z,"class","text-blue-900 font-semibold"),t(Q,"class","flex justify-between"),t(ce,"class","text-blue-700 font-medium"),t(Pe,"class","text-blue-900 font-semibold"),t(me,"class","flex justify-between"),t(J,"class","text-blue-700 font-medium"),t(Le,"class","text-blue-900 font-semibold"),t(ae,"class","flex justify-between"),t(b,"class","space-y-3"),t(w,"class","bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-200"),t(Ee,"stroke-linecap","round"),t(Ee,"stroke-linejoin","round"),t(Ee,"stroke-width","2"),t(Ee,"d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"),t(_e,"class",We="w-5 h-5 text-purple-600 "+(s[1]?"ml-2":"mr-2")),t(_e,"fill","none"),t(_e,"stroke","currentColor"),t(_e,"viewBox","0 0 24 24"),t(Re,"class","text-lg font-semibold text-purple-900 mb-4 flex items-center"),t(Y,"class","text-purple-700 font-medium"),t(Ce,"class","text-purple-900 font-semibold"),t(ze,"class","flex justify-between"),t(ie,"class","text-purple-700 font-medium"),t(Qe,"class","text-purple-900 font-semibold"),t(pe,"class","flex justify-between"),t(Z,"class","text-purple-700 font-medium"),t(Ie,"class","text-purple-900 font-semibold"),t(Ge,"class","flex justify-between"),t(j,"class","text-purple-700 font-medium"),t(kt,"class","text-purple-900 font-semibold"),t(E,"class","flex justify-between"),t(re,"class","text-purple-800 font-bold"),t(Ve,"class","text-2xl font-bold text-purple-900"),t($e,"class","flex justify-between pt-3 border-t border-purple-200"),t(we,"class","space-y-3"),t(ve,"class","bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6 border border-purple-200"),t(x,"class","grid grid-cols-1 lg:grid-cols-2 gap-8"),t(yt,"stroke-linecap","round"),t(yt,"stroke-linejoin","round"),t(yt,"stroke-width","2"),t(yt,"d","M15 19l-7-7 7-7"),t(ut,"class",bt="w-5 h-5 "+(s[1]?"ml-2":"mr-2")),t(ut,"fill","none"),t(ut,"stroke","currentColor"),t(ut,"viewBox","0 0 24 24"),t(it,"type","button"),t(it,"class","flex items-center px-6 py-3 bg-white border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-all duration-200 font-medium"),t(lt,"stroke-linecap","round"),t(lt,"stroke-linejoin","round"),t(lt,"stroke-width","2"),t(lt,"d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"),t(Mt,"stroke-linecap","round"),t(Mt,"stroke-linejoin","round"),t(Mt,"stroke-width","2"),t(Mt,"d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"),t(wt,"class",Gt="w-5 h-5 "+(s[1]?"ml-2":"mr-2")),t(wt,"fill","none"),t(wt,"stroke","currentColor"),t(wt,"viewBox","0 0 24 24"),t(Fe,"type","button"),t(Fe,"class","flex items-center px-6 py-3 bg-white border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-all duration-200 font-medium"),t(ht,"type","submit"),ht.disabled=s[4],t(ht,"class","flex items-center px-8 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl hover:from-indigo-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl font-medium"),t(gt,"class","flex space-x-4"),Ae(gt,"space-x-reverse",s[1]),t(_t,"class","flex justify-between mt-8"),t(l,"class","bg-white/90 backdrop-blur-sm rounded-2xl p-8 shadow-lg border border-white/20")},m(ne,ge){qe(ne,l,ge),e(l,r),e(r,n),e(r,h),e(r,f),e(f,m),e(m,_),e(f,N),e(f,d),e(d,D),e(l,S),e(l,x),e(x,w),e(w,V),e(V,I),e(I,y),e(V,C),e(w,M),e(w,b),e(b,k),e(k,L),e(k,W),e(k,oe),e(oe,F),e(b,G),e(b,Q),e(Q,T),e(Q,O),e(Q,z),e(z,ue),e(b,je),e(b,me),e(me,ce),e(me,ke),e(me,Pe),e(Pe,g),e(b,ee),e(b,ae),e(ae,J),e(ae,Be),e(ae,Le),e(Le,Ke),e(x,He),e(x,ve),e(ve,Re),e(Re,_e),e(_e,Ee),e(Re,Xe),e(ve,Oe),e(ve,we),e(we,ze),e(ze,Y),e(ze,vt),e(ze,Ce),e(Ce,Ze),e(we,nt),e(we,pe),e(pe,ie),e(pe,ct),e(pe,Qe),e(Qe,et),e(Qe,te),e(we,mt),e(we,Ge),e(Ge,Z),e(Ge,tt),e(Ge,Ie),e(Ie,be),e(we,De),e(we,E),e(E,j),e(E,xt),e(E,kt),e(kt,ot),e(we,It),e(we,$e),e($e,re),e($e,At),e($e,Ve),e(Ve,B),e(l,R),e(l,_t),e(_t,it),e(it,ut),e(ut,yt),e(it,dt),e(it,jt),e(_t,St),e(_t,gt),e(gt,Fe),e(Fe,wt),e(wt,lt),e(wt,Mt),e(Fe,Jt),e(Fe,qt),e(gt,Zt),e(gt,ht),Tt.m(ht,null),e(ht,Rt),e(ht,Kt),ye=!0,$t||(Qt=[rt(it,"click",s[17]),rt(Fe,"click",s[25])],$t=!0)},p(ne,ge){(!ye||ge[0]&8192)&&de(m,"text-align",ne[13]),(!ye||ge[0]&8192)&&de(d,"text-align",ne[13]),(!ye||ge[0]&2)&&Ae(r,"space-x-reverse",ne[1]),(!ye||ge[0]&2&&U!==(U="w-5 h-5 text-blue-600 "+(ne[1]?"ml-2":"mr-2")))&&t(I,"class",U),(!ye||ge[0]&1)&&le!==(le=ne[0].clientName+"")&&K(F,le),(!ye||ge[0]&1)&&q!==(q=ne[0].clientCin+"")&&K(ue,q),(!ye||ge[0]&1)&&Je!==(Je=ne[0].clientNumber+"")&&K(g,Je),(!ye||ge[0]&1)&&at!==(at=(ne[0].clientJob||"Not specified")+"")&&K(Ke,at),(!ye||ge[0]&2&&We!==(We="w-5 h-5 text-purple-600 "+(ne[1]?"ml-2":"mr-2")))&&t(_e,"class",We),(!ye||ge[0]&1)&&pt!==(pt=Ut(ne[0].monthlyPayment)+"")&&K(Ze,pt),(!ye||ge[0]&1)&&xe!==(xe=ne[0].bankOrAgency+"")&&K(be,xe),(!ye||ge[0]&1)&&Ye!==(Ye=Dl(new Date(ne[0].startDate),"dd/MM/yyyy")+"")&&K(ot,Ye),(!ye||ge[0]&4096)&&Se!==(Se=Ut(ne[12])+"")&&K(B,Se),(!ye||ge[0]&2&&bt!==(bt="w-5 h-5 "+(ne[1]?"ml-2":"mr-2")))&&t(ut,"class",bt),(!ye||ge[0]&32768)&&ft!==(ft=ne[15]("common.actions.previous")+"")&&K(jt,ft),(!ye||ge[0]&2&&Gt!==(Gt="w-5 h-5 "+(ne[1]?"ml-2":"mr-2")))&&t(wt,"class",Gt),(!ye||ge[0]&32768)&&Vt!==(Vt=ne[15]("cessions.create.preview_pdf")+"")&&K(qt,Vt),al===(al=ll(ne))&&Tt?Tt.p(ne,ge):(Tt.d(1),Tt=al(ne),Tt&&(Tt.c(),Tt.m(ht,Rt))),(!ye||ge[0]&32768)&&Lt!==(Lt=ne[15]("cessions.create.create_cession")+"")&&K(Kt,Lt),(!ye||ge[0]&16)&&(ht.disabled=ne[4]),(!ye||ge[0]&2)&&Ae(gt,"space-x-reverse",ne[1])},i(ne){ye||(ne&&tl(()=>{ye&&(Nt||(Nt=Pt(l,el,{duration:300},!0)),Nt.run(1))}),ye=!0)},o(ne){ne&&(Nt||(Nt=Pt(l,el,{duration:300},!1)),Nt.run(0)),ye=!1},d(ne){ne&&a(l),Tt.d(),ne&&Nt&&Nt.end(),$t=!1,Nl(Qt)}}}function Ms(s){let l,r,n;return{c(){l=Me("svg"),r=Me("path"),this.h()},l(c){l=Te(c,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var h=u(l);r=Te(h,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),u(r).forEach(a),h.forEach(a),this.h()},h(){t(r,"stroke-linecap","round"),t(r,"stroke-linejoin","round"),t(r,"stroke-width","2"),t(r,"d","M12 6v6m0 0v6m0-6h6m-6 0H6"),t(l,"class",n="w-5 h-5 "+(s[1]?"ml-2":"mr-2")),t(l,"fill","none"),t(l,"stroke","currentColor"),t(l,"viewBox","0 0 24 24")},m(c,h){qe(c,l,h),e(l,r)},p(c,h){h[0]&2&&n!==(n="w-5 h-5 "+(c[1]?"ml-2":"mr-2"))&&t(l,"class",n)},d(c){c&&a(l)}}}function Ts(s){let l,r;return{c(){l=o("div"),this.h()},l(n){l=i(n,"DIV",{class:!0}),u(l).forEach(a),this.h()},h(){t(l,"class",r="animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full "+(s[1]?"ml-2":"mr-2"))},m(n,c){qe(n,l,c)},p(n,c){c[0]&2&&r!==(r="animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full "+(n[1]?"ml-2":"mr-2"))&&t(l,"class",r)},d(n){n&&a(l)}}}function Bs(s){let l,r,n,c,h,f,m,_='<svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>',N,d,D,S=s[15]("cessions.create.title")+"",x,w,V,I=s[15]("cessions.create.subtitle")+"",y,U,C,M,b,k,L,H,W,oe,le,F,G,Q,T,$,O,z,q=Math.round(s[8])+"",ue,je,me,ce,X,ke,Pe,Je,g,ee,ae,J,he,Be,Le,at=s[15]("common.actions.back")+"",Ke,He,ve,Re,_e,Ee,We,Xe="Create New Cession",Oe,we,ze=Math.round(s[8])+"",Y,Ue,vt,Ce,pt,Ze,nt,pe,ie,Ct,ct,Qe,et,te,mt,Ge,Z=s[11]&&Xl(s),se=s[5]&&Yl(s),tt=Cl(Array.from({length:zt},is)),Ie=[];for(let E=0;E<tt.length;E+=1)Ie[E]=Zl(Ql(s,tt,E));let xe=s[7]===1&&$l(s),be=s[7]===2&&rs(s),De=s[7]===3&&os(s);return document.title=et=s[15]("cessions.create.title")+" | "+s[15]("common.app_title"),{c(){l=o("div"),r=o("div"),n=o("div"),c=o("div"),h=o("div"),f=o("div"),m=o("div"),m.innerHTML=_,N=v(),d=o("div"),D=o("h1"),x=P(S),w=v(),V=o("p"),y=P(I),U=v(),C=o("div"),M=o("div"),b=o("div"),L=v(),H=o("span"),W=P("Step "),oe=P(s[7]),le=P(" of "),F=P(zt),G=v(),Q=o("div"),T=o("div"),O=v(),z=o("span"),ue=P(q),je=P("% Complete"),me=v(),Z&&Z.c(),ce=v(),X=o("div"),ke=o("button"),Pe=Me("svg"),Je=Me("path"),ee=v(),ae=o("a"),J=Me("svg"),he=Me("path"),Le=v(),Ke=P(at),He=v(),ve=o("div"),se&&se.c(),Re=v(),_e=o("div"),Ee=o("div"),We=o("h2"),We.textContent=Xe,Oe=v(),we=o("span"),Y=P(ze),Ue=P("% Complete"),vt=v(),Ce=o("div");for(let E=0;E<Ie.length;E+=1)Ie[E].c();pt=v(),Ze=o("div"),nt=o("div"),pe=v(),ie=o("form"),xe&&xe.c(),Ct=v(),be&&be.c(),ct=v(),De&&De.c(),Qe=v(),this.h()},l(E){l=i(E,"DIV",{class:!0,style:!0});var j=u(l);r=i(j,"DIV",{class:!0});var Ne=u(r);n=i(Ne,"DIV",{class:!0});var xt=u(n);c=i(xt,"DIV",{class:!0});var kt=u(c);h=i(kt,"DIV",{class:!0});var Ye=u(h);f=i(Ye,"DIV",{class:!0});var ot=u(f);m=i(ot,"DIV",{class:!0,"data-svelte-h":!0}),fe(m)!=="svelte-16vijld"&&(m.innerHTML=_),N=p(ot),d=i(ot,"DIV",{});var It=u(d);D=i(It,"H1",{class:!0,style:!0});var $e=u(D);x=A($e,S),$e.forEach(a),w=p(It),V=i(It,"P",{class:!0,style:!0});var re=u(V);y=A(re,I),re.forEach(a),It.forEach(a),ot.forEach(a),U=p(Ye),C=i(Ye,"DIV",{class:!0});var Dt=u(C);M=i(Dt,"DIV",{class:!0});var At=u(M);b=i(At,"DIV",{class:!0}),u(b).forEach(a),L=p(At),H=i(At,"SPAN",{class:!0});var Ve=u(H);W=A(Ve,"Step "),oe=A(Ve,s[7]),le=A(Ve," of "),F=A(Ve,zt),Ve.forEach(a),At.forEach(a),G=p(Dt),Q=i(Dt,"DIV",{class:!0});var Se=u(Q);T=i(Se,"DIV",{class:!0}),u(T).forEach(a),O=p(Se),z=i(Se,"SPAN",{class:!0});var B=u(z);ue=A(B,q),je=A(B,"% Complete"),B.forEach(a),Se.forEach(a),me=p(Dt),Z&&Z.l(Dt),Dt.forEach(a),Ye.forEach(a),ce=p(kt),X=i(kt,"DIV",{class:!0});var R=u(X);ke=i(R,"BUTTON",{class:!0,title:!0});var _t=u(ke);Pe=Te(_t,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var it=u(Pe);Je=Te(it,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),u(Je).forEach(a),it.forEach(a),_t.forEach(a),ee=p(R),ae=i(R,"A",{href:!0,class:!0});var ut=u(ae);J=Te(ut,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var yt=u(J);he=Te(yt,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),u(he).forEach(a),yt.forEach(a),Le=p(ut),Ke=A(ut,at),ut.forEach(a),R.forEach(a),kt.forEach(a),xt.forEach(a),Ne.forEach(a),He=p(j),ve=i(j,"DIV",{class:!0});var bt=u(ve);se&&se.l(bt),Re=p(bt),_e=i(bt,"DIV",{class:!0});var dt=u(_e);Ee=i(dt,"DIV",{class:!0});var ft=u(Ee);We=i(ft,"H2",{class:!0,"data-svelte-h":!0}),fe(We)!=="svelte-110m6fm"&&(We.textContent=Xe),Oe=p(ft),we=i(ft,"SPAN",{class:!0});var jt=u(we);Y=A(jt,ze),Ue=A(jt,"% Complete"),jt.forEach(a),ft.forEach(a),vt=p(dt),Ce=i(dt,"DIV",{class:!0});var St=u(Ce);for(let lt=0;lt<Ie.length;lt+=1)Ie[lt].l(St);St.forEach(a),pt=p(dt),Ze=i(dt,"DIV",{class:!0});var gt=u(Ze);nt=i(gt,"DIV",{class:!0,style:!0}),u(nt).forEach(a),gt.forEach(a),dt.forEach(a),pe=p(bt),ie=i(bt,"FORM",{class:!0});var Fe=u(ie);xe&&xe.l(Fe),Ct=p(Fe),be&&be.l(Fe),ct=p(Fe),De&&De.l(Fe),Fe.forEach(a),bt.forEach(a),j.forEach(a),Qe=p(E),fs("svelte-901pd1",document.head).forEach(a),this.h()},h(){t(m,"class","w-12 h-12 bg-gradient-to-r from-emerald-600 to-teal-600 rounded-2xl flex items-center justify-center shadow-lg"),t(D,"class","text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent"),de(D,"text-align",s[13]),t(V,"class","text-sm text-gray-500 font-medium"),de(V,"text-align",s[13]),t(f,"class","flex items-center space-x-3"),Ae(f,"space-x-reverse",s[1]),t(b,"class",k="w-2 h-2 bg-emerald-500 rounded-full "+(s[1]?"ml-2":"mr-2")+" animate-pulse"),t(H,"class","text-xs font-semibold text-emerald-800"),t(M,"class","flex items-center px-3 py-1.5 bg-emerald-100 rounded-full"),t(T,"class",$="w-2 h-2 bg-blue-500 rounded-full "+(s[1]?"ml-2":"mr-2")),t(z,"class","text-xs font-semibold text-blue-800"),t(Q,"class","flex items-center px-3 py-1.5 bg-blue-100 rounded-full"),t(C,"class","hidden lg:flex items-center space-x-3 ml-8"),Ae(C,"space-x-reverse",s[1]),t(h,"class","flex items-center space-x-4"),Ae(h,"space-x-reverse",s[1]),t(Je,"stroke-linecap","round"),t(Je,"stroke-linejoin","round"),t(Je,"stroke-width","2"),t(Je,"d","M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"),t(Pe,"class","w-5 h-5"),t(Pe,"fill","none"),t(Pe,"stroke","currentColor"),t(Pe,"viewBox","0 0 24 24"),t(ke,"class",g="p-2 rounded-xl "+(s[10]?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600")+" hover:scale-105 transition-all duration-200"),t(ke,"title","Auto Save"),t(he,"stroke-linecap","round"),t(he,"stroke-linejoin","round"),t(he,"stroke-width","2"),t(he,"d","M10 19l-7-7m0 0l7-7m-7 7h18"),t(J,"class",Be="w-4 h-4 "+(s[1]?"ml-2":"mr-2")),t(J,"fill","none"),t(J,"stroke","currentColor"),t(J,"viewBox","0 0 24 24"),t(ae,"href","/cessions"),t(ae,"class","flex items-center px-4 py-2 bg-white/80 backdrop-blur-sm border border-gray-200 rounded-xl hover:bg-white hover:shadow-lg transition-all duration-200 font-medium text-gray-700"),t(X,"class","flex items-center space-x-3"),Ae(X,"space-x-reverse",s[1]),t(c,"class","flex items-center justify-between"),Ae(c,"flex-row-reverse",s[1]),t(n,"class","max-w-7xl mx-auto px-6 py-4"),t(r,"class","sticky top-0 z-40 backdrop-blur-xl bg-white/80 border-b border-white/20 shadow-lg shadow-black/5"),t(We,"class","text-lg font-semibold text-gray-900"),t(we,"class","text-sm text-gray-500"),t(Ee,"class","flex items-center justify-between mb-4"),Ae(Ee,"flex-row-reverse",s[1]),t(Ce,"class","flex items-center justify-between mb-4"),Ae(Ce,"flex-row-reverse",s[1]),t(nt,"class","h-full bg-gradient-to-r from-emerald-500 to-teal-500 transition-all duration-500 ease-out"),de(nt,"width",s[8]+"%"),t(Ze,"class","w-full bg-gray-200 rounded-full h-2 overflow-hidden"),t(_e,"class","mb-8 bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20"),t(ie,"class","space-y-8"),t(ve,"class","max-w-5xl mx-auto px-6 py-8"),t(l,"class","min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50"),de(l,"direction",s[14])},m(E,j){qe(E,l,j),e(l,r),e(r,n),e(n,c),e(c,h),e(h,f),e(f,m),e(f,N),e(f,d),e(d,D),e(D,x),e(d,w),e(d,V),e(V,y),e(h,U),e(h,C),e(C,M),e(M,b),e(M,L),e(M,H),e(H,W),e(H,oe),e(H,le),e(H,F),e(C,G),e(C,Q),e(Q,T),e(Q,O),e(Q,z),e(z,ue),e(z,je),e(C,me),Z&&Z.m(C,null),e(c,ce),e(c,X),e(X,ke),e(ke,Pe),e(Pe,Je),e(X,ee),e(X,ae),e(ae,J),e(J,he),e(ae,Le),e(ae,Ke),e(l,He),e(l,ve),se&&se.m(ve,null),e(ve,Re),e(ve,_e),e(_e,Ee),e(Ee,We),e(Ee,Oe),e(Ee,we),e(we,Y),e(we,Ue),e(_e,vt),e(_e,Ce);for(let Ne=0;Ne<Ie.length;Ne+=1)Ie[Ne]&&Ie[Ne].m(Ce,null);e(_e,pt),e(_e,Ze),e(Ze,nt),e(ve,pe),e(ve,ie),xe&&xe.m(ie,null),e(ie,Ct),be&&be.m(ie,null),e(ie,ct),De&&De.m(ie,null),qe(E,Qe,j),te=!0,mt||(Ge=[rt(ke,"click",s[27]),rt(ie,"submit",hs(s[24]))],mt=!0)},p(E,j){if((!te||j[0]&32768)&&S!==(S=E[15]("cessions.create.title")+"")&&K(x,S),(!te||j[0]&8192)&&de(D,"text-align",E[13]),(!te||j[0]&32768)&&I!==(I=E[15]("cessions.create.subtitle")+"")&&K(y,I),(!te||j[0]&8192)&&de(V,"text-align",E[13]),(!te||j[0]&2)&&Ae(f,"space-x-reverse",E[1]),(!te||j[0]&2&&k!==(k="w-2 h-2 bg-emerald-500 rounded-full "+(E[1]?"ml-2":"mr-2")+" animate-pulse"))&&t(b,"class",k),(!te||j[0]&128)&&K(oe,E[7]),(!te||j[0]&2&&$!==($="w-2 h-2 bg-blue-500 rounded-full "+(E[1]?"ml-2":"mr-2")))&&t(T,"class",$),(!te||j[0]&256)&&q!==(q=Math.round(E[8])+"")&&K(ue,q),E[11]?Z?Z.p(E,j):(Z=Xl(E),Z.c(),Z.m(C,null)):Z&&(Z.d(1),Z=null),(!te||j[0]&2)&&Ae(C,"space-x-reverse",E[1]),(!te||j[0]&2)&&Ae(h,"space-x-reverse",E[1]),(!te||j[0]&1024&&g!==(g="p-2 rounded-xl "+(E[10]?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600")+" hover:scale-105 transition-all duration-200"))&&t(ke,"class",g),(!te||j[0]&2&&Be!==(Be="w-4 h-4 "+(E[1]?"ml-2":"mr-2")))&&t(J,"class",Be),(!te||j[0]&32768)&&at!==(at=E[15]("common.actions.back")+"")&&K(Ke,at),(!te||j[0]&2)&&Ae(X,"space-x-reverse",E[1]),(!te||j[0]&2)&&Ae(c,"flex-row-reverse",E[1]),E[5]?se?(se.p(E,j),j[0]&32&&st(se,1)):(se=Yl(E),se.c(),st(se,1),se.m(ve,Re)):se&&(Yt(),Et(se,1,1,()=>{se=null}),Xt()),(!te||j[0]&256)&&ze!==(ze=Math.round(E[8])+"")&&K(Y,ze),(!te||j[0]&2)&&Ae(Ee,"flex-row-reverse",E[1]),j[0]&262272){tt=Cl(Array.from({length:zt},is));let Ne;for(Ne=0;Ne<tt.length;Ne+=1){const xt=Ql(E,tt,Ne);Ie[Ne]?Ie[Ne].p(xt,j):(Ie[Ne]=Zl(xt),Ie[Ne].c(),Ie[Ne].m(Ce,null))}for(;Ne<Ie.length;Ne+=1)Ie[Ne].d(1);Ie.length=tt.length}(!te||j[0]&2)&&Ae(Ce,"flex-row-reverse",E[1]),(!te||j[0]&256)&&de(nt,"width",E[8]+"%"),E[7]===1?xe?(xe.p(E,j),j[0]&128&&st(xe,1)):(xe=$l(E),xe.c(),st(xe,1),xe.m(ie,Ct)):xe&&(Yt(),Et(xe,1,1,()=>{xe=null}),Xt()),E[7]===2?be?(be.p(E,j),j[0]&128&&st(be,1)):(be=rs(E),be.c(),st(be,1),be.m(ie,ct)):be&&(Yt(),Et(be,1,1,()=>{be=null}),Xt()),E[7]===3?De?(De.p(E,j),j[0]&128&&st(De,1)):(De=os(E),De.c(),st(De,1),De.m(ie,null)):De&&(Yt(),Et(De,1,1,()=>{De=null}),Xt()),(!te||j[0]&16384)&&de(l,"direction",E[14]),(!te||j[0]&32768)&&et!==(et=E[15]("cessions.create.title")+" | "+E[15]("common.app_title"))&&(document.title=et)},i(E){te||(st(se),st(xe),st(be),st(De),te=!0)},o(E){Et(se),Et(xe),Et(be),Et(De),te=!1},d(E){E&&(a(l),a(Qe)),Z&&Z.d(),se&&se.d(),us(Ie,E),xe&&xe.d(),be&&be.d(),De&&De.d(),mt=!1,Nl(Ge)}}}let zt=3,rl=18;function Ut(s){return new Intl.NumberFormat("fr-TN",{style:"currency",currency:"TND",minimumFractionDigits:3}).format(s)}function Ls(s){const l=["","ÙˆØ§Ø­Ø¯","Ø§Ø«Ù†Ø§Ù†","Ø«Ù„Ø§Ø«Ø©","Ø£Ø±Ø¨Ø¹Ø©","Ø®Ù…Ø³Ø©","Ø³ØªØ©","Ø³Ø¨Ø¹Ø©","Ø«Ù…Ø§Ù†ÙŠØ©","ØªØ³Ø¹Ø©"],r=["Ø¹Ø´Ø±Ø©","Ø£Ø­Ø¯ Ø¹Ø´Ø±","Ø§Ø«Ù†Ø§ Ø¹Ø´Ø±","Ø«Ù„Ø§Ø«Ø© Ø¹Ø´Ø±","Ø£Ø±Ø¨Ø¹Ø© Ø¹Ø´Ø±","Ø®Ù…Ø³Ø© Ø¹Ø´Ø±","Ø³ØªØ© Ø¹Ø´Ø±","Ø³Ø¨Ø¹Ø© Ø¹Ø´Ø±","Ø«Ù…Ø§Ù†ÙŠØ© Ø¹Ø´Ø±","ØªØ³Ø¹Ø© Ø¹Ø´Ø±"],n=["","","Ø¹Ø´Ø±ÙˆÙ†","Ø«Ù„Ø§Ø«ÙˆÙ†","Ø£Ø±Ø¨Ø¹ÙˆÙ†","Ø®Ù…Ø³ÙˆÙ†","Ø³ØªÙˆÙ†","Ø³Ø¨Ø¹ÙˆÙ†","Ø«Ù…Ø§Ù†ÙˆÙ†","ØªØ³Ø¹ÙˆÙ†"],c=["","Ù…Ø§Ø¦Ø©","Ù…Ø¦ØªØ§Ù†","Ø«Ù„Ø§Ø«Ù…Ø§Ø¦Ø©","Ø£Ø±Ø¨Ø¹Ù…Ø§Ø¦Ø©","Ø®Ù…Ø³Ù…Ø§Ø¦Ø©","Ø³ØªÙ…Ø§Ø¦Ø©","Ø³Ø¨Ø¹Ù…Ø§Ø¦Ø©","Ø«Ù…Ø§Ù†Ù…Ø§Ø¦Ø©","ØªØ³Ø¹Ù…Ø§Ø¦Ø©"],h=["","Ø£Ù„Ù","Ù…Ù„ÙŠÙˆÙ†","Ù…Ù„ÙŠØ§Ø±"];if(s===0)return"ØµÙØ±";let f="",m=0;for(;s>0;){let _=s%1e3;if(_!==0){let N="";if(_>=100&&(N+=c[Math.floor(_/100)]+" ",_%=100),_>0)if(_<10)N+=l[_];else if(_<20)N+=r[_-10];else{let d=_%10,D=Math.floor(_/10);d>0&&(N+=l[d]+" Ùˆ "),N+=n[D]}m>0&&(N+=" "+h[m]),f?f=N+" Ùˆ "+f:f=N}s=Math.floor(s/1e3),m++}return f+" Ø¯ÙŠÙ†Ø§Ø±Ø§"}const is=(s,l)=>l+1;function Hs(s,l,r){let n,c,h,f,m,_,N;Sl(s,xs,g=>r(15,m=g)),Sl(s,ws,g=>r(42,_=g)),Sl(s,ys,g=>r(26,N=g));let d={clientId:null,clientName:null,clientNumber:null,clientCin:null,clientJob:null,clientWorkplace:null,clientAddress:null,monthlyPayment:null,bankOrAgency:null,startDate:new Date().toISOString().split("T")[0]},D="",S=[],x=!1,w=null,V,I=!1,y=1,U=33,C={},M=!0,b=null;function k(){y<zt&&(r(7,y++,y),r(8,U=y/zt*100))}function L(){y>1&&(r(7,y--,y),r(8,U=y/zt*100))}function H(g){r(7,y=g),r(8,U=y/zt*100)}function W(){if(D.length>0){const g=[],ee=D.toLowerCase();/^\d+$/.test(ee)?(g.push({type:"cin",label:`Search by CIN: ${ee}`,value:ee}),g.push({type:"number",label:`Search by Client Number: ${ee}`,value:ee})):g.push({type:"name",label:`Search by Name: ${ee}`,value:ee}),g.length>0}}function oe(g){switch(r(9,C={}),g){case 1:if(!d.clientId)return r(9,C.client=m("cessions.create.validation.select_client"),C),!1;break;case 2:if(!d.monthlyPayment||d.monthlyPayment<=0)return r(9,C.monthlyPayment=m("cessions.create.validation.required_fields"),C),!1;if(!d.bankOrAgency)return r(9,C.bankOrAgency=m("cessions.create.validation.required_fields"),C),!1;break}return!0}function le(){M&&d.clientId&&(localStorage.setItem("cession_draft",JSON.stringify(d)),r(11,b=new Date))}vs(async()=>{const g=_.url.searchParams.get("clientId");g&&await F(g)});async function F(g){try{const ee=await sl.getById(g);if(ee.success){const ae=ee.data;Q(ae)}else Ot(ee.error||"Failed to load client","error")}catch(ee){Ot(ee.message||"Failed to load client","error")}finally{}}function G(){if(clearTimeout(V),D.length<2){r(3,S=[]),r(6,I=!1);return}r(6,I=!0),V=setTimeout(async()=>{try{const g=D.trim();let ee=[];const ae=parseInt(g);if(!isNaN(ae)&&/^\d+$/.test(g))if(ae>=1e7&&ae<=99999999){const J=await sl.search(null,null,null,g);if(J&&Array.isArray(J))ee=J;else{const he=await sl.search(null,null,null,null,null,null,null,g);he&&Array.isArray(he)&&(ee=he)}}else{const J=await sl.search(null,null,g);J&&Array.isArray(J)&&(ee=J)}else{const J=await sl.search(g);J&&Array.isArray(J)&&(ee=J)}r(3,S=ee.sort((J,he)=>{const Be=J.fullName?.toLowerCase()===g.toLowerCase()||J.cin?.toString()===g||J.clientNumber?.toString()===g||J.workerNumber?.toString()===g,Le=he.fullName?.toLowerCase()===g.toLowerCase()||he.cin?.toString()===g||he.clientNumber?.toString()===g||he.workerNumber?.toString()===g;return Be&&!Le?-1:!Be&&Le?1:(J.fullName||"").localeCompare(he.fullName||"")}))}catch{Ot("Failed to search clients. Please try again.","error"),r(3,S=[])}finally{r(6,I=!1)}},300)}function Q(g){r(0,d.clientId=g.id,d),r(0,d.clientName=g.fullName,d),r(0,d.clientNumber=g.clientNumber,d),r(0,d.clientCin=g.cin,d),r(0,d.clientJob=g.jobTitle,d),r(0,d.clientWorkplace=g.workplace,d),r(0,d.clientAddress=g.address,d),r(3,S=[]),r(2,D="")}async function T(){if(!d.clientId){Ot(m("cessions.create.validation.select_client"),"error");return}if(!d.monthlyPayment||!d.bankOrAgency){Ot(m("cessions.create.validation.required_fields"),"error");return}r(4,x=!0);try{const g=await bs.create(d);g.success?(Ot(m("cessions.create.validation.success"),"success"),_s(`/cessions/${g.data.id}`)):Ot(g.error||m("cessions.create.validation.error"),"error")}catch(g){Ot(g.message||m("cessions.create.validation.error"),"error")}finally{r(4,x=!1)}}async function $(){if(!d.clientId){Ot("Please select a client first","error");return}if(!d.monthlyPayment||!d.bankOrAgency){Ot("Please fill in all required fields","error");return}const g={courtName:"",bookNumber:"",pageNumber:"",date:Dl(new Date,"dd/MM/yyyy"),supplierTaxId:"",supplierName:"",supplierAddress:"",supplierBankAccount:"",workerNumber:d.clientNumber,fullName:d.clientName,cin:d.clientCin,address:d.clientAddress,workplace:d.clientWorkplace,jobTitle:d.clientJob,bankAccountNumber:d.bankOrAgency,itemDescription:"",amountInWords:Ls(f),totalAmountNumeric:Ut(f),monthlyPayment:Ut(d.monthlyPayment),firstDeductionMonthArabic:Dl(Es(new Date,1),"MMMM yyyy",{locale:gs})};await ks(g)}const O=()=>r(10,M=!M),z=()=>r(5,w=null),q=g=>H(g);function ue(){D=this.value,r(2,D)}const je=()=>{G(),W()},me=g=>{Q(g),k(),le()},ce=()=>{r(0,d.clientId=null,d),r(0,d.clientName=null,d),r(0,d.clientNumber=null,d),r(0,d.clientCin=null,d),r(0,d.clientJob=null,d),r(0,d.clientWorkplace=null,d),r(0,d.clientAddress=null,d)};function X(){d.monthlyPayment=cs(this.value),r(0,d)}function ke(){d.bankOrAgency=this.value,r(0,d)}function Pe(){d.startDate=this.value,r(0,d)}const Je=()=>{oe(2)&&k()};return s.$$.update=()=>{s.$$.dirty[0]&67108864&&r(1,n=N.code==="ar"),s.$$.dirty[0]&2&&r(14,c=n?"rtl":"ltr"),s.$$.dirty[0]&2&&r(13,h=n?"right":"left"),s.$$.dirty[0]&1&&r(12,f=d.monthlyPayment?d.monthlyPayment*rl:0)},[d,n,D,S,x,w,I,y,U,C,M,b,f,h,c,m,k,L,H,W,oe,le,G,Q,T,$,N,O,z,q,ue,je,me,ce,X,ke,Pe,Je]}class Ys extends ps{constructor(l){super(),ms(this,l,Hs,Bs,ds,{},null,[-1,-1])}}export{Ys as component};
