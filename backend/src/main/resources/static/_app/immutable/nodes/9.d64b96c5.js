import{s as Vl,a as b,f as i,l as W,J as jl,d as a,c as _,g as u,h as p,y as ee,m as F,j as t,k as wt,S as _e,L as ie,i as U,w as l,M as kt,z as xe,O as Ll,n as Re,K as Ft,H as Pl,o as Sl,F as Et,G as Nt,I as pl}from"../chunks/scheduler.55755e91.js";import{S as Al,i as Tl,b as El,d as Nl,m as xl,t as It,c as Bl,a as Ct,e as Dl,g as Ol}from"../chunks/index.d2ed93bc.js";import{e as ot}from"../chunks/each.8720bd6f.js";import{w as Ml,j as ql,c as Wt}from"../chunks/api.20dd9789.js";import{s as ke,l as hl,g as Ul}from"../chunks/navigation.fbd60083.js";import{P as Wl}from"../chunks/PageHeader.678a832a.js";import{S as Fl}from"../chunks/Spinner.50375aac.js";const lr=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function vl(s,r,e){const d=s.slice();return d[42]=r[e],d[44]=e,d}function bl(s,r,e){const d=s.slice();return d[45]=r[e],d}function _l(s,r,e){const d=s.slice();return d[48]=r[e],d}function gl(s){let r,e=s[48].name+"",d,c;return{c(){r=i("option"),d=W(e),this.h()},l(n){r=u(n,"OPTION",{});var m=p(r);d=F(m,e),m.forEach(a),this.h()},h(){r.__value=c=s[48].id,ie(r,r.__value)},m(n,m){U(n,r,m),l(r,d)},p(n,m){m[0]&256&&e!==(e=n[48].name+"")&&Re(d,e),m[0]&256&&c!==(c=n[48].id)&&(r.__value=c,ie(r,r.__value))},d(n){n&&a(r)}}}function yl(s){let r,e=s[45].name+"",d,c;return{c(){r=i("option"),d=W(e),this.h()},l(n){r=u(n,"OPTION",{});var m=p(r);d=F(m,e),m.forEach(a),this.h()},h(){r.__value=c=s[45].id,ie(r,r.__value)},m(n,m){U(n,r,m),l(r,d)},p(n,m){m[0]&1&&e!==(e=n[45].name+"")&&Re(d,e),m[0]&1&&c!==(c=n[45].id)&&(r.__value=c,ie(r,r.__value))},d(n){n&&a(r)}}}function Hl(s){let r,e,d;return{c(){r=Et("svg"),e=Et("path"),d=W(`
                Show Documents`),this.h()},l(c){r=Nt(c,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var n=p(r);e=Nt(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(e).forEach(a),n.forEach(a),d=F(c,`
                Show Documents`),this.h()},h(){t(e,"fill-rule","evenodd"),t(e,"d","M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"),t(e,"clip-rule","evenodd"),t(r,"xmlns","http://www.w3.org/2000/svg"),t(r,"class","h-4 w-4 mr-1"),t(r,"viewBox","0 0 20 20"),t(r,"fill","currentColor")},m(c,n){U(c,r,n),l(r,e),U(c,d,n)},d(c){c&&(a(r),a(d))}}}function Jl(s){let r,e,d;return{c(){r=Et("svg"),e=Et("path"),d=W(`
                Hide Documents`),this.h()},l(c){r=Nt(c,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var n=p(r);e=Nt(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(e).forEach(a),n.forEach(a),d=F(c,`
                Hide Documents`),this.h()},h(){t(e,"fill-rule","evenodd"),t(e,"d","M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"),t(e,"clip-rule","evenodd"),t(r,"xmlns","http://www.w3.org/2000/svg"),t(r,"class","h-4 w-4 mr-1"),t(r,"viewBox","0 0 20 20"),t(r,"fill","currentColor")},m(c,n){U(c,r,n),l(r,e),U(c,d,n)},d(c){c&&(a(r),a(d))}}}function wl(s){let r,e,d="National ID Card",c,n,m,D,O,f,V="Job Card (Optional)",se,L,E,Y,w,P,he="Phone Number (8-digit Number)",N,S,k,ge,ve,J,M,De,ue,Z,ae,Ie,Ve,te,z=s[25]()+"",je,de,le,ce,Oe="Additional Documents",G,K,Me,y,g,v,j=s[10]&&kl(s),T=s[11]&&Il(s),oe=ot(s[12]),q=[];for(let h=0;h<oe.length;h+=1)q[h]=Cl(vl(s,oe,h));return{c(){r=i("div"),e=i("label"),e.textContent=d,c=b(),n=i("input"),m=b(),j&&j.c(),D=b(),O=i("div"),f=i("label"),f.textContent=V,se=b(),L=i("input"),E=b(),T&&T.c(),Y=b(),w=i("div"),P=i("label"),P.textContent=he,N=b(),S=i("div"),k=i("input"),ge=b(),ve=i("div"),J=i("span"),M=W(s[15]),De=W("/8"),ue=b(),Z=i("div"),ae=i("div"),Ve=b(),te=i("p"),je=W(z),de=b(),le=i("div"),ce=i("label"),ce.textContent=Oe,G=b(),K=i("input"),Me=b(),y=i("ul");for(let h=0;h<q.length;h+=1)q[h].c();this.h()},l(h){r=u(h,"DIV",{class:!0});var A=p(r);e=u(A,"LABEL",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-64dxi2"&&(e.textContent=d),c=_(A),n=u(A,"INPUT",{type:!0,accept:!0,class:!0}),m=_(A),j&&j.l(A),A.forEach(a),D=_(h),O=u(h,"DIV",{class:!0});var C=p(O);f=u(C,"LABEL",{class:!0,"data-svelte-h":!0}),ee(f)!=="svelte-yt8tmd"&&(f.textContent=V),se=_(C),L=u(C,"INPUT",{type:!0,accept:!0,class:!0}),E=_(C),T&&T.l(C),C.forEach(a),Y=_(h),w=u(h,"DIV",{class:!0});var B=p(w);P=u(B,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ee(P)!=="svelte-o849we"&&(P.textContent=he),N=_(B),S=u(B,"DIV",{class:!0});var qe=p(S);k=u(qe,"INPUT",{type:!0,id:!0,pattern:!0,inputmode:!0,maxlength:!0,class:!0,placeholder:!0}),ge=_(qe),ve=u(qe,"DIV",{class:!0});var Le=p(ve);J=u(Le,"SPAN",{class:!0});var Ze=p(J);M=F(Ze,s[15]),De=F(Ze,"/8"),Ze.forEach(a),Le.forEach(a),qe.forEach(a),ue=_(B),Z=u(B,"DIV",{class:!0});var $e=p(Z);ae=u($e,"DIV",{class:!0,style:!0}),p(ae).forEach(a),$e.forEach(a),Ve=_(B),te=u(B,"P",{class:!0});var et=p(te);je=F(et,z),et.forEach(a),B.forEach(a),de=_(h),le=u(h,"DIV",{});var fe=p(le);ce=u(fe,"LABEL",{class:!0,"data-svelte-h":!0}),ee(ce)!=="svelte-ldmroi"&&(ce.textContent=Oe),G=_(fe),K=u(fe,"INPUT",{type:!0,accept:!0,class:!0}),Me=_(fe),y=u(fe,"UL",{class:!0});var Ce=p(y);for(let be=0;be<q.length;be+=1)q[be].l(Ce);Ce.forEach(a),fe.forEach(a),this.h()},h(){t(e,"class","block text-sm font-medium text-gray-700 mb-1"),t(n,"type","file"),t(n,"accept","image/*,application/pdf"),t(n,"class","block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"),t(r,"class","mb-4"),t(f,"class","block text-sm font-medium text-gray-700 mb-1"),t(L,"type","file"),t(L,"accept","image/*,application/pdf"),t(L,"class","block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"),t(O,"class","mb-4"),t(P,"for","phoneNumber"),t(P,"class","block text-sm font-medium text-gray-700"),t(k,"type","text"),t(k,"id","phoneNumber"),k.value=s[16],t(k,"pattern","\\d*"),t(k,"inputmode","numeric"),t(k,"maxlength","8"),t(k,"class","block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"),t(k,"placeholder","Enter 8-digit phone number"),t(J,"class",`text-sm font-medium ${s[24]()}`),t(ve,"class","absolute right-3 top-1/2 -translate-y-1/2"),t(S,"class","mt-1 relative"),t(ae,"class",`absolute left-0 top-0 h-full ${s[23]()} transition-all duration-300 ease-out`),t(ae,"style",Ie=`width: ${s[15]/8*100}%`),t(Z,"class","mt-2 h-2 w-full rounded-full bg-gray-200 relative overflow-hidden"),t(te,"class",`mt-1 text-sm ${s[24]()}`),t(w,"class","mb-4"),t(ce,"class","block text-sm font-medium text-gray-700 mb-1"),t(K,"type","file"),t(K,"accept","image/*,application/pdf"),t(K,"class","block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"),t(y,"class","mt-2 space-y-1")},m(h,A){U(h,r,A),l(r,e),l(r,c),l(r,n),l(r,m),j&&j.m(r,null),U(h,D,A),U(h,O,A),l(O,f),l(O,se),l(O,L),l(O,E),T&&T.m(O,null),U(h,Y,A),U(h,w,A),l(w,P),l(w,N),l(w,S),l(S,k),l(S,ge),l(S,ve),l(ve,J),l(J,M),l(J,De),l(w,ue),l(w,Z),l(Z,ae),l(w,Ve),l(w,te),l(te,je),U(h,de,A),U(h,le,A),l(le,ce),l(le,G),l(le,K),l(le,Me),l(le,y);for(let C=0;C<q.length;C+=1)q[C]&&q[C].m(y,null);g||(v=xe(k,"input",s[22]),g=!0)},p(h,A){if(h[10]?j?j.p(h,A):(j=kl(h),j.c(),j.m(r,null)):j&&(j.d(1),j=null),h[11]?T?T.p(h,A):(T=Il(h),T.c(),T.m(O,null)):T&&(T.d(1),T=null),A[0]&65536&&k.value!==h[16]&&(k.value=h[16]),A[0]&32768&&Re(M,h[15]),A[0]&32768&&Ie!==(Ie=`width: ${h[15]/8*100}%`)&&t(ae,"style",Ie),A[0]&2101248){oe=ot(h[12]);let C;for(C=0;C<oe.length;C+=1){const B=vl(h,oe,C);q[C]?q[C].p(B,A):(q[C]=Cl(B),q[C].c(),q[C].m(y,null))}for(;C<q.length;C+=1)q[C].d(1);q.length=oe.length}},d(h){h&&(a(r),a(D),a(O),a(Y),a(w),a(de),a(le)),j&&j.d(),T&&T.d(),Ft(q,h),g=!1,v()}}}function kl(s){let r,e,d=s[10].name+"",c;return{c(){r=i("p"),e=W("Selected: "),c=W(d),this.h()},l(n){r=u(n,"P",{class:!0});var m=p(r);e=F(m,"Selected: "),c=F(m,d),m.forEach(a),this.h()},h(){t(r,"class","mt-2 text-sm text-gray-500")},m(n,m){U(n,r,m),l(r,e),l(r,c)},p(n,m){m[0]&1024&&d!==(d=n[10].name+"")&&Re(c,d)},d(n){n&&a(r)}}}function Il(s){let r,e,d=s[11].name+"",c;return{c(){r=i("p"),e=W("Selected: "),c=W(d),this.h()},l(n){r=u(n,"P",{class:!0});var m=p(r);e=F(m,"Selected: "),c=F(m,d),m.forEach(a),this.h()},h(){t(r,"class","mt-2 text-sm text-gray-500")},m(n,m){U(n,r,m),l(r,e),l(r,c)},p(n,m){m[0]&2048&&d!==(d=n[11].name+"")&&Re(c,d)},d(n){n&&a(r)}}}function Cl(s){let r,e,d=s[42].name+"",c,n,m,D="Remove",O,f,V;function se(){return s[35](s[44])}return{c(){r=i("li"),e=i("span"),c=W(d),n=b(),m=i("button"),m.textContent=D,O=b(),this.h()},l(L){r=u(L,"LI",{class:!0});var E=p(r);e=u(E,"SPAN",{});var Y=p(e);c=F(Y,d),Y.forEach(a),n=_(E),m=u(E,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),ee(m)!=="svelte-17gii1n"&&(m.textContent=D),O=_(E),E.forEach(a),this.h()},h(){t(m,"type","button"),t(m,"class","text-red-500 hover:text-red-700"),t(r,"class","flex justify-between items-center text-sm text-gray-500")},m(L,E){U(L,r,E),l(r,e),l(e,c),l(r,n),l(r,m),l(r,O),f||(V=xe(m,"click",se),f=!0)},p(L,E){s=L,E[0]&4096&&d!==(d=s[42].name+"")&&Re(c,d)},d(L){L&&a(r),f=!1,V()}}}function zl(s){let r;return{c(){r=W("Save Client")},l(e){r=F(e,"Save Client")},m(e,d){U(e,r,d)},i:pl,o:pl,d(e){e&&a(r)}}}function Rl(s){let r,e,d;return r=new Fl({props:{size:"sm"}}),{c(){El(r.$$.fragment),e=W(" Saving...")},l(c){Nl(r.$$.fragment,c),e=F(c," Saving...")},m(c,n){xl(r,c,n),U(c,e,n),d=!0},i(c){d||(Ct(r.$$.fragment,c),d=!0)},o(c){It(r.$$.fragment,c),d=!1},d(c){c&&a(e),Dl(r,c)}}}function Gl(s){let r,e,d,c,n,m,D,O='<h3 class="text-lg font-medium text-gray-900">Client Information</h3>',f,V,se,L,E,Y="Full Name *",w,P,he,N,S,k,ge="CIN (8-digit Number) *",ve,J,M,De,ue,Z,ae,Ie,Ve,te,z,je,de,le=s[20]()+"",ce,Oe,G,K,Me="Worker Number (10-digit Number) *",y,g,v,j,T,oe,q,h,A,C,B,qe,Le,Ze=s[27]()+"",$e,et,fe,Ce,be,Ht="Workplace *",xt,me,Pe,Jt="Select a workplace",Dt,tt,Ge,Ue,zt="Job *",Vt,re,Se,Rt="Select a job",Gt,nt,jt,lt,Ke,We,Kt="Address *",Lt,pe,it,Pt,Ae,Fe,Qe,Qt="Required Documents",St,Te,At,Tt,rt,Ee,ye,we,ut,dt,He,Xt='<div class="bg-green-500 bg-yellow-500 bg-gray-400"></div>',H,Bt,Yt;d=new Wl({props:{title:"New Client",subtitle:"Create a new client profile",actions:[{label:"Back to Clients",href:"/clients",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" /></svg>'}]}});let st=ot(s[8]),Q=[];for(let o=0;o<st.length;o+=1)Q[o]=gl(_l(s,st,o));let at=ot(s[0]),X=[];for(let o=0;o<at.length;o+=1)X[o]=yl(bl(s,at,o));function Zt(o,I){return o[9]?Jl:Hl}let ct=Zt(s),Be=ct(s),$=s[9]&&wl(s);const $t=[Rl,zl],Xe=[];function el(o,I){return o[7]?0:1}return ye=el(s),we=Xe[ye]=$t[ye](s),{c(){r=b(),e=i("div"),El(d.$$.fragment),c=b(),n=i("div"),m=i("div"),D=i("div"),D.innerHTML=O,f=b(),V=i("form"),se=i("div"),L=i("div"),E=i("label"),E.textContent=Y,w=b(),P=i("input"),he=b(),N=i("div"),S=i("div"),k=i("label"),k.textContent=ge,ve=b(),J=i("div"),M=i("input"),De=b(),ue=i("div"),Z=i("span"),ae=W(s[3]),Ie=W("/8"),Ve=b(),te=i("div"),z=i("div"),je=b(),de=i("p"),ce=W(le),Oe=b(),G=i("div"),K=i("label"),K.textContent=Me,y=b(),g=i("div"),v=i("input"),j=b(),T=i("div"),oe=i("span"),q=W(s[5]),h=W("/10"),A=b(),C=i("div"),B=i("div"),qe=b(),Le=i("p"),$e=W(Ze),et=b(),fe=i("div"),Ce=i("div"),be=i("label"),be.textContent=Ht,xt=b(),me=i("select"),Pe=i("option"),Pe.textContent=Jt;for(let o=0;o<Q.length;o+=1)Q[o].c();Dt=b(),tt=i("div"),Ge=i("div"),Ue=i("label"),Ue.textContent=zt,Vt=b(),re=i("select"),Se=i("option"),Se.textContent=Rt;for(let o=0;o<X.length;o+=1)X[o].c();jt=b(),lt=i("div"),Ke=i("div"),We=i("label"),We.textContent=Kt,Lt=b(),pe=i("input"),Pt=b(),Ae=i("div"),Fe=i("div"),Qe=i("label"),Qe.textContent=Qt,St=b(),Te=i("button"),Be.c(),At=b(),$&&$.c(),Tt=b(),rt=i("div"),Ee=i("button"),we.c(),dt=b(),He=i("div"),He.innerHTML=Xt,this.h()},l(o){jl("svelte-1nok5b9",document.head).forEach(a),r=_(o),e=u(o,"DIV",{class:!0});var R=p(e);Nl(d.$$.fragment,R),c=_(R),n=u(R,"DIV",{class:!0});var x=p(n);m=u(x,"DIV",{class:!0});var Ne=p(m);D=u(Ne,"DIV",{class:!0,"data-svelte-h":!0}),ee(D)!=="svelte-j314re"&&(D.innerHTML=O),f=_(Ne),V=u(Ne,"FORM",{class:!0});var ne=p(V);se=u(ne,"DIV",{class:!0});var tl=p(se);L=u(tl,"DIV",{});var ft=p(L);E=u(ft,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ee(E)!=="svelte-1v0lcos"&&(E.textContent=Y),w=_(ft),P=u(ft,"INPUT",{type:!0,id:!0,class:!0}),ft.forEach(a),tl.forEach(a),he=_(ne),N=u(ne,"DIV",{class:!0});var mt=p(N);S=u(mt,"DIV",{});var Je=p(S);k=u(Je,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ee(k)!=="svelte-1wpstee"&&(k.textContent=ge),ve=_(Je),J=u(Je,"DIV",{class:!0});var pt=p(J);M=u(pt,"INPUT",{type:!0,id:!0,pattern:!0,inputmode:!0,maxlength:!0,class:!0,placeholder:!0}),De=_(pt),ue=u(pt,"DIV",{class:!0});var ll=p(ue);Z=u(ll,"SPAN",{class:!0});var Ot=p(Z);ae=F(Ot,s[3]),Ie=F(Ot,"/8"),Ot.forEach(a),ll.forEach(a),pt.forEach(a),Ve=_(Je),te=u(Je,"DIV",{class:!0});var rl=p(te);z=u(rl,"DIV",{class:!0,style:!0}),p(z).forEach(a),rl.forEach(a),je=_(Je),de=u(Je,"P",{class:!0});var sl=p(de);ce=F(sl,le),sl.forEach(a),Je.forEach(a),Oe=_(mt),G=u(mt,"DIV",{});var ze=p(G);K=u(ze,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ee(K)!=="svelte-1br6mj"&&(K.textContent=Me),y=_(ze),g=u(ze,"DIV",{class:!0});var ht=p(g);v=u(ht,"INPUT",{type:!0,id:!0,pattern:!0,inputmode:!0,maxlength:!0,class:!0,placeholder:!0}),j=_(ht),T=u(ht,"DIV",{class:!0});var al=p(T);oe=u(al,"SPAN",{class:!0});var Mt=p(oe);q=F(Mt,s[5]),h=F(Mt,"/10"),Mt.forEach(a),al.forEach(a),ht.forEach(a),A=_(ze),C=u(ze,"DIV",{class:!0});var ol=p(C);B=u(ol,"DIV",{class:!0,style:!0}),p(B).forEach(a),ol.forEach(a),qe=_(ze),Le=u(ze,"P",{class:!0});var nl=p(Le);$e=F(nl,Ze),nl.forEach(a),ze.forEach(a),mt.forEach(a),et=_(ne),fe=u(ne,"DIV",{class:!0});var il=p(fe);Ce=u(il,"DIV",{});var vt=p(Ce);be=u(vt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ee(be)!=="svelte-18jdtiu"&&(be.textContent=Ht),xt=_(vt),me=u(vt,"SELECT",{id:!0,class:!0});var qt=p(me);Pe=u(qt,"OPTION",{"data-svelte-h":!0}),ee(Pe)!=="svelte-1mp228j"&&(Pe.textContent=Jt);for(let Ye=0;Ye<Q.length;Ye+=1)Q[Ye].l(qt);qt.forEach(a),vt.forEach(a),il.forEach(a),Dt=_(ne),tt=u(ne,"DIV",{class:!0});var ul=p(tt);Ge=u(ul,"DIV",{});var bt=p(Ge);Ue=u(bt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ee(Ue)!=="svelte-1dpdib6"&&(Ue.textContent=zt),Vt=_(bt),re=u(bt,"SELECT",{id:!0,class:!0});var Ut=p(re);Se=u(Ut,"OPTION",{"data-svelte-h":!0}),ee(Se)!=="svelte-rv2tku"&&(Se.textContent=Rt);for(let Ye=0;Ye<X.length;Ye+=1)X[Ye].l(Ut);Ut.forEach(a),bt.forEach(a),ul.forEach(a),jt=_(ne),lt=u(ne,"DIV",{class:!0});var dl=p(lt);Ke=u(dl,"DIV",{});var _t=p(Ke);We=u(_t,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ee(We)!=="svelte-1ujwhn2"&&(We.textContent=Kt),Lt=_(_t),pe=u(_t,"INPUT",{type:!0,id:!0,class:!0}),_t.forEach(a),dl.forEach(a),Pt=_(ne),Ae=u(ne,"DIV",{class:!0});var gt=p(Ae);Fe=u(gt,"DIV",{class:!0});var yt=p(Fe);Qe=u(yt,"LABEL",{class:!0,"data-svelte-h":!0}),ee(Qe)!=="svelte-1xlq96x"&&(Qe.textContent=Qt),St=_(yt),Te=u(yt,"BUTTON",{type:!0,class:!0});var cl=p(Te);Be.l(cl),cl.forEach(a),yt.forEach(a),At=_(gt),$&&$.l(gt),gt.forEach(a),Tt=_(ne),rt=u(ne,"DIV",{class:!0});var fl=p(rt);Ee=u(fl,"BUTTON",{type:!0,class:!0});var ml=p(Ee);we.l(ml),ml.forEach(a),fl.forEach(a),ne.forEach(a),Ne.forEach(a),x.forEach(a),R.forEach(a),dt=_(o),He=u(o,"DIV",{class:!0,"data-svelte-h":!0}),ee(He)!=="svelte-9pvd48"&&(He.innerHTML=Xt),this.h()},h(){document.title="New Client | Cession Management",t(D,"class","p-6 border-b border-gray-200"),t(E,"for","fullName"),t(E,"class","block text-sm font-medium text-gray-700"),t(P,"type","text"),t(P,"id","fullName"),t(P,"class","mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"),P.required=!0,t(se,"class","space-y-4"),t(k,"for","cin"),t(k,"class","block text-sm font-medium text-gray-700"),t(M,"type","text"),t(M,"id","cin"),M.required=!0,t(M,"pattern","\\d*"),t(M,"inputmode","numeric"),t(M,"maxlength","8"),t(M,"class","block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"),t(M,"placeholder","Enter 8-digit CIN"),t(Z,"class",`text-sm font-medium ${s[19]()}`),t(ue,"class","absolute right-3 top-1/2 -translate-y-1/2"),t(J,"class","mt-1 relative"),t(z,"class","absolute left-0 top-0 h-full transition-all duration-300 ease-out"),wt(z,"width",s[3]/8*100+"%"),_e(z,"bg-green-500",s[13]==="valid"),_e(z,"bg-yellow-500",s[13]==="invalid"),_e(z,"bg-gray-400",s[13]==="empty"),t(te,"class","mt-2 h-2 w-full rounded-full bg-gray-200 relative overflow-hidden"),t(de,"class",`mt-1 text-sm ${s[19]()}`),t(K,"for","workerNumber"),t(K,"class","block text-sm font-medium text-gray-700"),t(v,"type","text"),t(v,"id","workerNumber"),v.required=!0,t(v,"pattern","\\d*"),t(v,"inputmode","numeric"),t(v,"maxlength","10"),t(v,"class","block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"),t(v,"placeholder","Enter 10-digit worker number"),t(oe,"class",`text-sm font-medium ${s[26]()}`),t(T,"class","absolute right-3 top-1/2 -translate-y-1/2"),t(g,"class","mt-1 relative"),t(B,"class","absolute left-0 top-0 h-full transition-all duration-300 ease-out"),wt(B,"width",s[5]/10*100+"%"),_e(B,"bg-green-500",s[14]==="valid"),_e(B,"bg-yellow-500",s[14]==="invalid"),_e(B,"bg-gray-400",s[14]==="empty"),t(C,"class","mt-2 h-2 w-full rounded-full bg-gray-200 relative overflow-hidden"),t(Le,"class",`mt-1 text-sm ${s[26]()}`),t(N,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),t(be,"for","workplace"),t(be,"class","block text-sm font-medium text-gray-700"),Pe.__value="",ie(Pe,Pe.__value),t(me,"id","workplace"),me.required=!0,t(me,"class","mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md"),t(fe,"class","space-y-4"),t(Ue,"for","job"),t(Ue,"class","block text-sm font-medium text-gray-700"),Se.__value="",ie(Se,Se.__value),t(re,"id","job"),re.disabled=nt=!s[1],re.required=!0,t(re,"class","mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md disabled:bg-gray-100 disabled:text-gray-500"),t(tt,"class","space-y-4"),t(We,"for","address"),t(We,"class","block text-sm font-medium text-gray-700"),t(pe,"type","text"),t(pe,"id","address"),pe.required=!0,t(pe,"class","mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"),pe.readOnly=it=s[1]!==null,t(lt,"class","space-y-4"),t(Qe,"class","block text-sm font-medium text-gray-700"),t(Te,"type","button"),t(Te,"class","inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"),t(Fe,"class","flex items-center justify-between"),t(Ae,"class","space-y-6"),t(Ee,"type","submit"),Ee.disabled=ut=s[7]||s[13]!=="valid"||!s[2].fullName,t(Ee,"class","w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed"),t(rt,"class","pt-5"),t(V,"class","p-6 space-y-6"),t(m,"class","bg-white shadow-sm rounded-lg overflow-hidden"),t(n,"class","max-w-2xl mx-auto"),t(e,"class","space-y-6"),t(He,"class","hidden")},m(o,I){U(o,r,I),U(o,e,I),xl(d,e,null),l(e,c),l(e,n),l(n,m),l(m,D),l(m,f),l(m,V),l(V,se),l(se,L),l(L,E),l(L,w),l(L,P),ie(P,s[2].fullName),l(V,he),l(V,N),l(N,S),l(S,k),l(S,ve),l(S,J),l(J,M),ie(M,s[4]),l(J,De),l(J,ue),l(ue,Z),l(Z,ae),l(Z,Ie),l(S,Ve),l(S,te),l(te,z),l(S,je),l(S,de),l(de,ce),l(N,Oe),l(N,G),l(G,K),l(G,y),l(G,g),l(g,v),ie(v,s[6]),l(g,j),l(g,T),l(T,oe),l(oe,q),l(oe,h),l(G,A),l(G,C),l(C,B),l(G,qe),l(G,Le),l(Le,$e),l(V,et),l(V,fe),l(fe,Ce),l(Ce,be),l(Ce,xt),l(Ce,me),l(me,Pe);for(let R=0;R<Q.length;R+=1)Q[R]&&Q[R].m(me,null);kt(me,s[1]),l(V,Dt),l(V,tt),l(tt,Ge),l(Ge,Ue),l(Ge,Vt),l(Ge,re),l(re,Se);for(let R=0;R<X.length;R+=1)X[R]&&X[R].m(re,null);kt(re,s[2].jobId),l(V,jt),l(V,lt),l(lt,Ke),l(Ke,We),l(Ke,Lt),l(Ke,pe),ie(pe,s[2].address),l(V,Pt),l(V,Ae),l(Ae,Fe),l(Fe,Qe),l(Fe,St),l(Fe,Te),Be.m(Te,null),l(Ae,At),$&&$.m(Ae,null),l(V,Tt),l(V,rt),l(rt,Ee),Xe[ye].m(Ee,null),U(o,dt,I),U(o,He,I),H=!0,Bt||(Yt=[xe(P,"input",s[30]),xe(M,"input",s[31]),xe(v,"input",s[32]),xe(me,"change",s[17]),xe(re,"change",s[18]),xe(pe,"input",s[33]),xe(Te,"click",s[34]),xe(V,"submit",Ll(s[28]))],Bt=!0)},p(o,I){if(I[0]&5&&P.value!==o[2].fullName&&ie(P,o[2].fullName),I[0]&16&&M.value!==o[4]&&ie(M,o[4]),(!H||I[0]&8)&&Re(ae,o[3]),(!H||I[0]&8)&&wt(z,"width",o[3]/8*100+"%"),(!H||I[0]&8192)&&_e(z,"bg-green-500",o[13]==="valid"),(!H||I[0]&8192)&&_e(z,"bg-yellow-500",o[13]==="invalid"),(!H||I[0]&8192)&&_e(z,"bg-gray-400",o[13]==="empty"),I[0]&64&&v.value!==o[6]&&ie(v,o[6]),(!H||I[0]&32)&&Re(q,o[5]),(!H||I[0]&32)&&wt(B,"width",o[5]/10*100+"%"),(!H||I[0]&16384)&&_e(B,"bg-green-500",o[14]==="valid"),(!H||I[0]&16384)&&_e(B,"bg-yellow-500",o[14]==="invalid"),(!H||I[0]&16384)&&_e(B,"bg-gray-400",o[14]==="empty"),I[0]&256){st=ot(o[8]);let x;for(x=0;x<st.length;x+=1){const Ne=_l(o,st,x);Q[x]?Q[x].p(Ne,I):(Q[x]=gl(Ne),Q[x].c(),Q[x].m(me,null))}for(;x<Q.length;x+=1)Q[x].d(1);Q.length=st.length}if((!H||I[0]&258)&&kt(me,o[1]),I[0]&1){at=ot(o[0]);let x;for(x=0;x<at.length;x+=1){const Ne=bl(o,at,x);X[x]?X[x].p(Ne,I):(X[x]=yl(Ne),X[x].c(),X[x].m(re,null))}for(;x<X.length;x+=1)X[x].d(1);X.length=at.length}(!H||I[0]&5&&Gt!==(Gt=o[2].jobId))&&kt(re,o[2].jobId),(!H||I[0]&258&&nt!==(nt=!o[1]))&&(re.disabled=nt),(!H||I[0]&258&&it!==(it=o[1]!==null))&&(pe.readOnly=it),I[0]&5&&pe.value!==o[2].address&&ie(pe,o[2].address),ct!==(ct=Zt(o))&&(Be.d(1),Be=ct(o),Be&&(Be.c(),Be.m(Te,null))),o[9]?$?$.p(o,I):($=wl(o),$.c(),$.m(Ae,null)):$&&($.d(1),$=null);let R=ye;ye=el(o),ye!==R&&(Ol(),It(Xe[R],1,1,()=>{Xe[R]=null}),Bl(),we=Xe[ye],we||(we=Xe[ye]=$t[ye](o),we.c()),Ct(we,1),we.m(Ee,null)),(!H||I[0]&8325&&ut!==(ut=o[7]||o[13]!=="valid"||!o[2].fullName))&&(Ee.disabled=ut)},i(o){H||(Ct(d.$$.fragment,o),Ct(we),H=!0)},o(o){It(d.$$.fragment,o),It(we),H=!1},d(o){o&&(a(r),a(e),a(dt),a(He)),Dl(d),Ft(Q,o),Ft(X,o),Be.d(),$&&$.d(),Xe[ye].d(),Bt=!1,Pl(Yt)}}}function Kl(s,r,e){let d=!1,c=[],n=[],m=[],D=null,O=!1,f={fullName:"",cin:"",job:"",phoneNumber:"",workplace:"",address:"",jobId:null,workerNumber:"",workplaceId:null},V=null,se=null,L=[],E=0,Y="empty",w="",P=0,he="empty",N="",S=0,k="empty",ge="";Sl(async()=>{try{const y=await Ml.getAll();e(8,c=y);const g=await ql.getAll();e(29,n=g)}catch{ke("Failed to load workplaces and jobs","error")}});function ve(y){const g=y.target.value;if(e(1,D=g||null),e(2,f.workplaceId=g||null,f),g){const v=c.find(j=>j.id===g);v&&(e(2,f.workplace=v.name,f),e(2,f.address=v.name,f))}else e(2,f.workplace="",f),e(2,f.address="",f)}function J(y){const g=y.target.value;if(e(2,f.jobId=g||null,f),g){const v=n.find(j=>j.id===g);v&&e(2,f.job=v.name,f)}else e(2,f.job="",f)}function M(){return Y==="valid"?"text-green-600":Y==="invalid"?"text-yellow-600":"text-gray-500"}function De(){switch(Y){case"valid":return"Valid CIN number";case"invalid":return E<8?"CIN must be 8 digits":"Invalid CIN number";default:return"Please enter a CIN number"}}function ue(y){e(12,L=L.filter((g,v)=>v!==y))}function Z(y){let g=y.target.value;g=g.replace(/[^\d]/g,""),g.length>8&&(g=g.slice(0,8)),e(16,ge=g),e(15,S=ge.length);const v=parseInt(ge);e(2,f.phoneNumber=isNaN(v)?"":g,f),S===8?k="valid":S>0?k="invalid":k="empty"}function ae(){return k==="valid"?"bg-green-500":k==="invalid"?"bg-yellow-500":"bg-gray-400"}function Ie(){return k==="valid"?"text-green-600":k==="invalid"?"text-yellow-600":"text-gray-500"}function Ve(){switch(k){case"valid":return"Valid phone number";case"invalid":return S<8?"Phone number must be 8 digits":"Invalid phone number";default:return"Please enter a phone number"}}function te(){return he==="valid"?"text-green-600":he==="invalid"?"text-yellow-600":"text-gray-500"}function z(){switch(he){case"valid":return"Valid worker number";case"invalid":return P<10?"Worker number must be 10 digits":"Invalid worker number";default:return"Please enter a worker number"}}async function je(y,g){try{if(y){const v=await Wt.search(null,null,null,y);if(Array.isArray(v)&&v.length>0)return{duplicate:!0,field:"cin"}}if(g){const v=await Wt.search(null,null,null,null,null,null,null,g);if(Array.isArray(v)&&v.length>0)return{duplicate:!0,field:"workerNumber"}}return{duplicate:!1}}catch{return{duplicate:!1}}}async function de(){e(7,d=!0),hl.set(!0);try{if(!f.fullName.trim()){ke("Full Name cannot be blank","error");return}if(!w||w.length!==8){ke("CIN must be exactly 8 digits","error");return}if(!N||N.length!==10){ke("Worker number must be exactly 10 digits","error");return}if(!D){ke("Workplace is required","error");return}if(!f.jobId){ke("Job is required","error");return}if(!f.address||!f.address.trim()){ke("Address is required","error");return}if(D){const j=c.find(T=>T.id===D);j&&e(2,f.workplace=j.name,f)}const y={fullName:f.fullName,cin:w,job:f.job,phoneNumber:f.phoneNumber,workplace:f.workplace,address:f.address,jobId:f.jobId,workerNumber:N,workplaceId:f.workplaceId},g=await je(w,N);if(g.duplicate){ke(`A client with this ${g.field} already exists`,"error");return}const v=await Wt.create(y);v.success?(ke("Client created successfully","success"),Ul(`/clients/${v.data.id}`)):ke(v.error||"Failed to create client","error")}catch(y){ke(y.message||"Failed to create client","error")}finally{e(7,d=!1),hl.set(!1)}}function le(){f.fullName=this.value,e(2,f),e(1,D),e(29,n),e(0,m),e(4,w),e(6,N),e(0,m),e(1,D),e(29,n),e(2,f),e(4,w),e(6,N)}function ce(){w=this.value,e(4,w)}function Oe(){N=this.value,e(6,N)}function G(){f.address=this.value,e(2,f),e(1,D),e(29,n),e(0,m),e(4,w),e(6,N),e(0,m),e(1,D),e(29,n),e(2,f),e(4,w),e(6,N)}const K=()=>e(9,O=!O),Me=y=>ue(y);return s.$$.update=()=>{s.$$.dirty[0]&536870919&&(D?(e(0,m=n.filter(y=>y.workplaceId===D)),f.jobId&&!m.some(y=>y.id===f.jobId)&&e(2,f.jobId=null,f)):(e(0,m=[]),e(2,f.jobId=null,f))),s.$$.dirty[0]&16&&e(4,w=w.replace(/[^\d]/g,"").slice(0,8)),s.$$.dirty[0]&16&&e(3,E=w.length),s.$$.dirty[0]&16&&e(2,f.cin=w,f),s.$$.dirty[0]&8&&e(13,Y=E===8?"valid":E>0?"invalid":"empty"),s.$$.dirty[0]&64&&e(6,N=N.replace(/[^\d]/g,"").slice(0,10)),s.$$.dirty[0]&64&&e(5,P=N.length),s.$$.dirty[0]&64&&e(2,f.workerNumber=N,f),s.$$.dirty[0]&32&&e(14,he=P===10?"valid":P>0?"invalid":"empty")},[m,D,f,E,w,P,N,d,c,O,V,se,L,Y,he,S,ge,ve,J,M,De,ue,Z,ae,Ie,Ve,te,z,de,n,le,ce,Oe,G,K,Me]}class rr extends Al{constructor(r){super(),Tl(this,r,Kl,Gl,Vl,{},null,[-1,-1])}}export{rr as component,lr as universal};
