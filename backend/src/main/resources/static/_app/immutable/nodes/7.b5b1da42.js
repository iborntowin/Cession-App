import{s as N,a as C,f as _,c as T,g as h,h as b,d,j as g,i as p,u as O,o as U,w as D,I as v,y as w,z as y,H as B,Q as z,R as A,L as I}from"../chunks/scheduler.55755e91.js";import{S as F,i as R,b as P,d as S,m as L,t as k,c as q,a as x,e as M,g as Q}from"../chunks/index.d2ed93bc.js";import{p as X}from"../chunks/stores.bcd3e6fb.js";import{b as V}from"../chunks/api.20dd9789.js";import{s as E}from"../chunks/navigation.fbd60083.js";import{P as $}from"../chunks/PageHeader.678a832a.js";import{S as G}from"../chunks/Spinner.50375aac.js";function J(u){let t,n,s,e;function r(l,c){return l[1]?Y:W}let f=r(u),a=f(u);function i(l,c){return l[1]?ee:Z}let m=i(u),o=m(u);return{c(){t=_("div"),n=_("div"),a.c(),s=C(),e=_("div"),o.c(),this.h()},l(l){t=h(l,"DIV",{class:!0});var c=b(t);n=h(c,"DIV",{class:!0});var H=b(n);a.l(H),H.forEach(d),s=T(c),e=h(c,"DIV",{class:!0});var j=b(e);o.l(j),j.forEach(d),c.forEach(d),this.h()},h(){g(n,"class","flex justify-end space-x-4 mb-6"),g(e,"class","border rounded-lg p-6 bg-white"),g(t,"class","bg-white shadow-lg rounded-lg p-6 svelte-1m17hjb")},m(l,c){p(l,t,c),D(t,n),a.m(n,null),D(t,s),D(t,e),o.m(e,null)},p(l,c){f===(f=r(l))&&a?a.p(l,c):(a.d(1),a=f(l),a&&(a.c(),a.m(n,null))),m===(m=i(l))&&o?o.p(l,c):(o.d(1),o=m(l),o&&(o.c(),o.m(e,null)))},i:v,o:v,d(l){l&&d(t),a.d(),o.d()}}}function K(u){let t,n,s;return n=new G({}),{c(){t=_("div"),P(n.$$.fragment),this.h()},l(e){t=h(e,"DIV",{class:!0});var r=b(t);S(n.$$.fragment,r),r.forEach(d),this.h()},h(){g(t,"class","flex justify-center items-center h-64 svelte-1m17hjb")},m(e,r){p(e,t,r),L(n,t,null),s=!0},p:v,i(e){s||(x(n.$$.fragment,e),s=!0)},o(e){k(n.$$.fragment,e),s=!1},d(e){e&&d(t),M(n)}}}function W(u){let t,n="Edit Document",s,e,r=`<svg class="h-5 w-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"></path></svg>
                        Print Document`,f,a;return{c(){t=_("button"),t.textContent=n,s=C(),e=_("button"),e.innerHTML=r,this.h()},l(i){t=h(i,"BUTTON",{class:!0,"data-svelte-h":!0}),w(t)!=="svelte-3568ea"&&(t.textContent=n),s=T(i),e=h(i,"BUTTON",{class:!0,"data-svelte-h":!0}),w(e)!=="svelte-1kyhok7"&&(e.innerHTML=r),this.h()},h(){g(t,"class","inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),g(e,"class","inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500")},m(i,m){p(i,t,m),p(i,s,m),p(i,e,m),f||(a=[y(t,"click",u[6]),y(e,"click",ne)],f=!0)},p:v,d(i){i&&(d(t),d(s),d(e)),f=!1,B(a)}}}function Y(u){let t,n="Cancel",s,e,r="Save Changes",f,a;return{c(){t=_("button"),t.textContent=n,s=C(),e=_("button"),e.textContent=r,this.h()},l(i){t=h(i,"BUTTON",{class:!0,"data-svelte-h":!0}),w(t)!=="svelte-nxmly1"&&(t.textContent=n),s=T(i),e=h(i,"BUTTON",{class:!0,"data-svelte-h":!0}),w(e)!=="svelte-vf7vva"&&(e.textContent=r),this.h()},h(){g(t,"class","inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),g(e,"class","inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500")},m(i,m){p(i,t,m),p(i,s,m),p(i,e,m),f||(a=[y(t,"click",u[5]),y(e,"click",u[4])],f=!0)},p:v,d(i){i&&(d(t),d(s),d(e)),f=!1,B(a)}}}function Z(u){let t,n;return{c(){t=_("div"),n=new z(!1),this.h()},l(s){t=h(s,"DIV",{class:!0});var e=b(t);n=A(e,!1),e.forEach(d),this.h()},h(){n.a=null,g(t,"class","prose max-w-none")},m(s,e){p(s,t,e),n.m(u[0],t)},p(s,e){e&1&&n.p(s[0])},d(s){s&&d(t)}}}function ee(u){let t,n,s;return{c(){t=_("textarea"),this.h()},l(e){t=h(e,"TEXTAREA",{class:!0}),b(t).forEach(d),this.h()},h(){g(t,"class","w-full h-[800px] p-4 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500")},m(e,r){p(e,t,r),I(t,u[3]),n||(s=y(t,"input",u[7]),n=!0)},p(e,r){r&8&&I(t,e[3])},d(e){e&&d(t),n=!1,s()}}}function te(u){let t,n,s,e,r,f;t=new $({props:{title:"Document Preview"}});const a=[K,J],i=[];function m(o,l){return o[2]?0:1}return e=m(u),r=i[e]=a[e](u),{c(){P(t.$$.fragment),n=C(),s=_("div"),r.c(),this.h()},l(o){S(t.$$.fragment,o),n=T(o),s=h(o,"DIV",{class:!0});var l=b(s);r.l(l),l.forEach(d),this.h()},h(){g(s,"class","container mx-auto px-4 py-8 svelte-1m17hjb")},m(o,l){L(t,o,l),p(o,n,l),p(o,s,l),i[e].m(s,null),f=!0},p(o,[l]){let c=e;e=m(o),e===c?i[e].p(o,l):(Q(),k(i[c],1,1,()=>{i[c]=null}),q(),r=i[e],r?r.p(o,l):(r=i[e]=a[e](o),r.c()),x(r,1),r.m(s,null))},i(o){f||(x(t.$$.fragment,o),x(r),f=!0)},o(o){k(t.$$.fragment,o),k(r),f=!1},d(o){o&&(d(n),d(s)),M(t,o),i[e].d()}}}function ne(){window.print()}function se(u,t,n){let s;O(u,X,c=>n(8,s=c));let e="",r=!1,f=!0,a="";U(async()=>{try{const c=await V.get(`/cessions/${s.params.id}/document`);n(0,e=c),n(3,a=c),n(2,f=!1)}catch{E("Failed to load document","error"),n(2,f=!1)}});async function i(){try{await V.put(`/cessions/${s.params.id}/document`,a),n(0,e=a),n(1,r=!1),E("Document saved successfully","success")}catch{E("Failed to save document","error")}}const m=()=>{n(3,a=e),n(1,r=!1)},o=()=>n(1,r=!0);function l(){a=this.value,n(3,a)}return[e,r,f,a,i,m,o,l]}class fe extends F{constructor(t){super(),R(this,t,se,te,N,{})}}export{fe as component};
