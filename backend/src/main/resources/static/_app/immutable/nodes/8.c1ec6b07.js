import{s as Pt,a as w,f as d,F as ze,l as N,J as St,d as o,c as k,g as f,h as c,G as Ue,m as I,j as s,k as Ye,i as Ae,w as e,L as Te,z as ve,n as C,H as et,u as dt,o as Tt,A as ft,y as jt,x as ht,I as qe}from"../chunks/scheduler.55755e91.js";import{S as Mt,i as Lt,b as Dt,d as Ct,m as At,t as He,c as pt,a as je,e as Bt,f as Ze,g as _t}from"../chunks/index.d2ed93bc.js";import{e as vt,u as Ht,d as zt}from"../chunks/each.8720bd6f.js";import{c as mt,w as bt,j as Ut}from"../chunks/api.20dd9789.js";import{s as Le,l as xe,g as gt}from"../chunks/navigation.fbd60083.js";import{P as Ot}from"../chunks/PageHeader.678a832a.js";import{S as Ft}from"../chunks/Spinner.50375aac.js";import{a as wt,f as kt}from"../chunks/index.cc614871.js";import{t as Wt}from"../chunks/index.7dc5fa01.js";function Et(r,l,t){const a=r.slice();return a[40]=l[t],a}function qt(r){let l,t;return{c(){l=ze("svg"),t=ze("path"),this.h()},l(a){l=Ue(a,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var i=c(l);t=Ue(i,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),c(t).forEach(o),i.forEach(o),this.h()},h(){s(t,"fill-rule","evenodd"),s(t,"d","M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"),s(t,"clip-rule","evenodd"),s(l,"xmlns","http://www.w3.org/2000/svg"),s(l,"class","h-5 w-5"),s(l,"viewBox","0 0 20 20"),s(l,"fill","currentColor")},m(a,i){Ae(a,l,i),e(l,t)},d(a){a&&o(l)}}}function Gt(r){let l,t;return{c(){l=ze("svg"),t=ze("path"),this.h()},l(a){l=Ue(a,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var i=c(l);t=Ue(i,"path",{d:!0}),c(t).forEach(o),i.forEach(o),this.h()},h(){s(t,"d","M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"),s(l,"xmlns","http://www.w3.org/2000/svg"),s(l,"class","h-5 w-5"),s(l,"viewBox","0 0 20 20"),s(l,"fill","currentColor")},m(a,i){Ae(a,l,i),e(l,t)},d(a){a&&o(l)}}}function Jt(r){let l,t=[],a=new Map,i,m=vt(r[1]);const v=u=>u[40].id;for(let u=0;u<m.length;u+=1){let p=Et(r,m,u),_=v(p);a.set(_,t[u]=yt(_,p))}return{c(){l=d("div");for(let u=0;u<t.length;u+=1)t[u].c();this.h()},l(u){l=f(u,"DIV",{class:!0});var p=c(l);for(let _=0;_<t.length;_+=1)t[_].l(p);p.forEach(o),this.h()},h(){s(l,"class",i=r[8]==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4")},m(u,p){Ae(u,l,p);for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(l,null)},p(u,p){p[0]&591874&&(m=vt(u[1]),t=Ht(t,p,v,1,u,m,a,l,zt,yt,null,Et)),p[0]&256&&i!==(i=u[8]==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4")&&s(l,"class",i)},i:qe,o:qe,d(u){u&&o(l);for(let p=0;p<t.length;p+=1)t[p].d()}}}function Qt(r){let l,t,a=r[11]("common.no_data")+"",i;return{c(){l=d("div"),t=d("p"),i=N(a),this.h()},l(m){l=f(m,"DIV",{class:!0});var v=c(l);t=f(v,"P",{class:!0});var u=c(t);i=I(u,a),u.forEach(o),v.forEach(o),this.h()},h(){s(t,"class","text-gray-500"),s(l,"class","text-center py-12")},m(m,v){Ae(m,l,v),e(l,t),e(t,i)},p(m,v){v[0]&2048&&a!==(a=m[11]("common.no_data")+"")&&C(i,a)},i:qe,o:qe,d(m){m&&o(l)}}}function Kt(r){let l,t,a;return t=new Ft({}),{c(){l=d("div"),Dt(t.$$.fragment),this.h()},l(i){l=f(i,"DIV",{class:!0});var m=c(l);Ct(t.$$.fragment,m),m.forEach(o),this.h()},h(){s(l,"class","flex justify-center items-center h-64")},m(i,m){Ae(i,l,m),At(t,l,null),a=!0},p:qe,i(i){a||(je(t.$$.fragment,i),a=!0)},o(i){He(t.$$.fragment,i),a=!1},d(i){i&&o(l),Bt(t)}}}function yt(r,l){let t,a,i,m,v=l[40].fullName+"",u,p,_,b=$e(l[40].clientNumber)+"",D,P,U,M,ie=l[11]("clients.details.cin")+"",G,K,S=(l[40].cin||"N/A")+"",Y,Z,V,$=l[11]("clients.details.worker_number")+"",ce,O,ue=(l[40].workerNumber||"N/A")+"",x,ee,W,re=l[11]("clients.details.workplace")+"",de,ne,A=(l[40].workplaceName||"N/A")+"",fe,ge,R,q,ae=l[11]("common.actions.view")+"",he,ke,T,pe=l[11]("clients.details.create_cession")+"",oe,n,E,X;function _e(){return l[26](l[40])}function Ee(){return l[27](l[40])}return{key:r,first:null,c(){t=d("div"),a=d("div"),i=d("div"),m=d("h3"),u=N(v),p=w(),_=d("p"),D=N(b),P=w(),U=d("div"),M=d("p"),G=N(ie),K=N(": "),Y=N(S),Z=w(),V=d("p"),ce=N($),O=N(": "),x=N(ue),ee=w(),W=d("p"),de=N(re),ne=N(": "),fe=N(A),ge=w(),R=d("div"),q=d("button"),he=N(ae),ke=w(),T=d("button"),oe=N(pe),n=w(),this.h()},l(L){t=f(L,"DIV",{class:!0});var B=c(t);a=f(B,"DIV",{class:!0});var me=c(a);i=f(me,"DIV",{});var te=c(i);m=f(te,"H3",{class:!0});var H=c(m);u=I(H,v),H.forEach(o),p=k(te),_=f(te,"P",{class:!0});var Ne=c(_);D=I(Ne,b),Ne.forEach(o),te.forEach(o),me.forEach(o),P=k(B),U=f(B,"DIV",{class:!0});var we=c(U);M=f(we,"P",{class:!0});var F=c(M);G=I(F,ie),K=I(F,": "),Y=I(F,S),F.forEach(o),Z=k(we),V=f(we,"P",{class:!0});var j=c(V);ce=I(j,$),O=I(j,": "),x=I(j,ue),j.forEach(o),ee=k(we),W=f(we,"P",{class:!0});var g=c(W);de=I(g,re),ne=I(g,": "),fe=I(g,A),g.forEach(o),we.forEach(o),ge=k(B),R=f(B,"DIV",{class:!0});var z=c(R);q=f(z,"BUTTON",{class:!0});var Ve=c(q);he=I(Ve,ae),Ve.forEach(o),ke=k(z),T=f(z,"BUTTON",{class:!0});var le=c(T);oe=I(le,pe),le.forEach(o),z.forEach(o),n=k(B),B.forEach(o),this.h()},h(){s(m,"class","text-lg font-medium text-gray-900"),s(_,"class","text-sm text-gray-500"),s(a,"class","flex justify-between items-start"),s(M,"class","text-sm text-gray-600"),s(V,"class","text-sm text-gray-600"),s(W,"class","text-sm text-gray-600"),s(U,"class","mt-4 space-y-2"),s(q,"class","btn btn-primary"),s(T,"class","btn btn-secondary"),s(R,"class","mt-4 flex space-x-2"),s(t,"class","bg-white rounded-lg shadow-sm p-4 hover:shadow-md transition-shadow"),this.first=t},m(L,B){Ae(L,t,B),e(t,a),e(a,i),e(i,m),e(m,u),e(i,p),e(i,_),e(_,D),e(t,P),e(t,U),e(U,M),e(M,G),e(M,K),e(M,Y),e(U,Z),e(U,V),e(V,ce),e(V,O),e(V,x),e(U,ee),e(U,W),e(W,de),e(W,ne),e(W,fe),e(t,ge),e(t,R),e(R,q),e(q,he),e(R,ke),e(R,T),e(T,oe),e(t,n),E||(X=[ve(q,"click",_e),ve(T,"click",Ee)],E=!0)},p(L,B){l=L,B[0]&2&&v!==(v=l[40].fullName+"")&&C(u,v),B[0]&2&&b!==(b=$e(l[40].clientNumber)+"")&&C(D,b),B[0]&2048&&ie!==(ie=l[11]("clients.details.cin")+"")&&C(G,ie),B[0]&2&&S!==(S=(l[40].cin||"N/A")+"")&&C(Y,S),B[0]&2048&&$!==($=l[11]("clients.details.worker_number")+"")&&C(ce,$),B[0]&2&&ue!==(ue=(l[40].workerNumber||"N/A")+"")&&C(x,ue),B[0]&2048&&re!==(re=l[11]("clients.details.workplace")+"")&&C(de,re),B[0]&2&&A!==(A=(l[40].workplaceName||"N/A")+"")&&C(fe,A),B[0]&2048&&ae!==(ae=l[11]("common.actions.view")+"")&&C(he,ae),B[0]&2048&&pe!==(pe=l[11]("clients.details.create_cession")+"")&&C(oe,pe)},d(L){L&&o(t),E=!1,et(X)}}}function Nt(r){let l,t,a,i,m=r[11]("clients.details.title")+"",v,u,p,_='<svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',b,D,P,U,M=r[6].fullName+"",ie,G,K,S=$e(r[6].clientNumber)+"",Y,Z,V,$,ce,O=r[11]("clients.details.cin")+"",ue,x,ee,W=(r[6].cin||"N/A")+"",re,de,ne,A,fe=r[11]("clients.details.worker_number")+"",ge,R,q,ae=(r[6].workerNumber||"N/A")+"",he,ke,T,pe,oe,n,E=r[11]("clients.details.view_full_details")+"",X,_e,Ee,L=r[11]("clients.details.create_cession")+"",B,me,te,H,Ne,we,F=r[6].workplaceId&&It(r),j=r[6].jobId&&Vt(r);return{c(){l=d("div"),t=d("div"),a=d("div"),i=d("h2"),v=N(m),u=w(),p=d("button"),p.innerHTML=_,b=w(),D=d("div"),P=d("div"),U=d("h3"),ie=N(M),G=w(),K=d("p"),Y=N(S),Z=w(),V=d("div"),$=d("div"),ce=d("p"),ue=N(O),x=w(),ee=d("p"),re=N(W),de=w(),ne=d("div"),A=d("p"),ge=N(fe),R=w(),q=d("p"),he=N(ae),ke=w(),F&&F.c(),T=w(),j&&j.c(),pe=w(),oe=d("div"),n=d("button"),X=N(E),_e=w(),Ee=d("button"),B=N(L),this.h()},l(g){l=f(g,"DIV",{class:!0});var z=c(l);t=f(z,"DIV",{class:!0});var Ve=c(t);a=f(Ve,"DIV",{class:!0});var le=c(a);i=f(le,"H2",{class:!0});var be=c(i);v=I(be,m),be.forEach(o),u=k(le),p=f(le,"BUTTON",{class:!0,"data-svelte-h":!0}),jt(p)!=="svelte-2ebntt"&&(p.innerHTML=_),le.forEach(o),b=k(Ve),D=f(Ve,"DIV",{class:!0});var De=c(D);P=f(De,"DIV",{});var J=c(P);U=f(J,"H3",{class:!0});var Me=c(U);ie=I(Me,M),Me.forEach(o),G=k(J),K=f(J,"P",{class:!0});var Oe=c(K);Y=I(Oe,S),Oe.forEach(o),J.forEach(o),Z=k(De),V=f(De,"DIV",{class:!0});var Ce=c(V);$=f(Ce,"DIV",{});var Be=c($);ce=f(Be,"P",{class:!0});var Ie=c(ce);ue=I(Ie,O),Ie.forEach(o),x=k(Be),ee=f(Be,"P",{class:!0});var Fe=c(ee);re=I(Fe,W),Fe.forEach(o),Be.forEach(o),de=k(Ce),ne=f(Ce,"DIV",{});var ye=c(ne);A=f(ye,"P",{class:!0});var We=c(A);ge=I(We,fe),We.forEach(o),R=k(ye),q=f(ye,"P",{class:!0});var Q=c(q);he=I(Q,ae),Q.forEach(o),ye.forEach(o),ke=k(Ce),F&&F.l(Ce),T=k(Ce),j&&j.l(Ce),Ce.forEach(o),pe=k(De),oe=f(De,"DIV",{class:!0});var h=c(oe);n=f(h,"BUTTON",{class:!0});var y=c(n);X=I(y,E),y.forEach(o),_e=k(h),Ee=f(h,"BUTTON",{class:!0});var se=c(Ee);B=I(se,L),se.forEach(o),h.forEach(o),De.forEach(o),Ve.forEach(o),z.forEach(o),this.h()},h(){s(i,"class","text-xl font-semibold"),s(p,"class","text-gray-400 hover:text-gray-500"),s(a,"class","flex justify-between items-start mb-4"),s(U,"class","text-lg font-medium"),s(K,"class","text-sm text-gray-500"),s(ce,"class","text-sm font-medium text-gray-500"),s(ee,"class","mt-1"),s(A,"class","text-sm font-medium text-gray-500"),s(q,"class","mt-1"),s(V,"class","grid grid-cols-2 gap-4"),s(n,"class","btn btn-primary"),s(Ee,"class","btn btn-secondary"),s(oe,"class","flex justify-end space-x-2 mt-6"),s(D,"class","space-y-4"),s(t,"class","bg-white rounded-lg shadow-xl max-w-2xl w-full p-6"),s(l,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4")},m(g,z){Ae(g,l,z),e(l,t),e(t,a),e(a,i),e(i,v),e(a,u),e(a,p),e(t,b),e(t,D),e(D,P),e(P,U),e(U,ie),e(P,G),e(P,K),e(K,Y),e(D,Z),e(D,V),e(V,$),e($,ce),e(ce,ue),e($,x),e($,ee),e(ee,re),e(V,de),e(V,ne),e(ne,A),e(A,ge),e(ne,R),e(ne,q),e(q,he),e(V,ke),F&&F.m(V,null),e(V,T),j&&j.m(V,null),e(D,pe),e(D,oe),e(oe,n),e(n,X),e(oe,_e),e(oe,Ee),e(Ee,B),H=!0,Ne||(we=[ve(p,"click",r[17]),ve(n,"click",r[28]),ve(Ee,"click",r[29])],Ne=!0)},p(g,z){(!H||z[0]&2048)&&m!==(m=g[11]("clients.details.title")+"")&&C(v,m),(!H||z[0]&64)&&M!==(M=g[6].fullName+"")&&C(ie,M),(!H||z[0]&64)&&S!==(S=$e(g[6].clientNumber)+"")&&C(Y,S),(!H||z[0]&2048)&&O!==(O=g[11]("clients.details.cin")+"")&&C(ue,O),(!H||z[0]&64)&&W!==(W=(g[6].cin||"N/A")+"")&&C(re,W),(!H||z[0]&2048)&&fe!==(fe=g[11]("clients.details.worker_number")+"")&&C(ge,fe),(!H||z[0]&64)&&ae!==(ae=(g[6].workerNumber||"N/A")+"")&&C(he,ae),g[6].workplaceId?F?F.p(g,z):(F=It(g),F.c(),F.m(V,T)):F&&(F.d(1),F=null),g[6].jobId?j?j.p(g,z):(j=Vt(g),j.c(),j.m(V,null)):j&&(j.d(1),j=null),(!H||z[0]&2048)&&E!==(E=g[11]("clients.details.view_full_details")+"")&&C(X,E),(!H||z[0]&2048)&&L!==(L=g[11]("clients.details.create_cession")+"")&&C(B,L)},i(g){H||(g&&ht(()=>{H&&(me||(me=Ze(t,wt,{},!0)),me.run(1))}),g&&ht(()=>{H&&(te||(te=Ze(l,kt,{},!0)),te.run(1))}),H=!0)},o(g){g&&(me||(me=Ze(t,wt,{},!1)),me.run(0)),g&&(te||(te=Ze(l,kt,{},!1)),te.run(0)),H=!1},d(g){g&&o(l),F&&F.d(),j&&j.d(),g&&me&&me.end(),g&&te&&te.end(),Ne=!1,et(we)}}}function It(r){let l,t,a=r[11]("clients.details.workplace")+"",i,m,v,u=(r[10]?.name||"N/A")+"",p;return{c(){l=d("div"),t=d("p"),i=N(a),m=w(),v=d("p"),p=N(u),this.h()},l(_){l=f(_,"DIV",{});var b=c(l);t=f(b,"P",{class:!0});var D=c(t);i=I(D,a),D.forEach(o),m=k(b),v=f(b,"P",{class:!0});var P=c(v);p=I(P,u),P.forEach(o),b.forEach(o),this.h()},h(){s(t,"class","text-sm font-medium text-gray-500"),s(v,"class","mt-1")},m(_,b){Ae(_,l,b),e(l,t),e(t,i),e(l,m),e(l,v),e(v,p)},p(_,b){b[0]&2048&&a!==(a=_[11]("clients.details.workplace")+"")&&C(i,a),b[0]&1024&&u!==(u=(_[10]?.name||"N/A")+"")&&C(p,u)},d(_){_&&o(l)}}}function Vt(r){let l,t,a=r[11]("clients.details.job")+"",i,m,v,u=(r[9]?.name||"N/A")+"",p;return{c(){l=d("div"),t=d("p"),i=N(a),m=w(),v=d("p"),p=N(u),this.h()},l(_){l=f(_,"DIV",{});var b=c(l);t=f(b,"P",{class:!0});var D=c(t);i=I(D,a),D.forEach(o),m=k(b),v=f(b,"P",{class:!0});var P=c(v);p=I(P,u),P.forEach(o),b.forEach(o),this.h()},h(){s(t,"class","text-sm font-medium text-gray-500"),s(v,"class","mt-1")},m(_,b){Ae(_,l,b),e(l,t),e(t,i),e(l,m),e(l,v),e(v,p)},p(_,b){b[0]&2048&&a!==(a=_[11]("clients.details.job")+"")&&C(i,a),b[0]&512&&u!==(u=(_[9]?.name||"N/A")+"")&&C(p,u)},d(_){_&&o(l)}}}function Rt(r){let l,t,a,i,m,v,u,p,_,b,D=r[11]("common.actions.search")+"",P,U,M,ie,G,K,S,Y,Z,V=r[11]("clients.search.name")+"",$,ce,O,ue,x,ee,W,re=r[11]("clients.search.cin")+"",de,ne,A,fe,ge,R,q,ae=r[11]("clients.search.worker_number")+"",he,ke,T,pe,oe,n,E,X=r[11]("clients.search.client_number")+"",_e,Ee,L,B,me,te,H,Ne=r[11]("clients.search.clear")+"",we,F,j,g=r[20](r[1].length)+"",z,Ve,le,be,De,J,Me,Oe;document.title=l=r[11]("clients.title")+" | "+r[11]("common.app.title"),i=new Ot({props:{title:r[11]("clients.title"),subtitle:r[11]("clients.subtitle"),actions:[{label:r[11]("clients.new"),href:"/clients/new",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd" /></svg>'}]}});function Ce(h,y){return h[8]==="grid"?Gt:qt}let Be=Ce(r),Ie=Be(r);const Fe=[Kt,Qt,Jt],ye=[];function We(h,y){return h[12]?0:h[1].length===0?1:2}le=We(r),be=ye[le]=Fe[le](r);let Q=r[7]&&r[6]&&Nt(r);return{c(){t=w(),a=d("div"),Dt(i.$$.fragment),m=w(),v=d("div"),u=d("button"),p=ze("svg"),_=ze("path"),b=w(),P=N(D),U=w(),M=d("button"),Ie.c(),ie=w(),G=d("div"),K=d("div"),S=d("div"),Y=d("div"),Z=d("label"),$=N(V),ce=w(),O=d("input"),x=w(),ee=d("div"),W=d("label"),de=N(re),ne=w(),A=d("input"),ge=w(),R=d("div"),q=d("label"),he=N(ae),ke=w(),T=d("input"),oe=w(),n=d("div"),E=d("label"),_e=N(X),Ee=w(),L=d("input"),me=w(),te=d("div"),H=d("button"),we=N(Ne),F=w(),j=d("div"),z=N(g),Ve=w(),be.c(),De=w(),Q&&Q.c(),this.h()},l(h){St("svelte-49gh9f",document.head).forEach(o),t=k(h),a=f(h,"DIV",{class:!0});var se=c(a);Ct(i.$$.fragment,se),m=k(se),v=f(se,"DIV",{class:!0});var Pe=c(v);u=f(Pe,"BUTTON",{class:!0});var Ge=c(u);p=Ue(Ge,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var tt=c(p);_=Ue(tt,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),c(_).forEach(o),tt.forEach(o),b=k(Ge),P=I(Ge,D),Ge.forEach(o),U=k(Pe),M=f(Pe,"BUTTON",{class:!0});var lt=c(M);Ie.l(lt),lt.forEach(o),Pe.forEach(o),ie=k(se),G=f(se,"DIV",{class:!0,style:!0});var st=c(G);K=f(st,"DIV",{class:!0});var Je=c(K);S=f(Je,"DIV",{class:!0});var Se=c(S);Y=f(Se,"DIV",{});var Qe=c(Y);Z=f(Qe,"LABEL",{for:!0,class:!0});var rt=c(Z);$=I(rt,V),rt.forEach(o),ce=k(Qe),O=f(Qe,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),Qe.forEach(o),x=k(Se),ee=f(Se,"DIV",{});var Ke=c(ee);W=f(Ke,"LABEL",{for:!0,class:!0});var at=c(W);de=I(at,re),at.forEach(o),ne=k(Ke),A=f(Ke,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),Ke.forEach(o),ge=k(Se),R=f(Se,"DIV",{});var Re=c(R);q=f(Re,"LABEL",{for:!0,class:!0});var ot=c(q);he=I(ot,ae),ot.forEach(o),ke=k(Re),T=f(Re,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),Re.forEach(o),oe=k(Se),n=f(Se,"DIV",{});var Xe=c(n);E=f(Xe,"LABEL",{for:!0,class:!0});var it=c(E);_e=I(it,X),it.forEach(o),Ee=k(Xe),L=f(Xe,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),Xe.forEach(o),Se.forEach(o),me=k(Je),te=f(Je,"DIV",{class:!0});var nt=c(te);H=f(nt,"BUTTON",{type:!0,class:!0});var ct=c(H);we=I(ct,Ne),ct.forEach(o),nt.forEach(o),Je.forEach(o),st.forEach(o),F=k(se),j=f(se,"DIV",{class:!0});var ut=c(j);z=I(ut,g),ut.forEach(o),Ve=k(se),be.l(se),De=k(se),Q&&Q.l(se),se.forEach(o),this.h()},h(){s(_,"fill-rule","evenodd"),s(_,"d","M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"),s(_,"clip-rule","evenodd"),s(p,"xmlns","http://www.w3.org/2000/svg"),s(p,"class","h-5 w-5 mr-2"),s(p,"viewBox","0 0 20 20"),s(p,"fill","currentColor"),s(u,"class","btn btn-secondary"),s(M,"class","btn btn-secondary"),s(v,"class","flex justify-between items-center mb-4"),s(Z,"for","nameSearch"),s(Z,"class","block text-sm font-medium text-gray-700 mb-1"),s(O,"type","text"),s(O,"id","nameSearch"),s(O,"placeholder",ue=r[11]("clients.search.name_placeholder")),s(O,"class","block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"),s(W,"for","cinSearch"),s(W,"class","block text-sm font-medium text-gray-700 mb-1"),s(A,"type","text"),s(A,"id","cinSearch"),s(A,"placeholder",fe=r[11]("clients.search.cin_placeholder")),s(A,"class","block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"),s(q,"for","workerNumberSearch"),s(q,"class","block text-sm font-medium text-gray-700 mb-1"),s(T,"type","text"),s(T,"id","workerNumberSearch"),s(T,"placeholder",pe=r[11]("clients.search.worker_number_placeholder")),s(T,"class","block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"),s(E,"for","clientNumberSearch"),s(E,"class","block text-sm font-medium text-gray-700 mb-1"),s(L,"type","text"),s(L,"id","clientNumberSearch"),s(L,"placeholder",B=r[11]("clients.search.client_number_placeholder")),s(L,"class","block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"),s(S,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"),s(H,"type","button"),s(H,"class","btn btn-secondary"),s(te,"class","flex justify-end"),s(K,"class","p-4 space-y-4"),s(G,"class","bg-white shadow-sm rounded-lg overflow-hidden transition-all duration-300 ease-in-out"),Ye(G,"max-height",r[5]?"500px":"0"),Ye(G,"opacity",r[5]?"1":"0"),s(j,"class","text-sm text-gray-500"),s(a,"class","space-y-6")},m(h,y){Ae(h,t,y),Ae(h,a,y),At(i,a,null),e(a,m),e(a,v),e(v,u),e(u,p),e(p,_),e(u,b),e(u,P),e(v,U),e(v,M),Ie.m(M,null),e(a,ie),e(a,G),e(G,K),e(K,S),e(S,Y),e(Y,Z),e(Z,$),e(Y,ce),e(Y,O),Te(O,r[0]),e(S,x),e(S,ee),e(ee,W),e(W,de),e(ee,ne),e(ee,A),Te(A,r[2]),e(S,ge),e(S,R),e(R,q),e(q,he),e(R,ke),e(R,T),Te(T,r[3]),e(S,oe),e(S,n),e(n,E),e(E,_e),e(n,Ee),e(n,L),Te(L,r[4]),e(K,me),e(K,te),e(te,H),e(H,we),e(a,F),e(a,j),e(j,z),e(a,Ve),ye[le].m(a,null),e(a,De),Q&&Q.m(a,null),J=!0,Me||(Oe=[ve(u,"click",r[14]),ve(M,"click",r[15]),ve(O,"input",r[21]),ve(O,"input",r[13]),ve(A,"input",r[22]),ve(A,"input",r[13]),ve(T,"input",r[23]),ve(T,"input",r[13]),ve(L,"input",r[24]),ve(L,"input",r[13]),ve(H,"click",r[25])],Me=!0)},p(h,y){(!J||y[0]&2048)&&l!==(l=h[11]("clients.title")+" | "+h[11]("common.app.title"))&&(document.title=l);const se={};y[0]&2048&&(se.title=h[11]("clients.title")),y[0]&2048&&(se.subtitle=h[11]("clients.subtitle")),y[0]&2048&&(se.actions=[{label:h[11]("clients.new"),href:"/clients/new",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd" /></svg>'}]),i.$set(se),(!J||y[0]&2048)&&D!==(D=h[11]("common.actions.search")+"")&&C(P,D),Be!==(Be=Ce(h))&&(Ie.d(1),Ie=Be(h),Ie&&(Ie.c(),Ie.m(M,null))),(!J||y[0]&2048)&&V!==(V=h[11]("clients.search.name")+"")&&C($,V),(!J||y[0]&2048&&ue!==(ue=h[11]("clients.search.name_placeholder")))&&s(O,"placeholder",ue),y[0]&1&&O.value!==h[0]&&Te(O,h[0]),(!J||y[0]&2048)&&re!==(re=h[11]("clients.search.cin")+"")&&C(de,re),(!J||y[0]&2048&&fe!==(fe=h[11]("clients.search.cin_placeholder")))&&s(A,"placeholder",fe),y[0]&4&&A.value!==h[2]&&Te(A,h[2]),(!J||y[0]&2048)&&ae!==(ae=h[11]("clients.search.worker_number")+"")&&C(he,ae),(!J||y[0]&2048&&pe!==(pe=h[11]("clients.search.worker_number_placeholder")))&&s(T,"placeholder",pe),y[0]&8&&T.value!==h[3]&&Te(T,h[3]),(!J||y[0]&2048)&&X!==(X=h[11]("clients.search.client_number")+"")&&C(_e,X),(!J||y[0]&2048&&B!==(B=h[11]("clients.search.client_number_placeholder")))&&s(L,"placeholder",B),y[0]&16&&L.value!==h[4]&&Te(L,h[4]),(!J||y[0]&2048)&&Ne!==(Ne=h[11]("clients.search.clear")+"")&&C(we,Ne),(!J||y[0]&32)&&Ye(G,"max-height",h[5]?"500px":"0"),(!J||y[0]&32)&&Ye(G,"opacity",h[5]?"1":"0"),(!J||y[0]&2)&&g!==(g=h[20](h[1].length)+"")&&C(z,g);let Pe=le;le=We(h),le===Pe?ye[le].p(h,y):(_t(),He(ye[Pe],1,1,()=>{ye[Pe]=null}),pt(),be=ye[le],be?be.p(h,y):(be=ye[le]=Fe[le](h),be.c()),je(be,1),be.m(a,De)),h[7]&&h[6]?Q?(Q.p(h,y),y[0]&192&&je(Q,1)):(Q=Nt(h),Q.c(),je(Q,1),Q.m(a,null)):Q&&(_t(),He(Q,1,1,()=>{Q=null}),pt())},i(h){J||(je(i.$$.fragment,h),je(be),je(Q),J=!0)},o(h){He(i.$$.fragment,h),He(be),He(Q),J=!1},d(h){h&&(o(t),o(a)),Bt(i),Ie.d(),ye[le].d(),Q&&Q.d(),Me=!1,et(Oe)}}}function $e(r){return`#${r}`}function Xt(r,l,t){let a,i;dt(r,Wt,n=>t(11,a=n)),dt(r,xe,n=>t(12,i=n));let m=[],v=[],u="",p="",_="",b="",D=!1,P=null,U=!1,M="grid",ie=null,G=null,K=[],S={},Y=[],Z={},V={sortBy:"name",sortOrder:"asc"};Tt(async()=>{await Promise.all([$(),ce(),O()]),ue()});async function $(){ft(xe,i=!0,i);try{const n=await mt.getAll();n&&Array.isArray(n)&&(m=n,x())}catch(n){Le(n.message||"Failed to load clients","error")}finally{ft(xe,i=!1,i)}}async function ce(){try{K=await bt.getAll(),S={};for(const n of K)S[n.id]=n.name}catch{}}async function O(){try{Y=await cessionsApi.getAll(),Z={};for(const n of Y){const E=n.clientId?.toString();Z[E]||(Z[E]=[]),Z[E].push(n)}}catch{}}function ue(){for(const n of m)n.workplaceName=n.workplaceId&&S[n.workplaceId]||"N/A";x()}function x(){t(1,v=m.filter(n=>(u===""||n.fullName?.toLowerCase().includes(u.toLowerCase()))&&(p===""||n.cin&&n.cin.toString().includes(p))&&(_===""||n.workerNumber&&n.workerNumber.toString().includes(_))&&(b===""||n.clientNumber&&n.clientNumber.toString().includes(b)))),v.sort((n,E)=>{const X=n[V.sortBy]?.toString().toLowerCase()||"",_e=E[V.sortBy]?.toString().toLowerCase()||"";return X.localeCompare(_e)})}function ee(){t(5,D=!D),D||(t(0,u=""),t(2,p=""),t(3,_=""),t(4,b=""),x())}function W(){t(8,M=M==="grid"?"list":"grid")}async function re(n){if(!n||!n.id){Le("Invalid client data","error");return}try{const E=await mt.getById(n.id);if(!E||!E.success)throw new Error("Client not found");if(t(6,P=E.data),t(7,U=!0),E.data.jobId)try{const X=await Ut.getAll();t(9,ie=X.find(_e=>_e.id===E.data.jobId))}catch{}if(E.data.workplaceId)try{const X=await bt.getAll();t(10,G=X.find(_e=>_e.id===E.data.workplaceId))}catch{}}catch{Le("Failed to load client details","error")}}function de(){t(7,U=!1),t(6,P=null),t(9,ie=null),t(10,G=null)}function ne(n){if(!n){Le("Invalid client ID","error");return}de(),gt(`/clients/${n}`)}function A(n){if(!n){Le("Invalid client ID","error");return}try{de(),gt(`/cessions/new?clientId=${n}`)}catch{Le("Failed to navigate to cession creation","error")}}function fe(n){return a("clients.count",{count:n})}function ge(){u=this.value,t(0,u)}function R(){p=this.value,t(2,p)}function q(){_=this.value,t(3,_)}function ae(){b=this.value,t(4,b)}const he=()=>{t(0,u=""),t(2,p=""),t(3,_=""),t(4,b=""),x()},ke=n=>re(n),T=n=>A(n.id),pe=()=>ne(P.id),oe=()=>A(P.id);return r.$$.update=()=>{r.$$.dirty[0]&1&&u!==void 0&&x()},V&&x(),[u,v,p,_,b,D,P,U,M,ie,G,a,i,x,ee,W,re,de,ne,A,fe,ge,R,q,ae,he,ke,T,pe,oe]}class al extends Mt{constructor(l){super(),Lt(this,l,Xt,Rt,Pt,{},null,[-1,-1])}}export{al as component};
