import{g as Vs,d as xs,a as As}from"../chunks/api.20dd9789.js";import{r as Ns}from"../chunks/index.c6708bed.js";import{s as js,a as y,f as r,J as Cs,d as l,c as E,g as o,h as i,j as n,i as X,I as Ut,u as ys,o as Hs,A as Es,l as g,m as b,w as e,z as Ls,n as w,K as Ps,y as Ss}from"../chunks/scheduler.55755e91.js";import{e as ws}from"../chunks/each.8720bd6f.js";import{S as Bs,i as Ms}from"../chunks/index.d2ed93bc.js";import"../chunks/paths.452213a7.js";import{s as Ge,l as qt,g as Fs}from"../chunks/navigation.fbd60083.js";import{t as Os}from"../chunks/index.7dc5fa01.js";import{f as Rs}from"../chunks/index.7c030542.js";async function qs({params:t}){if(!t.id||t.id==="undefined"||t.id==="new")throw Ns(307,"/clients");try{const s=Vs(),d=xs(),a=await fetch(`${s}/api/v1/clients/${t.id}`,{headers:d});if(!a.ok)throw new Error("Failed to fetch client");const u=await a.json(),c=await fetch(`${s}/api/v1/cessions/client/${t.id}`,{headers:d});if(!c.ok)throw new Error("Failed to fetch cessions");const v=await c.json();return{id:t.id,client:u,cessions:v}}catch(s){return{id:t.id,error:s.message}}}const ol=Object.freeze(Object.defineProperty({__proto__:null,load:qs},Symbol.toStringTag,{value:"Module"}));function Ds(t,s,d){const a=t.slice();return a[13]=s[d],a}function Us(t){let s,d,a,u,c,v,_,D=t[3]("clients.details.title")+"",N,F,j,m=t[3]("clients.details.subtitle")+"",S,$,C,V,M=t[3]("clients.details.actions.edit")+"",R,z,H,L=t[3]("clients.details.actions.create_cession")+"",P,q,O,A,B,h,f=t[3]("clients.details.personal_info.title")+"",x,k,T,U,K,J=t[3]("clients.details.personal_info.full_name")+"",G,Q,W,xe=t[4].fullName+"",oe,kt,Z,ue,Ae=t[3]("clients.details.personal_info.cin")+"",Qe,It,ve,$t=t[4].cin+"",Tt,Vt,ee,_e,Ne=t[3]("clients.details.personal_info.phone")+"",We,xt,he,je=(t[4].phoneNumber||t[3]("common.not_provided"))+"",Xe,At,ie,me,Ce=t[3]("clients.details.personal_info.address")+"",Ze,Nt,pe,He=(t[4].address||t[3]("common.not_provided"))+"",et,jt,ne,ge,Le=t[3]("clients.details.work_info.title")+"",tt,Ct,te,se,be,Pe=t[3]("clients.details.work_info.job")+"",st,Ht,ye,Se=(t[4].jobName||t[3]("common.not_provided"))+"",lt,Lt,le,Ee,Be=t[3]("clients.details.work_info.workplace")+"",at,Pt,we,Me=(t[4].workplaceName||t[3]("common.not_provided"))+"",rt,St,de,De,Fe=t[3]("clients.details.work_info.worker_number")+"",ot,Bt,ke,Oe=(t[4].workerNumber||t[3]("common.not_provided"))+"",it,Mt,Ie,ae,Te,re,Ve,Re=t[3]("clients.details.cessions.title")+"",nt,Ft,ce,qe=t[3]("clients.details.cessions.view_all")+"",dt,Ot,fe,Rt,zt;function Kt(p,I){return p[2]?Ys:p[1].length===0?Js:Ks}let ct=Kt(t),Y=ct(t);return{c(){s=r("div"),d=r("div"),a=r("div"),u=r("div"),c=r("div"),v=r("div"),_=r("h1"),N=g(D),F=y(),j=r("p"),S=g(m),$=y(),C=r("div"),V=r("a"),R=g(M),z=y(),H=r("button"),P=g(L),q=y(),O=r("div"),A=r("div"),B=r("div"),h=r("h3"),x=g(f),k=y(),T=r("dl"),U=r("div"),K=r("dt"),G=g(J),Q=y(),W=r("dd"),oe=g(xe),kt=y(),Z=r("div"),ue=r("dt"),Qe=g(Ae),It=y(),ve=r("dd"),Tt=g($t),Vt=y(),ee=r("div"),_e=r("dt"),We=g(Ne),xt=y(),he=r("dd"),Xe=g(je),At=y(),ie=r("div"),me=r("dt"),Ze=g(Ce),Nt=y(),pe=r("dd"),et=g(He),jt=y(),ne=r("div"),ge=r("h3"),tt=g(Le),Ct=y(),te=r("dl"),se=r("div"),be=r("dt"),st=g(Pe),Ht=y(),ye=r("dd"),lt=g(Se),Lt=y(),le=r("div"),Ee=r("dt"),at=g(Be),Pt=y(),we=r("dd"),rt=g(Me),St=y(),de=r("div"),De=r("dt"),ot=g(Fe),Bt=y(),ke=r("dd"),it=g(Oe),Mt=y(),Ie=r("div"),ae=r("div"),Te=r("div"),re=r("div"),Ve=r("h2"),nt=g(Re),Ft=y(),ce=r("a"),dt=g(qe),Ot=y(),fe=r("div"),Y.c(),this.h()},l(p){s=o(p,"DIV",{class:!0});var I=i(s);d=o(I,"DIV",{class:!0});var ft=i(d);a=o(ft,"DIV",{class:!0});var ut=i(a);u=o(ut,"DIV",{class:!0});var Jt=i(u);c=o(Jt,"DIV",{class:!0});var vt=i(c);v=o(vt,"DIV",{});var _t=i(v);_=o(_t,"H1",{class:!0});var Yt=i(_);N=b(Yt,D),Yt.forEach(l),F=E(_t),j=o(_t,"P",{class:!0});var Gt=i(j);S=b(Gt,m),Gt.forEach(l),_t.forEach(l),$=E(vt),C=o(vt,"DIV",{class:!0});var ht=i(C);V=o(ht,"A",{href:!0,class:!0});var Qt=i(V);R=b(Qt,M),Qt.forEach(l),z=E(ht),H=o(ht,"BUTTON",{class:!0});var Wt=i(H);P=b(Wt,L),Wt.forEach(l),ht.forEach(l),vt.forEach(l),Jt.forEach(l),q=E(ut),O=o(ut,"DIV",{class:!0});var Xt=i(O);A=o(Xt,"DIV",{class:!0});var mt=i(A);B=o(mt,"DIV",{});var pt=i(B);h=o(pt,"H3",{class:!0});var Zt=i(h);x=b(Zt,f),Zt.forEach(l),k=E(pt),T=o(pt,"DL",{class:!0});var Ue=i(T);U=o(Ue,"DIV",{});var $e=i(U);K=o($e,"DT",{class:!0});var es=i(K);G=b(es,J),es.forEach(l),Q=E($e),W=o($e,"DD",{class:!0});var ts=i(W);oe=b(ts,xe),ts.forEach(l),kt=E($e),$e.forEach(l),Z=o(Ue,"DIV",{});var ze=i(Z);ue=o(ze,"DT",{class:!0});var ss=i(ue);Qe=b(ss,Ae),ss.forEach(l),It=E(ze),ve=o(ze,"DD",{class:!0});var ls=i(ve);Tt=b(ls,$t),ls.forEach(l),Vt=E(ze),ze.forEach(l),ee=o(Ue,"DIV",{});var Ke=i(ee);_e=o(Ke,"DT",{class:!0});var as=i(_e);We=b(as,Ne),as.forEach(l),xt=E(Ke),he=o(Ke,"DD",{class:!0});var rs=i(he);Xe=b(rs,je),rs.forEach(l),At=E(Ke),Ke.forEach(l),ie=o(Ue,"DIV",{});var gt=i(ie);me=o(gt,"DT",{class:!0});var os=i(me);Ze=b(os,Ce),os.forEach(l),Nt=E(gt),pe=o(gt,"DD",{class:!0});var is=i(pe);et=b(is,He),is.forEach(l),gt.forEach(l),Ue.forEach(l),pt.forEach(l),jt=E(mt),ne=o(mt,"DIV",{});var bt=i(ne);ge=o(bt,"H3",{class:!0});var ns=i(ge);tt=b(ns,Le),ns.forEach(l),Ct=E(bt),te=o(bt,"DL",{class:!0});var yt=i(te);se=o(yt,"DIV",{});var Je=i(se);be=o(Je,"DT",{class:!0});var ds=i(be);st=b(ds,Pe),ds.forEach(l),Ht=E(Je),ye=o(Je,"DD",{class:!0});var cs=i(ye);lt=b(cs,Se),cs.forEach(l),Lt=E(Je),Je.forEach(l),le=o(yt,"DIV",{});var Ye=i(le);Ee=o(Ye,"DT",{class:!0});var fs=i(Ee);at=b(fs,Be),fs.forEach(l),Pt=E(Ye),we=o(Ye,"DD",{class:!0});var us=i(we);rt=b(us,Me),us.forEach(l),St=E(Ye),Ye.forEach(l),de=o(yt,"DIV",{});var Et=i(de);De=o(Et,"DT",{class:!0});var vs=i(De);ot=b(vs,Fe),vs.forEach(l),Bt=E(Et),ke=o(Et,"DD",{class:!0});var _s=i(ke);it=b(_s,Oe),_s.forEach(l),Et.forEach(l),yt.forEach(l),bt.forEach(l),mt.forEach(l),Xt.forEach(l),ut.forEach(l),Mt=E(ft),Ie=o(ft,"DIV",{class:!0});var hs=i(Ie);ae=o(hs,"DIV",{class:!0});var wt=i(ae);Te=o(wt,"DIV",{class:!0});var ms=i(Te);re=o(ms,"DIV",{class:!0});var Dt=i(re);Ve=o(Dt,"H2",{class:!0});var ps=i(Ve);nt=b(ps,Re),ps.forEach(l),Ft=E(Dt),ce=o(Dt,"A",{href:!0,class:!0});var gs=i(ce);dt=b(gs,qe),gs.forEach(l),Dt.forEach(l),ms.forEach(l),Ot=E(wt),fe=o(wt,"DIV",{class:!0});var bs=i(fe);Y.l(bs),bs.forEach(l),wt.forEach(l),hs.forEach(l),ft.forEach(l),I.forEach(l),this.h()},h(){n(_,"class","text-2xl font-bold text-gray-900"),n(j,"class","mt-1 text-sm text-gray-500"),n(V,"href",`/clients/${t[4].id}/edit`),n(V,"class","inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"),n(H,"class","inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"),n(C,"class","flex space-x-4"),n(c,"class","flex items-center justify-between"),n(u,"class","p-6 border-b border-gray-200"),n(h,"class","text-lg font-medium text-gray-900 mb-4"),n(K,"class","text-sm font-medium text-gray-500"),n(W,"class","mt-1 text-sm text-gray-900"),n(ue,"class","text-sm font-medium text-gray-500"),n(ve,"class","mt-1 text-sm text-gray-900"),n(_e,"class","text-sm font-medium text-gray-500"),n(he,"class","mt-1 text-sm text-gray-900"),n(me,"class","text-sm font-medium text-gray-500"),n(pe,"class","mt-1 text-sm text-gray-900"),n(T,"class","grid grid-cols-1 gap-4"),n(ge,"class","text-lg font-medium text-gray-900 mb-4"),n(be,"class","text-sm font-medium text-gray-500"),n(ye,"class","mt-1 text-sm text-gray-900"),n(Ee,"class","text-sm font-medium text-gray-500"),n(we,"class","mt-1 text-sm text-gray-900"),n(De,"class","text-sm font-medium text-gray-500"),n(ke,"class","mt-1 text-sm text-gray-900"),n(te,"class","grid grid-cols-1 gap-4"),n(A,"class","grid grid-cols-1 md:grid-cols-2 gap-6"),n(O,"class","p-6"),n(a,"class","bg-white shadow-sm rounded-lg overflow-hidden"),n(Ve,"class","text-lg font-medium text-gray-900"),n(ce,"href",`/cessions?clientId=${t[4].id}`),n(ce,"class","text-sm text-primary-600 hover:text-primary-900"),n(re,"class","flex items-center justify-between"),n(Te,"class","p-6 border-b border-gray-200"),n(fe,"class","overflow-x-auto"),n(ae,"class","bg-white shadow-sm rounded-lg overflow-hidden"),n(Ie,"class","mt-8"),n(d,"class","lg:col-span-11"),n(s,"class","lg:grid lg:grid-cols-12 lg:gap-8")},m(p,I){X(p,s,I),e(s,d),e(d,a),e(a,u),e(u,c),e(c,v),e(v,_),e(_,N),e(v,F),e(v,j),e(j,S),e(c,$),e(c,C),e(C,V),e(V,R),e(C,z),e(C,H),e(H,P),e(a,q),e(a,O),e(O,A),e(A,B),e(B,h),e(h,x),e(B,k),e(B,T),e(T,U),e(U,K),e(K,G),e(U,Q),e(U,W),e(W,oe),e(U,kt),e(T,Z),e(Z,ue),e(ue,Qe),e(Z,It),e(Z,ve),e(ve,Tt),e(Z,Vt),e(T,ee),e(ee,_e),e(_e,We),e(ee,xt),e(ee,he),e(he,Xe),e(ee,At),e(T,ie),e(ie,me),e(me,Ze),e(ie,Nt),e(ie,pe),e(pe,et),e(A,jt),e(A,ne),e(ne,ge),e(ge,tt),e(ne,Ct),e(ne,te),e(te,se),e(se,be),e(be,st),e(se,Ht),e(se,ye),e(ye,lt),e(se,Lt),e(te,le),e(le,Ee),e(Ee,at),e(le,Pt),e(le,we),e(we,rt),e(le,St),e(te,de),e(de,De),e(De,ot),e(de,Bt),e(de,ke),e(ke,it),e(d,Mt),e(d,Ie),e(Ie,ae),e(ae,Te),e(Te,re),e(re,Ve),e(Ve,nt),e(re,Ft),e(re,ce),e(ce,dt),e(ae,Ot),e(ae,fe),Y.m(fe,null),Rt||(zt=Ls(H,"click",t[7]),Rt=!0)},p(p,I){I&8&&D!==(D=p[3]("clients.details.title")+"")&&w(N,D),I&8&&m!==(m=p[3]("clients.details.subtitle")+"")&&w(S,m),I&8&&M!==(M=p[3]("clients.details.actions.edit")+"")&&w(R,M),I&8&&L!==(L=p[3]("clients.details.actions.create_cession")+"")&&w(P,L),I&8&&f!==(f=p[3]("clients.details.personal_info.title")+"")&&w(x,f),I&8&&J!==(J=p[3]("clients.details.personal_info.full_name")+"")&&w(G,J),I&8&&Ae!==(Ae=p[3]("clients.details.personal_info.cin")+"")&&w(Qe,Ae),I&8&&Ne!==(Ne=p[3]("clients.details.personal_info.phone")+"")&&w(We,Ne),I&8&&je!==(je=(p[4].phoneNumber||p[3]("common.not_provided"))+"")&&w(Xe,je),I&8&&Ce!==(Ce=p[3]("clients.details.personal_info.address")+"")&&w(Ze,Ce),I&8&&He!==(He=(p[4].address||p[3]("common.not_provided"))+"")&&w(et,He),I&8&&Le!==(Le=p[3]("clients.details.work_info.title")+"")&&w(tt,Le),I&8&&Pe!==(Pe=p[3]("clients.details.work_info.job")+"")&&w(st,Pe),I&8&&Se!==(Se=(p[4].jobName||p[3]("common.not_provided"))+"")&&w(lt,Se),I&8&&Be!==(Be=p[3]("clients.details.work_info.workplace")+"")&&w(at,Be),I&8&&Me!==(Me=(p[4].workplaceName||p[3]("common.not_provided"))+"")&&w(rt,Me),I&8&&Fe!==(Fe=p[3]("clients.details.work_info.worker_number")+"")&&w(ot,Fe),I&8&&Oe!==(Oe=(p[4].workerNumber||p[3]("common.not_provided"))+"")&&w(it,Oe),I&8&&Re!==(Re=p[3]("clients.details.cessions.title")+"")&&w(nt,Re),I&8&&qe!==(qe=p[3]("clients.details.cessions.view_all")+"")&&w(dt,qe),ct===(ct=Kt(p))&&Y?Y.p(p,I):(Y.d(1),Y=ct(p),Y&&(Y.c(),Y.m(fe,null)))},d(p){p&&l(s),Y.d(),Rt=!1,zt()}}}function $s(t){let s,d=t[3]("clients.details.not_found")+"",a;return{c(){s=r("div"),a=g(d),this.h()},l(u){s=o(u,"DIV",{class:!0});var c=i(s);a=b(c,d),c.forEach(l),this.h()},h(){n(s,"class","bg-yellow-50 text-yellow-700 p-4 rounded-md")},m(u,c){X(u,s,c),e(s,a)},p(u,c){c&8&&d!==(d=u[3]("clients.details.not_found")+"")&&w(a,d)},d(u){u&&l(s)}}}function zs(t){let s,d=t[0].error+"",a;return{c(){s=r("div"),a=g(d),this.h()},l(u){s=o(u,"DIV",{class:!0});var c=i(s);a=b(c,d),c.forEach(l),this.h()},h(){n(s,"class","bg-red-50 text-red-700 p-4 rounded-md")},m(u,c){X(u,s,c),e(s,a)},p(u,c){c&1&&d!==(d=u[0].error+"")&&w(a,d)},d(u){u&&l(s)}}}function Ks(t){let s,d,a,u,c=t[3]("clients.details.cessions.table.id")+"",v,_,D,N=t[3]("clients.details.cessions.table.start_date")+"",F,j,m,S=t[3]("clients.details.cessions.table.amount")+"",$,C,V,M=t[3]("clients.details.cessions.table.status")+"",R,z,H,L,P=t[3]("clients.details.cessions.table.actions")+"",q,O,A,B=ws(t[1]),h=[];for(let f=0;f<B.length;f+=1)h[f]=ks(Ds(t,B,f));return{c(){s=r("table"),d=r("thead"),a=r("tr"),u=r("th"),v=g(c),_=y(),D=r("th"),F=g(N),j=y(),m=r("th"),$=g(S),C=y(),V=r("th"),R=g(M),z=y(),H=r("th"),L=r("span"),q=g(P),O=y(),A=r("tbody");for(let f=0;f<h.length;f+=1)h[f].c();this.h()},l(f){s=o(f,"TABLE",{class:!0});var x=i(s);d=o(x,"THEAD",{class:!0});var k=i(d);a=o(k,"TR",{});var T=i(a);u=o(T,"TH",{scope:!0,class:!0});var U=i(u);v=b(U,c),U.forEach(l),_=E(T),D=o(T,"TH",{scope:!0,class:!0});var K=i(D);F=b(K,N),K.forEach(l),j=E(T),m=o(T,"TH",{scope:!0,class:!0});var J=i(m);$=b(J,S),J.forEach(l),C=E(T),V=o(T,"TH",{scope:!0,class:!0});var G=i(V);R=b(G,M),G.forEach(l),z=E(T),H=o(T,"TH",{scope:!0,class:!0});var Q=i(H);L=o(Q,"SPAN",{class:!0});var W=i(L);q=b(W,P),W.forEach(l),Q.forEach(l),T.forEach(l),k.forEach(l),O=E(x),A=o(x,"TBODY",{class:!0});var xe=i(A);for(let oe=0;oe<h.length;oe+=1)h[oe].l(xe);xe.forEach(l),x.forEach(l),this.h()},h(){n(u,"scope","col"),n(u,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"),n(D,"scope","col"),n(D,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"),n(m,"scope","col"),n(m,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"),n(V,"scope","col"),n(V,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"),n(L,"class","sr-only"),n(H,"scope","col"),n(H,"class","relative px-6 py-3"),n(d,"class","bg-gray-50"),n(A,"class","bg-white divide-y divide-gray-200"),n(s,"class","min-w-full divide-y divide-gray-200")},m(f,x){X(f,s,x),e(s,d),e(d,a),e(a,u),e(u,v),e(a,_),e(a,D),e(D,F),e(a,j),e(a,m),e(m,$),e(a,C),e(a,V),e(V,R),e(a,z),e(a,H),e(H,L),e(L,q),e(s,O),e(s,A);for(let k=0;k<h.length;k+=1)h[k]&&h[k].m(A,null)},p(f,x){if(x&8&&c!==(c=f[3]("clients.details.cessions.table.id")+"")&&w(v,c),x&8&&N!==(N=f[3]("clients.details.cessions.table.start_date")+"")&&w(F,N),x&8&&S!==(S=f[3]("clients.details.cessions.table.amount")+"")&&w($,S),x&8&&M!==(M=f[3]("clients.details.cessions.table.status")+"")&&w(R,M),x&8&&P!==(P=f[3]("clients.details.cessions.table.actions")+"")&&w(q,P),x&42){B=ws(f[1]);let k;for(k=0;k<B.length;k+=1){const T=Ds(f,B,k);h[k]?h[k].p(T,x):(h[k]=ks(T),h[k].c(),h[k].m(A,null))}for(;k<h.length;k+=1)h[k].d(1);h.length=B.length}},d(f){f&&l(s),Ps(h,f)}}}function Js(t){let s,d,a=t[3]("clients.details.cessions.no_cessions")+"",u;return{c(){s=r("div"),d=r("p"),u=g(a),this.h()},l(c){s=o(c,"DIV",{class:!0});var v=i(s);d=o(v,"P",{class:!0});var _=i(d);u=b(_,a),_.forEach(l),v.forEach(l),this.h()},h(){n(d,"class","text-gray-500"),n(s,"class","text-center py-8")},m(c,v){X(c,s,v),e(s,d),e(d,u)},p(c,v){v&8&&a!==(a=c[3]("clients.details.cessions.no_cessions")+"")&&w(u,a)},d(c){c&&l(s)}}}function Ys(t){let s,d='<div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"></div>';return{c(){s=r("div"),s.innerHTML=d,this.h()},l(a){s=o(a,"DIV",{class:!0,"data-svelte-h":!0}),Ss(s)!=="svelte-1rqgqfy"&&(s.innerHTML=d),this.h()},h(){n(s,"class","flex justify-center items-center py-8")},m(a,u){X(a,s,u)},p:Ut,d(a){a&&l(s)}}}function ks(t){let s,d,a=t[13].id+"",u,c,v,_,D=t[5](t[13].startDate)+"",N,F,j,m=Is(t[13].totalLoanAmount)+"",S,$,C,V,M=t[3](`cessions.status.${t[13].status.toLowerCase()}`)+"",R,z,H,L,P,q=t[3]("clients.details.cessions.table.view_details")+"",O,A,B;return{c(){s=r("tr"),d=r("td"),u=g(a),c=y(),v=r("td"),_=r("span"),N=g(D),F=y(),j=r("td"),S=g(m),$=y(),C=r("td"),V=r("span"),R=g(M),H=y(),L=r("td"),P=r("a"),O=g(q),B=y(),this.h()},l(h){s=o(h,"TR",{class:!0});var f=i(s);d=o(f,"TD",{class:!0});var x=i(d);u=b(x,a),x.forEach(l),c=E(f),v=o(f,"TD",{class:!0});var k=i(v);_=o(k,"SPAN",{dir:!0});var T=i(_);N=b(T,D),T.forEach(l),k.forEach(l),F=E(f),j=o(f,"TD",{class:!0});var U=i(j);S=b(U,m),U.forEach(l),$=E(f),C=o(f,"TD",{class:!0});var K=i(C);V=o(K,"SPAN",{class:!0});var J=i(V);R=b(J,M),J.forEach(l),K.forEach(l),H=E(f),L=o(f,"TD",{class:!0});var G=i(L);P=o(G,"A",{href:!0,class:!0});var Q=i(P);O=b(Q,q),Q.forEach(l),G.forEach(l),B=E(f),f.forEach(l),this.h()},h(){n(d,"class","px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"),n(_,"dir","ltr"),n(v,"class","px-6 py-4 whitespace-nowrap text-sm text-gray-500"),n(j,"class","px-6 py-4 whitespace-nowrap text-sm text-gray-500"),n(V,"class",z="px-2 py-1 text-xs font-medium rounded-full "+Ts(t[13].status)+" svelte-2ij2sh"),n(C,"class","px-6 py-4 whitespace-nowrap"),n(P,"href",A=`/cessions/${t[13].id}`),n(P,"class","text-primary-600 hover:text-primary-900"),n(L,"class","px-6 py-4 whitespace-nowrap text-right text-sm font-medium"),n(s,"class","hover:bg-gray-50")},m(h,f){X(h,s,f),e(s,d),e(d,u),e(s,c),e(s,v),e(v,_),e(_,N),e(s,F),e(s,j),e(j,S),e(s,$),e(s,C),e(C,V),e(V,R),e(s,H),e(s,L),e(L,P),e(P,O),e(s,B)},p(h,f){f&2&&a!==(a=h[13].id+"")&&w(u,a),f&2&&D!==(D=h[5](h[13].startDate)+"")&&w(N,D),f&2&&m!==(m=Is(h[13].totalLoanAmount)+"")&&w(S,m),f&10&&M!==(M=h[3](`cessions.status.${h[13].status.toLowerCase()}`)+"")&&w(R,M),f&2&&z!==(z="px-2 py-1 text-xs font-medium rounded-full "+Ts(h[13].status)+" svelte-2ij2sh")&&n(V,"class",z),f&8&&q!==(q=h[3]("clients.details.cessions.table.view_details")+"")&&w(O,q),f&2&&A!==(A=`/cessions/${h[13].id}`)&&n(P,"href",A)},d(h){h&&l(s)}}}function Gs(t){let s,d,a;document.title=s=t[3]("clients.details.title")+" | "+t[3]("common.app_name");function u(_,D){return _[0].error?zs:_[4]?Us:$s}let c=u(t),v=c(t);return{c(){d=y(),a=r("div"),v.c(),this.h()},l(_){Cs("svelte-d43wuv",document.head).forEach(l),d=E(_),a=o(_,"DIV",{class:!0});var N=i(a);v.l(N),N.forEach(l),this.h()},h(){n(a,"class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8")},m(_,D){X(_,d,D),X(_,a,D),v.m(a,null)},p(_,[D]){D&8&&s!==(s=_[3]("clients.details.title")+" | "+_[3]("common.app_name"))&&(document.title=s),c===(c=u(_))&&v?v.p(_,D):(v.d(1),v=c(_),v&&(v.c(),v.m(a,null)))},i:Ut,o:Ut,d(_){_&&(l(d),l(a)),v.d()}}}function Is(t){return t==null?"N/A":new Intl.NumberFormat("ar-TN",{style:"currency",currency:"TND"}).format(t)}function Ts(t){switch(t?.toLowerCase()){case"active":return"bg-green-100 text-green-800";case"finished":return"bg-gray-100 text-gray-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}}function Qs(t,s,d){let a,u;ys(t,qt,m=>d(2,a=m)),ys(t,Os,m=>d(3,u=m));let{data:c}=s,v=c.client,_=[];Hs(async()=>{if(c.error){Ge(c.error,"error");return}if(!v){Ge("Client not found","error");return}await D()});async function D(){Es(qt,a=!0,a);try{const m=await As.getByClientId(c.id);m&&Array.isArray(m)&&d(1,_=m)}catch(m){Ge(m.message||"Failed to load cessions","error")}finally{Es(qt,a=!1,a)}}function N(m){if(!m)return"N/A";const S=new Date(m);return Rs(S,"dd/MM/yyyy")}function F(m){if(!m){Ge("Invalid client ID","error");return}try{Fs(`/cessions/new?clientId=${m}`)}catch{Ge("Failed to navigate to cession creation","error")}}const j=()=>F(v.id);return t.$$set=m=>{"data"in m&&d(0,c=m.data)},[c,_,a,u,v,N,F,j]}class il extends Bs{constructor(s){super(),Ms(this,s,Qs,Gs,js,{data:0})}}export{il as component,ol as universal};
