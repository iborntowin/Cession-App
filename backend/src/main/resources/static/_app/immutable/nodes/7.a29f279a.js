import{s as z,f as _,l as H,a as k,g as p,h as g,m as j,d,c as y,j as m,i as v,w as b,n as S,I as x,k as Y,L as Z,S as F,T as q,u as $,o as ee,y as I,z as D,H as R,N}from"../chunks/scheduler.fb6ad399.js";import{S as X,i as G,b as J,d as K,m as Q,t as C,c as te,a as T,e as W,g as le}from"../chunks/index.19f0e15d.js";import{p as se}from"../chunks/stores.f83cb6aa.js";import{e as P}from"../chunks/api.b4688d57.js";import{s as V}from"../chunks/navigation.68a3d764.js";import{e as A}from"../chunks/each.eb6105d2.js";import{S as ne}from"../chunks/Spinner.0b7c48ae.js";function B(a,e,l){const s=a.slice();return s[3]=e[l],s}function L(a){let e,l;return{c(){e=_("p"),l=H(a[1]),this.h()},l(s){e=p(s,"P",{class:!0});var t=g(e);l=j(t,a[1]),t.forEach(d),this.h()},h(){m(e,"class","mt-1 text-sm text-gray-500")},m(s,t){v(s,e,t),b(e,l)},p(s,t){t&2&&S(l,s[1])},d(s){s&&d(e)}}}function M(a){let e,l,s=A(a[2]),t=[];for(let i=0;i<s.length;i+=1)t[i]=U(B(a,s,i));return{c(){e=_("div"),l=_("div");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=p(i,"DIV",{class:!0,style:!0});var f=g(e);l=p(f,"DIV",{class:!0});var o=g(l);for(let n=0;n<t.length;n+=1)t[n].l(o);o.forEach(d),f.forEach(d),this.h()},h(){m(l,"class","flex space-x-3"),m(e,"class","mt-4 sm:mt-0 animate-slide-in"),Y(e,"animation-delay","100ms")},m(i,f){v(i,e,f),b(e,l);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(l,null)},p(i,f){if(f&4){s=A(i[2]);let o;for(o=0;o<s.length;o+=1){const n=B(i,s,o);t[o]?t[o].p(n,f):(t[o]=U(n),t[o].c(),t[o].m(l,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=s.length}},d(i){i&&d(e),Z(t,i)}}}function O(a){let e,l,s=a[3].icon+"";return{c(){e=_("span"),l=new F(!1),this.h()},l(t){e=p(t,"SPAN",{class:!0});var i=g(e);l=q(i,!1),i.forEach(d),this.h()},h(){l.a=null,m(e,"class","mr-2")},m(t,i){v(t,e,i),l.m(s,e)},p(t,i){i&4&&s!==(s=t[3].icon+"")&&l.p(s)},d(t){t&&d(e)}}}function U(a){let e,l,s=a[3].label+"",t,i,f,o,n=a[3].icon&&O(a);return{c(){e=_("a"),n&&n.c(),l=k(),t=H(s),i=k(),this.h()},l(c){e=p(c,"A",{href:!0,class:!0});var r=g(e);n&&n.l(r),l=y(r),t=j(r,s),i=y(r),r.forEach(d),this.h()},h(){m(e,"href",f=a[3].href),m(e,"class",o="btn "+(a[3].primary?"btn-primary":"btn-outline")+" flex items-center")},m(c,r){v(c,e,r),n&&n.m(e,null),b(e,l),b(e,t),b(e,i)},p(c,r){c[3].icon?n?n.p(c,r):(n=O(c),n.c(),n.m(e,l)):n&&(n.d(1),n=null),r&4&&s!==(s=c[3].label+"")&&S(t,s),r&4&&f!==(f=c[3].href)&&m(e,"href",f),r&4&&o!==(o="btn "+(c[3].primary?"btn-primary":"btn-outline")+" flex items-center")&&m(e,"class",o)},d(c){c&&d(e),n&&n.d()}}}function ie(a){let e,l,s,t,i,f,o,n=a[1]&&L(a),c=a[2]&&M(a);return{c(){e=_("div"),l=_("div"),s=_("div"),t=_("h1"),i=H(a[0]),f=k(),n&&n.c(),o=k(),c&&c.c(),this.h()},l(r){e=p(r,"DIV",{class:!0});var u=g(e);l=p(u,"DIV",{class:!0});var h=g(l);s=p(h,"DIV",{class:!0});var w=g(s);t=p(w,"H1",{class:!0});var E=g(t);i=j(E,a[0]),E.forEach(d),f=y(w),n&&n.l(w),w.forEach(d),o=y(h),c&&c.l(h),h.forEach(d),u.forEach(d),this.h()},h(){m(t,"class","text-2xl font-bold text-gray-900"),m(s,"class","animate-slide-in"),m(l,"class","flex flex-col sm:flex-row sm:items-center sm:justify-between"),m(e,"class","mb-6")},m(r,u){v(r,e,u),b(e,l),b(l,s),b(s,t),b(t,i),b(s,f),n&&n.m(s,null),b(l,o),c&&c.m(l,null)},p(r,[u]){u&1&&S(i,r[0]),r[1]?n?n.p(r,u):(n=L(r),n.c(),n.m(s,null)):n&&(n.d(1),n=null),r[2]?c?c.p(r,u):(c=M(r),c.c(),c.m(l,null)):c&&(c.d(1),c=null)},i:x,o:x,d(r){r&&d(e),n&&n.d(),c&&c.d()}}}function re(a,e,l){let{title:s}=e,{subtitle:t=null}=e,{actions:i=null}=e;return a.$$set=f=>{"title"in f&&l(0,s=f.title),"subtitle"in f&&l(1,t=f.subtitle),"actions"in f&&l(2,i=f.actions)},[s,t,i]}class oe extends X{constructor(e){super(),G(this,e,re,ie,z,{title:0,subtitle:1,actions:2})}}function ae(a){let e,l,s,t;function i(u,h){return u[1]?ue:fe}let f=i(a),o=f(a);function n(u,h){return u[1]?he:de}let c=n(a),r=c(a);return{c(){e=_("div"),l=_("div"),o.c(),s=k(),t=_("div"),r.c(),this.h()},l(u){e=p(u,"DIV",{class:!0});var h=g(e);l=p(h,"DIV",{class:!0});var w=g(l);o.l(w),w.forEach(d),s=y(h),t=p(h,"DIV",{class:!0});var E=g(t);r.l(E),E.forEach(d),h.forEach(d),this.h()},h(){m(l,"class","flex justify-end space-x-4 mb-6"),m(t,"class","border rounded-lg p-6 bg-white"),m(e,"class","bg-white shadow-lg rounded-lg p-6 svelte-1m17hjb")},m(u,h){v(u,e,h),b(e,l),o.m(l,null),b(e,s),b(e,t),r.m(t,null)},p(u,h){f===(f=i(u))&&o?o.p(u,h):(o.d(1),o=f(u),o&&(o.c(),o.m(l,null))),c===(c=n(u))&&r?r.p(u,h):(r.d(1),r=c(u),r&&(r.c(),r.m(t,null)))},i:x,o:x,d(u){u&&d(e),o.d(),r.d()}}}function ce(a){let e,l,s;return l=new ne({}),{c(){e=_("div"),J(l.$$.fragment),this.h()},l(t){e=p(t,"DIV",{class:!0});var i=g(e);K(l.$$.fragment,i),i.forEach(d),this.h()},h(){m(e,"class","flex justify-center items-center h-64 svelte-1m17hjb")},m(t,i){v(t,e,i),Q(l,e,null),s=!0},p:x,i(t){s||(T(l.$$.fragment,t),s=!0)},o(t){C(l.$$.fragment,t),s=!1},d(t){t&&d(e),W(l)}}}function fe(a){let e,l="Edit Document",s,t,i=`<svg class="h-5 w-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"></path></svg>
                        Print Document`,f,o;return{c(){e=_("button"),e.textContent=l,s=k(),t=_("button"),t.innerHTML=i,this.h()},l(n){e=p(n,"BUTTON",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-3568ea"&&(e.textContent=l),s=y(n),t=p(n,"BUTTON",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-1kyhok7"&&(t.innerHTML=i),this.h()},h(){m(e,"class","inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),m(t,"class","inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500")},m(n,c){v(n,e,c),v(n,s,c),v(n,t,c),f||(o=[D(e,"click",a[6]),D(t,"click",_e)],f=!0)},p:x,d(n){n&&(d(e),d(s),d(t)),f=!1,R(o)}}}function ue(a){let e,l="Cancel",s,t,i="Save Changes",f,o;return{c(){e=_("button"),e.textContent=l,s=k(),t=_("button"),t.textContent=i,this.h()},l(n){e=p(n,"BUTTON",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-nxmly1"&&(e.textContent=l),s=y(n),t=p(n,"BUTTON",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-vf7vva"&&(t.textContent=i),this.h()},h(){m(e,"class","inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),m(t,"class","inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500")},m(n,c){v(n,e,c),v(n,s,c),v(n,t,c),f||(o=[D(e,"click",a[5]),D(t,"click",a[4])],f=!0)},p:x,d(n){n&&(d(e),d(s),d(t)),f=!1,R(o)}}}function de(a){let e,l;return{c(){e=_("div"),l=new F(!1),this.h()},l(s){e=p(s,"DIV",{class:!0});var t=g(e);l=q(t,!1),t.forEach(d),this.h()},h(){l.a=null,m(e,"class","prose max-w-none")},m(s,t){v(s,e,t),l.m(a[0],e)},p(s,t){t&1&&l.p(s[0])},d(s){s&&d(e)}}}function he(a){let e,l,s;return{c(){e=_("textarea"),this.h()},l(t){e=p(t,"TEXTAREA",{class:!0}),g(e).forEach(d),this.h()},h(){m(e,"class","w-full h-[800px] p-4 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500")},m(t,i){v(t,e,i),N(e,a[3]),l||(s=D(e,"input",a[7]),l=!0)},p(t,i){i&8&&N(e,t[3])},d(t){t&&d(e),l=!1,s()}}}function me(a){let e,l,s,t,i,f;e=new oe({props:{title:"Document Preview"}});const o=[ce,ae],n=[];function c(r,u){return r[2]?0:1}return t=c(a),i=n[t]=o[t](a),{c(){J(e.$$.fragment),l=k(),s=_("div"),i.c(),this.h()},l(r){K(e.$$.fragment,r),l=y(r),s=p(r,"DIV",{class:!0});var u=g(s);i.l(u),u.forEach(d),this.h()},h(){m(s,"class","container mx-auto px-4 py-8 svelte-1m17hjb")},m(r,u){Q(e,r,u),v(r,l,u),v(r,s,u),n[t].m(s,null),f=!0},p(r,[u]){let h=t;t=c(r),t===h?n[t].p(r,u):(le(),C(n[h],1,1,()=>{n[h]=null}),te(),i=n[t],i?i.p(r,u):(i=n[t]=o[t](r),i.c()),T(i,1),i.m(s,null))},i(r){f||(T(e.$$.fragment,r),T(i),f=!0)},o(r){C(e.$$.fragment,r),C(i),f=!1},d(r){r&&(d(l),d(s)),W(e,r),n[t].d()}}}function _e(){window.print()}function pe(a,e,l){let s;$(a,se,h=>l(8,s=h));let t="",i=!1,f=!0,o="";ee(async()=>{try{const h=await P.get(`/cessions/${s.params.id}/document`);l(0,t=h),l(3,o=h),l(2,f=!1)}catch{V("Failed to load document","error"),l(2,f=!1)}});async function n(){try{await P.put(`/cessions/${s.params.id}/document`,o),l(0,t=o),l(1,i=!1),V("Document saved successfully","success")}catch{V("Failed to save document","error")}}const c=()=>{l(3,o=t),l(1,i=!1)},r=()=>l(1,i=!0);function u(){o=this.value,l(3,o)}return[t,i,f,o,n,c,r,u]}class Ee extends X{constructor(e){super(),G(this,e,pe,me,z,{})}}export{Ee as component};
