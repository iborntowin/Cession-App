import{s as Ze,e as He,i as J,d as h,T as lt,f as p,a as R,l as H,F as Ye,g as m,h as b,c as L,m as F,y as fe,G as Qe,j as i,w as n,z as _e,n as re,H as nt,K as jt,I as Ie,x as Ht,p as st,U as ct,o as Mt,v as Ft,L as Ke,O as Ut,u as Gt}from"../chunks/scheduler.55755e91.js";import{S as $e,i as et,a as X,g as Re,t as se,c as Le,b as Ne,d as Be,m as ze,e as Oe,f as ut,h as ft}from"../chunks/index.d2ed93bc.js";import{t as qt,g as dt,c as Wt,s as Jt,d as ht}from"../chunks/navigation.fbd60083.js";import{e as Kt}from"../chunks/api.20dd9789.js";import{S as tt}from"../chunks/Spinner.50375aac.js";import{_ as Yt}from"../chunks/preload-helper.a4192956.js";import{e as Xe}from"../chunks/each.8720bd6f.js";import{s as pt}from"../chunks/index.cc614871.js";import{b as Qt}from"../chunks/environment.60829b93.js";function mt(s,t,e){const r=s.slice();return r[18]=t[e],r[20]=e,r}function gt(s){let t,e,r,o,l,a,u,c,d=s[6].icon+"",f,g,x,D,v,w=s[2].error_type.replace(/_/g," ").replace(/\b\w/g,xt)+"",T,k,V,E,C,_=s[2].user_message+"",P,O,j,z='<span class="sr-only">Close</span> <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',B,U,ie,S,I,N,Z=s[2].severity+"",be,oe,K,ye,ce,he,M,A,G,$,pe,we,ve=s[1]?"Hide":"Show",le,Ce,xe,De,me,ee,ne="Close",Y,te,de,ae=(s[3]||s[4])&&bt(s),ge=s[2].recovery_actions&&s[2].recovery_actions.length>0&&vt(s),ue=s[1]&&yt(s);return{c(){t=p("div"),e=p("div"),r=p("div"),o=R(),l=p("div"),a=p("div"),u=p("div"),c=p("span"),f=H(d),x=R(),D=p("div"),v=p("h3"),T=H(w),k=H(" Error"),V=R(),E=p("div"),C=p("p"),P=H(_),O=R(),j=p("button"),j.innerHTML=z,B=R(),U=p("div"),ie=p("div"),S=p("div"),I=p("span"),N=H("Severity: "),be=H(Z),ye=R(),ae&&ae.c(),ce=R(),ge&&ge.c(),he=R(),M=p("div"),A=p("button"),G=Ye("svg"),$=Ye("path"),we=R(),le=H(ve),Ce=H(" Technical Details"),xe=R(),ue&&ue.c(),De=R(),me=p("div"),ee=p("button"),ee.textContent=ne,this.h()},l(q){t=m(q,"DIV",{class:!0,"aria-labelledby":!0,role:!0,"aria-modal":!0});var y=b(t);e=m(y,"DIV",{class:!0});var W=b(e);r=m(W,"DIV",{class:!0}),b(r).forEach(h),o=L(W),l=m(W,"DIV",{class:!0});var Q=b(l);a=m(Q,"DIV",{class:!0});var ke=b(a);u=m(ke,"DIV",{class:!0});var Ae=b(u);c=m(Ae,"SPAN",{class:!0});var Fe=b(c);f=F(Fe,d),Fe.forEach(h),Ae.forEach(h),x=L(ke),D=m(ke,"DIV",{class:!0});var Te=b(D);v=m(Te,"H3",{class:!0,id:!0});var je=b(v);T=F(je,w),k=F(je," Error"),je.forEach(h),V=L(Te),E=m(Te,"DIV",{class:!0});var Ue=b(E);C=m(Ue,"P",{class:!0});var Se=b(C);P=F(Se,_),Se.forEach(h),Ue.forEach(h),Te.forEach(h),O=L(ke),j=m(ke,"BUTTON",{class:!0,"data-svelte-h":!0}),fe(j)!=="svelte-1fymdpv"&&(j.innerHTML=z),ke.forEach(h),B=L(Q),U=m(Q,"DIV",{class:!0});var Pe=b(U);ie=m(Pe,"DIV",{class:!0});var Ge=b(ie);S=m(Ge,"DIV",{class:!0});var Ve=b(S);I=m(Ve,"SPAN",{class:!0});var Me=b(I);N=F(Me,"Severity: "),be=F(Me,Z),Me.forEach(h),Ve.forEach(h),Ge.forEach(h),Pe.forEach(h),ye=L(Q),ae&&ae.l(Q),ce=L(Q),ge&&ge.l(Q),he=L(Q),M=m(Q,"DIV",{class:!0});var qe=b(M);A=m(qe,"BUTTON",{class:!0});var We=b(A);G=Qe(We,"svg",{class:!0,fill:!0,viewBox:!0,stroke:!0});var at=b(G);$=Qe(at,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),b($).forEach(h),at.forEach(h),we=L(We),le=F(We,ve),Ce=F(We," Technical Details"),We.forEach(h),qe.forEach(h),xe=L(Q),ue&&ue.l(Q),De=L(Q),me=m(Q,"DIV",{class:!0});var it=b(me);ee=m(it,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),fe(ee)!=="svelte-6b5bmf"&&(ee.textContent=ne),it.forEach(h),Q.forEach(h),W.forEach(h),y.forEach(h),this.h()},h(){i(r,"class","fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"),i(c,"class","text-xl"),i(u,"class",g="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full "+s[6].iconBg+" sm:mx-0 sm:h-10 sm:w-10"),i(v,"class","text-lg leading-6 font-medium text-gray-900"),i(v,"id","modal-title"),i(C,"class","text-sm text-gray-500"),i(E,"class","mt-2"),i(D,"class","mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left flex-1"),i(j,"class","absolute top-4 right-4 text-gray-400 hover:text-gray-600"),i(a,"class","sm:flex sm:items-start"),i(I,"class",oe="text-sm font-medium "+s[6].text),i(S,"class","flex-shrink-0"),i(ie,"class","flex"),i(U,"class",K="mt-4 p-3 rounded-md "+s[6].bg+" "+s[6].border+" border"),i($,"stroke-linecap","round"),i($,"stroke-linejoin","round"),i($,"stroke-width","2"),i($,"d","M9 5l7 7-7 7"),i(G,"class",pe="h-4 w-4 mr-1 transform "+(s[1]?"rotate-90":"")),i(G,"fill","none"),i(G,"viewBox","0 0 24 24"),i(G,"stroke","currentColor"),i(A,"class","text-sm text-gray-600 hover:text-gray-800 flex items-center"),i(M,"class","mt-4"),i(ee,"type","button"),i(ee,"class","w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-gray-600 text-base font-medium text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 sm:ml-3 sm:w-auto sm:text-sm"),i(me,"class","mt-5 sm:mt-4 sm:flex sm:flex-row-reverse"),i(l,"class","inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6"),i(e,"class","flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"),i(t,"class","fixed inset-0 z-50 overflow-y-auto"),i(t,"aria-labelledby","modal-title"),i(t,"role","dialog"),i(t,"aria-modal","true")},m(q,y){J(q,t,y),n(t,e),n(e,r),n(e,o),n(e,l),n(l,a),n(a,u),n(u,c),n(c,f),n(a,x),n(a,D),n(D,v),n(v,T),n(v,k),n(D,V),n(D,E),n(E,C),n(C,P),n(a,O),n(a,j),n(l,B),n(l,U),n(U,ie),n(ie,S),n(S,I),n(I,N),n(I,be),n(l,ye),ae&&ae.m(l,null),n(l,ce),ge&&ge.m(l,null),n(l,he),n(l,M),n(M,A),n(A,G),n(G,$),n(A,we),n(A,le),n(A,Ce),n(l,xe),ue&&ue.m(l,null),n(l,De),n(l,me),n(me,ee),Y=!0,te||(de=[_e(r,"click",s[7]),_e(j,"click",s[7]),_e(A,"click",s[8]),_e(ee,"click",s[7])],te=!0)},p(q,y){(!Y||y&64)&&d!==(d=q[6].icon+"")&&re(f,d),(!Y||y&64&&g!==(g="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full "+q[6].iconBg+" sm:mx-0 sm:h-10 sm:w-10"))&&i(u,"class",g),(!Y||y&4)&&w!==(w=q[2].error_type.replace(/_/g," ").replace(/\b\w/g,xt)+"")&&re(T,w),(!Y||y&4)&&_!==(_=q[2].user_message+"")&&re(P,_),(!Y||y&4)&&Z!==(Z=q[2].severity+"")&&re(be,Z),(!Y||y&64&&oe!==(oe="text-sm font-medium "+q[6].text))&&i(I,"class",oe),(!Y||y&64&&K!==(K="mt-4 p-3 rounded-md "+q[6].bg+" "+q[6].border+" border"))&&i(U,"class",K),q[3]||q[4]?ae?(ae.p(q,y),y&24&&X(ae,1)):(ae=bt(q),ae.c(),X(ae,1),ae.m(l,ce)):ae&&(Re(),se(ae,1,1,()=>{ae=null}),Le()),q[2].recovery_actions&&q[2].recovery_actions.length>0?ge?ge.p(q,y):(ge=vt(q),ge.c(),ge.m(l,he)):ge&&(ge.d(1),ge=null),(!Y||y&2&&pe!==(pe="h-4 w-4 mr-1 transform "+(q[1]?"rotate-90":"")))&&i(G,"class",pe),(!Y||y&2)&&ve!==(ve=q[1]?"Hide":"Show")&&re(le,ve),q[1]?ue?ue.p(q,y):(ue=yt(q),ue.c(),ue.m(l,De)):ue&&(ue.d(1),ue=null)},i(q){Y||(X(ae),Y=!0)},o(q){se(ae),Y=!1},d(q){q&&h(t),ae&&ae.d(),ge&&ge.d(),ue&&ue.d(),te=!1,nt(de)}}}function bt(s){let t,e,r,o,l,a;const u=[Zt,Xt],c=[];function d(f,g){return f[3]?0:1}return r=d(s),o=c[r]=u[r](s),{c(){t=p("div"),e=p("div"),o.c(),this.h()},l(f){t=m(f,"DIV",{class:!0});var g=b(t);e=m(g,"DIV",{class:!0});var x=b(e);o.l(x),x.forEach(h),g.forEach(h),this.h()},h(){i(e,"class","flex items-center"),i(t,"class",l="mt-4 p-3 rounded-md "+(s[5]?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200")+" border")},m(f,g){J(f,t,g),n(t,e),c[r].m(e,null),a=!0},p(f,g){let x=r;r=d(f),r===x?c[r].p(f,g):(Re(),se(c[x],1,1,()=>{c[x]=null}),Le(),o=c[r],o?o.p(f,g):(o=c[r]=u[r](f),o.c()),X(o,1),o.m(e,null)),(!a||g&32&&l!==(l="mt-4 p-3 rounded-md "+(f[5]?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200")+" border"))&&i(t,"class",l)},i(f){a||(X(o),a=!0)},o(f){se(o),a=!1},d(f){f&&h(t),c[r].d()}}}function Xt(s){let t,e,r;return{c(){t=p("span"),e=H(s[4]),this.h()},l(o){t=m(o,"SPAN",{class:!0});var l=b(t);e=F(l,s[4]),l.forEach(h),this.h()},h(){i(t,"class",r="text-sm "+(s[5]?"text-green-700":"text-red-700"))},m(o,l){J(o,t,l),n(t,e)},p(o,l){l&16&&re(e,o[4]),l&32&&r!==(r="text-sm "+(o[5]?"text-green-700":"text-red-700"))&&i(t,"class",r)},i:Ie,o:Ie,d(o){o&&h(t)}}}function Zt(s){let t,e,r,o="Attempting recovery...",l;return t=new tt({props:{size:"sm"}}),{c(){Ne(t.$$.fragment),e=R(),r=p("span"),r.textContent=o,this.h()},l(a){Be(t.$$.fragment,a),e=L(a),r=m(a,"SPAN",{class:!0,"data-svelte-h":!0}),fe(r)!=="svelte-1wmrvfn"&&(r.textContent=o),this.h()},h(){i(r,"class","ml-2 text-sm text-blue-700")},m(a,u){ze(t,a,u),J(a,e,u),J(a,r,u),l=!0},p:Ie,i(a){l||(X(t.$$.fragment,a),l=!0)},o(a){se(t.$$.fragment,a),l=!1},d(a){a&&(h(e),h(r)),Oe(t,a)}}}function vt(s){let t,e,r="Recommended Actions:",o,l,a=Xe(s[2].recovery_actions),u=[];for(let c=0;c<a.length;c+=1)u[c]=_t(mt(s,a,c));return{c(){t=p("div"),e=p("h4"),e.textContent=r,o=R(),l=p("div");for(let c=0;c<u.length;c+=1)u[c].c();this.h()},l(c){t=m(c,"DIV",{class:!0});var d=b(t);e=m(d,"H4",{class:!0,"data-svelte-h":!0}),fe(e)!=="svelte-1jjd0z1"&&(e.textContent=r),o=L(d),l=m(d,"DIV",{class:!0});var f=b(l);for(let g=0;g<u.length;g+=1)u[g].l(f);f.forEach(h),d.forEach(h),this.h()},h(){i(e,"class","text-sm font-medium text-gray-900 mb-2"),i(l,"class","space-y-2"),i(t,"class","mt-4")},m(c,d){J(c,t,d),n(t,e),n(t,o),n(t,l);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(l,null)},p(c,d){if(d&524){a=Xe(c[2].recovery_actions);let f;for(f=0;f<a.length;f+=1){const g=mt(c,a,f);u[f]?u[f].p(g,d):(u[f]=_t(g),u[f].c(),u[f].m(l,null))}for(;f<u.length;f+=1)u[f].d(1);u.length=a.length}},d(c){c&&h(t),jt(u,c)}}}function _t(s){let t,e,r=Ct(Object.keys(s[18])[0]||s[18])+"",o,l,a,u,c,d,f,g;function x(){return s[10](s[18])}return{c(){t=p("button"),e=p("span"),o=H(r),l=R(),a=Ye("svg"),u=Ye("path"),c=R(),this.h()},l(D){t=m(D,"BUTTON",{class:!0});var v=b(t);e=m(v,"SPAN",{});var w=b(e);o=F(w,r),w.forEach(h),l=L(v),a=Qe(v,"svg",{class:!0,fill:!0,viewBox:!0,stroke:!0});var T=b(a);u=Qe(T,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),b(u).forEach(h),T.forEach(h),c=L(v),v.forEach(h),this.h()},h(){i(u,"stroke-linecap","round"),i(u,"stroke-linejoin","round"),i(u,"stroke-width","2"),i(u,"d","M9 5l7 7-7 7"),i(a,"class","h-4 w-4"),i(a,"fill","none"),i(a,"viewBox","0 0 24 24"),i(a,"stroke","currentColor"),t.disabled=s[3],i(t,"class",d="w-full text-left px-3 py-2 text-sm rounded-md "+Et(Object.keys(s[18])[0]||s[18])+" disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-between")},m(D,v){J(D,t,v),n(t,e),n(e,o),n(t,l),n(t,a),n(a,u),n(t,c),f||(g=_e(t,"click",x),f=!0)},p(D,v){s=D,v&4&&r!==(r=Ct(Object.keys(s[18])[0]||s[18])+"")&&re(o,r),v&8&&(t.disabled=s[3]),v&4&&d!==(d="w-full text-left px-3 py-2 text-sm rounded-md "+Et(Object.keys(s[18])[0]||s[18])+" disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-between")&&i(t,"class",d)},d(D){D&&h(t),f=!1,g()}}}function yt(s){let t,e,r,o,l="Error Type:",a,u,c=s[2].error_type+"",d,f,g,x,D="Timestamp:",v,w,T=new Date(s[2].timestamp).toLocaleString()+"",k,V,E=s[2].technical_details&&wt(s);return{c(){t=p("div"),e=p("div"),r=p("div"),o=p("span"),o.textContent=l,a=R(),u=p("span"),d=H(c),f=R(),g=p("div"),x=p("span"),x.textContent=D,v=R(),w=p("span"),k=H(T),V=R(),E&&E.c(),this.h()},l(C){t=m(C,"DIV",{class:!0});var _=b(t);e=m(_,"DIV",{class:!0});var P=b(e);r=m(P,"DIV",{});var O=b(r);o=m(O,"SPAN",{class:!0,"data-svelte-h":!0}),fe(o)!=="svelte-1ob3ul2"&&(o.textContent=l),a=L(O),u=m(O,"SPAN",{class:!0});var j=b(u);d=F(j,c),j.forEach(h),O.forEach(h),f=L(P),g=m(P,"DIV",{});var z=b(g);x=m(z,"SPAN",{class:!0,"data-svelte-h":!0}),fe(x)!=="svelte-3rgm8s"&&(x.textContent=D),v=L(z),w=m(z,"SPAN",{class:!0});var B=b(w);k=F(B,T),B.forEach(h),z.forEach(h),V=L(P),E&&E.l(P),P.forEach(h),_.forEach(h),this.h()},h(){i(o,"class","font-medium"),i(u,"class","ml-2 text-gray-600"),i(x,"class","font-medium"),i(w,"class","ml-2 text-gray-600"),i(e,"class","space-y-2"),i(t,"class","mt-2 p-3 bg-gray-50 rounded-md text-sm")},m(C,_){J(C,t,_),n(t,e),n(e,r),n(r,o),n(r,a),n(r,u),n(u,d),n(e,f),n(e,g),n(g,x),n(g,v),n(g,w),n(w,k),n(e,V),E&&E.m(e,null)},p(C,_){_&4&&c!==(c=C[2].error_type+"")&&re(d,c),_&4&&T!==(T=new Date(C[2].timestamp).toLocaleString()+"")&&re(k,T),C[2].technical_details?E?E.p(C,_):(E=wt(C),E.c(),E.m(e,null)):E&&(E.d(1),E=null)},d(C){C&&h(t),E&&E.d()}}}function wt(s){let t,e,r="Technical Details:",o,l,a=s[2].technical_details+"",u;return{c(){t=p("div"),e=p("span"),e.textContent=r,o=R(),l=p("pre"),u=H(a),this.h()},l(c){t=m(c,"DIV",{});var d=b(t);e=m(d,"SPAN",{class:!0,"data-svelte-h":!0}),fe(e)!=="svelte-1215sir"&&(e.textContent=r),o=L(d),l=m(d,"PRE",{class:!0});var f=b(l);u=F(f,a),f.forEach(h),d.forEach(h),this.h()},h(){i(e,"class","font-medium"),i(l,"class","mt-1 text-xs text-gray-600 whitespace-pre-wrap svelte-1uv57o3")},m(c,d){J(c,t,d),n(t,e),n(t,o),n(t,l),n(l,u)},p(c,d){d&4&&a!==(a=c[2].technical_details+"")&&re(u,a)},d(c){c&&h(t)}}}function $t(s){let t,e,r=s[0]&&s[2]&&gt(s);return{c(){r&&r.c(),t=He()},l(o){r&&r.l(o),t=He()},m(o,l){r&&r.m(o,l),J(o,t,l),e=!0},p(o,[l]){o[0]&&o[2]?r?(r.p(o,l),l&5&&X(r,1)):(r=gt(o),r.c(),X(r,1),r.m(t.parentNode,t)):r&&(Re(),se(r,1,1,()=>{r=null}),Le())},i(o){e||(X(r),e=!0)},o(o){se(r),e=!1},d(o){o&&h(t),r&&r.d(o)}}}function kt(s){switch(s){case"Critical":return{bg:"bg-red-50",border:"border-red-200",text:"text-red-800",icon:"üö®",iconBg:"bg-red-100"};case"High":return{bg:"bg-orange-50",border:"border-orange-200",text:"text-orange-800",icon:"‚ö†Ô∏è",iconBg:"bg-orange-100"};case"Medium":return{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-800",icon:"‚ö°",iconBg:"bg-yellow-100"};case"Low":return{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-800",icon:"‚ÑπÔ∏è",iconBg:"bg-blue-100"};default:return{bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-800",icon:"‚ùì",iconBg:"bg-gray-100"}}}function Et(s){switch(s){case"ShowInstallDialog":return"bg-blue-600 hover:bg-blue-700 text-white";case"RestartWithDelay":return"bg-orange-600 hover:bg-orange-700 text-white";case"TryAlternatePorts":return"bg-purple-600 hover:bg-purple-700 text-white";case"RepairDatabase":return"bg-red-600 hover:bg-red-700 text-white";case"ClearCache":return"bg-green-600 hover:bg-green-700 text-white";case"ShowTroubleshootingGuide":return"bg-gray-600 hover:bg-gray-700 text-white";case"ContactSupport":return"bg-indigo-600 hover:bg-indigo-700 text-white";default:return"bg-gray-600 hover:bg-gray-700 text-white"}}function Ct(s){switch(s){case"ShowInstallDialog":return"Download Java";case"RestartWithDelay":return"Restart Application";case"TryAlternatePorts":return"Try Alternative Ports";case"RepairDatabase":return"Repair Database";case"ClearCache":return"Clear Cache";case"ExtractFromResources":return"Repair Installation";case"ShowTroubleshootingGuide":return"View Troubleshooting Guide";case"ContactSupport":return"Contact Support";default:return"Take Action"}}const xt=s=>s.toUpperCase();function er(s,t,e){let r,o,l,a=!1;async function u(){if(!a&&!(typeof window<"u"&&!window.__TAURI__))try{const _=new Function('return import("@tauri-apps/api/tauri")'),P=new Function('return import("@tauri-apps/api/shell")'),O=await _(),j=await P();o=O.invoke,l=j.open,a=!0}catch{}}u();const c=lt();let{isOpen:d=!1}=t,{errorInfo:f=null}=t,{showTechnicalDetails:g=!1}=t,x=!1,D="",v=!1;function w(){e(0,d=!1),e(1,g=!1),e(3,x=!1),e(4,D=""),e(5,v=!1),c("close")}function T(){e(1,g=!g)}async function k(_){if(!o){e(4,D="Recovery not available in this environment"),e(5,v=!1);return}e(3,x=!0),e(4,D="Attempting recovery...");try{const P=await o("attempt_error_recovery",{recoveryAction:_});e(4,D=P),e(5,v=!0),setTimeout(()=>{w(),c("recovery-success",{action:_,result:P})},2e3)}catch(P){e(4,D=`Recovery failed: ${P}`),e(5,v=!1)}finally{e(3,x=!1)}}async function V(_){try{await l(_)}catch{}}async function E(_){if(typeof _=="string"){if(_.startsWith("http")){await V(_);return}_={[_]:null}}const P=Object.keys(_)[0],O=_[P];switch(P){case"ShowInstallDialog":await V(O||"https://adoptium.net/temurin/releases/");break;case"ShowTroubleshootingGuide":await V(O||"https://docs.example.com/troubleshooting");break;case"ContactSupport":await V(`mailto:${O||"support@example.com"}`);break;default:await k(_);break}}const C=_=>E(_);return s.$$set=_=>{"isOpen"in _&&e(0,d=_.isOpen),"errorInfo"in _&&e(2,f=_.errorInfo),"showTechnicalDetails"in _&&e(1,g=_.showTechnicalDetails)},s.$$.update=()=>{s.$$.dirty&4&&e(6,r=kt(f?f.severity:"Medium"))},[d,g,f,x,D,v,r,w,T,E,C]}class tr extends $e{constructor(t){super(),et(this,t,er,$t,Ze,{isOpen:0,errorInfo:2,showTechnicalDetails:1})}}function It(s,t,e){const r=s.slice();return r[14]=t[e],r}function Dt(s){let t,e,r,o,l,a,u=s[3].icon+"",c,d,f,g,x,D=(s[0].title||"Notification")+"",v,w,T,k,V=s[0].message+"",E,C,_,P,O,j='<span class="sr-only">Close</span> <svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>',z,B,U,ie,S,I=s[0].actions&&s[0].actions.length>0&&Tt(s);return{c(){t=p("div"),e=p("div"),r=p("div"),o=p("div"),l=p("div"),a=p("span"),c=H(u),f=R(),g=p("div"),x=p("h3"),v=H(D),T=R(),k=p("p"),E=H(V),C=R(),I&&I.c(),_=R(),P=p("div"),O=p("button"),O.innerHTML=j,this.h()},l(N){t=m(N,"DIV",{class:!0});var Z=b(t);e=m(Z,"DIV",{class:!0});var be=b(e);r=m(be,"DIV",{class:!0});var oe=b(r);o=m(oe,"DIV",{class:!0});var K=b(o);l=m(K,"DIV",{class:!0});var ye=b(l);a=m(ye,"SPAN",{class:!0});var ce=b(a);c=F(ce,u),ce.forEach(h),ye.forEach(h),K.forEach(h),f=L(oe),g=m(oe,"DIV",{class:!0});var he=b(g);x=m(he,"H3",{class:!0});var M=b(x);v=F(M,D),M.forEach(h),T=L(he),k=m(he,"P",{class:!0});var A=b(k);E=F(A,V),A.forEach(h),C=L(he),I&&I.l(he),he.forEach(h),_=L(oe),P=m(oe,"DIV",{class:!0});var G=b(P);O=m(G,"BUTTON",{class:!0,"data-svelte-h":!0}),fe(O)!=="svelte-1upyw8w"&&(O.innerHTML=j),G.forEach(h),oe.forEach(h),be.forEach(h),Z.forEach(h),this.h()},h(){i(a,"class","text-sm"),i(l,"class",d="flex items-center justify-center h-8 w-8 rounded-full "+s[3].iconBg),i(o,"class","flex-shrink-0"),i(x,"class",w="text-sm font-medium "+s[3].text),i(k,"class","mt-1 text-sm text-gray-600"),i(g,"class","ml-3 flex-1"),i(O,"class","inline-flex text-gray-400 hover:text-gray-600 focus:outline-none"),i(P,"class","ml-4 flex-shrink-0"),i(r,"class","flex items-start"),i(e,"class",z="rounded-lg shadow-lg border "+s[3].bg+" "+s[3].border+" p-4"),i(t,"class","fixed top-4 right-4 z-40 max-w-sm w-full")},m(N,Z){J(N,t,Z),n(t,e),n(e,r),n(r,o),n(o,l),n(l,a),n(a,c),n(r,f),n(r,g),n(g,x),n(x,v),n(g,T),n(g,k),n(k,E),n(g,C),I&&I.m(g,null),n(r,_),n(r,P),n(P,O),U=!0,ie||(S=_e(O,"click",s[1]),ie=!0)},p(N,Z){(!U||Z&8)&&u!==(u=N[3].icon+"")&&re(c,u),(!U||Z&8&&d!==(d="flex items-center justify-center h-8 w-8 rounded-full "+N[3].iconBg))&&i(l,"class",d),(!U||Z&1)&&D!==(D=(N[0].title||"Notification")+"")&&re(v,D),(!U||Z&8&&w!==(w="text-sm font-medium "+N[3].text))&&i(x,"class",w),(!U||Z&1)&&V!==(V=N[0].message+"")&&re(E,V),N[0].actions&&N[0].actions.length>0?I?I.p(N,Z):(I=Tt(N),I.c(),I.m(g,null)):I&&(I.d(1),I=null),(!U||Z&8&&z!==(z="rounded-lg shadow-lg border "+N[3].bg+" "+N[3].border+" p-4"))&&i(e,"class",z)},i(N){U||(N&&Ht(()=>{U&&(B||(B=ut(t,pt,{duration:300},!0)),B.run(1))}),U=!0)},o(N){N&&(B||(B=ut(t,pt,{duration:300},!1)),B.run(0)),U=!1},d(N){N&&h(t),I&&I.d(),N&&B&&B.end(),ie=!1,S()}}}function Tt(s){let t,e=Xe(s[0].actions),r=[];for(let o=0;o<e.length;o+=1)r[o]=St(It(s,e,o));return{c(){t=p("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){t=m(o,"DIV",{class:!0});var l=b(t);for(let a=0;a<r.length;a+=1)r[a].l(l);l.forEach(h),this.h()},h(){i(t,"class","mt-3 flex space-x-2")},m(o,l){J(o,t,l);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(t,null)},p(o,l){if(l&17){e=Xe(o[0].actions);let a;for(a=0;a<e.length;a+=1){const u=It(o,e,a);r[a]?r[a].p(u,l):(r[a]=St(u),r[a].c(),r[a].m(t,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=e.length}},d(o){o&&h(t),jt(r,o)}}}function St(s){let t,e=s[14].label+"",r,o,l,a,u;function c(){return s[8](s[14])}return{c(){t=p("button"),r=H(e),o=R(),this.h()},l(d){t=m(d,"BUTTON",{class:!0});var f=b(t);r=F(f,e),o=L(f),f.forEach(h),this.h()},h(){i(t,"class",l="text-xs px-2 py-1 rounded "+(s[14].primary?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-gray-700 hover:bg-gray-300"))},m(d,f){J(d,t,f),n(t,r),n(t,o),a||(u=_e(t,"click",c),a=!0)},p(d,f){s=d,f&1&&e!==(e=s[14].label+"")&&re(r,e),f&1&&l!==(l="text-xs px-2 py-1 rounded "+(s[14].primary?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-gray-700 hover:bg-gray-300"))&&i(t,"class",l)},d(d){d&&h(t),a=!1,u()}}}function rr(s){let t,e=s[2]&&s[0]&&Dt(s);return{c(){e&&e.c(),t=He()},l(r){e&&e.l(r),t=He()},m(r,o){e&&e.m(r,o),J(r,t,o)},p(r,[o]){r[2]&&r[0]?e?(e.p(r,o),o&5&&X(e,1)):(e=Dt(r),e.c(),X(e,1),e.m(t.parentNode,t)):e&&(Re(),se(e,1,1,()=>{e=null}),Le())},i(r){X(e)},o(r){se(e)},d(r){r&&h(t),e&&e.d(r)}}}function Rt(s){switch(s){case"error":return{bg:"bg-red-50",border:"border-red-200",text:"text-red-800",icon:"üö®",iconBg:"bg-red-100"};case"warning":return{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-800",icon:"‚ö†Ô∏è",iconBg:"bg-yellow-100"};case"success":return{bg:"bg-green-50",border:"border-green-200",text:"text-green-800",icon:"‚úÖ",iconBg:"bg-green-100"};case"info":return{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-800",icon:"‚ÑπÔ∏è",iconBg:"bg-blue-100"};default:return{bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-800",icon:"üì¢",iconBg:"bg-gray-100"}}}function sr(s,t,e){let r,o,l=!1;async function a(){if(!l&&!(typeof window<"u"&&!window.__TAURI__))try{o=(await new Function('return import("@tauri-apps/api/tauri")')()).invoke,l=!0}catch{}}a();const u=lt();let{notification:c=null}=t,{autoHide:d=!0}=t,{hideDelay:f=5e3}=t,g=!1,x=null;function D(k){e(0,c=k),e(2,g=!0),d&&f>0&&(clearTimeout(x),x=setTimeout(()=>{v()},f))}function v(){e(2,g=!1),clearTimeout(x),setTimeout(()=>{e(0,c=null),u("hidden")},300)}async function w(k){try{if(k.type==="analyze_error")if(Qt&&o){const V=await o("analyze_error",{errorMessage:c.message});u("show-error-dialog",{errorInfo:V})}else{const V={error_type:"unknown_error",user_message:c.message,recovery_actions:[{ShowTroubleshootingGuide:"https://docs.example.com/troubleshooting"},{ContactSupport:"support@example.com"}],severity:"Medium",timestamp:new Date().toISOString(),technical_details:c.message};u("show-error-dialog",{errorInfo:V})}else k.type==="retry"?u("retry"):k.type==="dismiss"&&v()}catch{}}const T=k=>w(k);return s.$$set=k=>{"notification"in k&&e(0,c=k.notification),"autoHide"in k&&e(5,d=k.autoHide),"hideDelay"in k&&e(6,f=k.hideDelay)},s.$$.update=()=>{s.$$.dirty&1&&e(3,r=Rt(c?c.type:"info"))},[c,v,g,r,w,d,f,D,T]}class or extends $e{constructor(t){super(),et(this,t,sr,rr,Ze,{notification:0,autoHide:5,hideDelay:6,show:7,hide:1})}get show(){return this.$$.ctx[7]}get hide(){return this.$$.ctx[1]}}let Ee,Je,ot=!1;async function lr(){if(!ot&&!(typeof window<"u"&&!window.__TAURI__))try{const s=new Function('return import("@tauri-apps/api/tauri")'),t=new Function('return import("@tauri-apps/api/event")'),e=await s(),r=await t();Ee=e.invoke,Je=r.listen,ot=!0}catch{}}class nr{constructor(){this.errorListeners=[],this.recoveryListeners=[],this.notificationListeners=[],this.initialized=!1,this.init()}async init(){await lr(),await this.setupEventListeners(),this.initialized=!0}async setupEventListeners(){if(ot)try{await Je("error-occurred",t=>{this.handleErrorEvent(t.payload)}),await Je("recovery-successful",t=>{this.handleRecoverySuccess(t.payload)}),await Je("recovery-failed",t=>{this.handleRecoveryFailure(t.payload)}),await Je("backend-error",t=>{this.handleBackendError(t.payload)})}catch{}}handleErrorEvent(t){this.errorListeners.forEach(e=>{try{e(t)}catch{}}),this.showErrorNotification(t)}handleRecoverySuccess(t){this.recoveryListeners.forEach(e=>{try{e({success:!0,...t})}catch{}}),this.showNotification({type:"success",title:"Recovery Successful",message:`${t.recovery_action} completed successfully`,autoHide:!0,hideDelay:3e3})}handleRecoveryFailure(t){this.recoveryListeners.forEach(e=>{try{e({success:!1,...t})}catch{}}),this.showNotification({type:"error",title:"Recovery Failed",message:`Failed to recover: ${t.error}`,actions:[{type:"analyze_error",label:"Get Help",primary:!0},{type:"dismiss",label:"Dismiss",primary:!1}]})}handleBackendError(t){this.showNotification({type:"error",title:"Backend Error",message:t,actions:[{type:"analyze_error",label:"Troubleshoot",primary:!0},{type:"retry",label:"Retry",primary:!1},{type:"dismiss",label:"Dismiss",primary:!1}]})}showErrorNotification(t){const e={type:"error",title:"Application Error",message:t.error_info?.user_message||t.error||"An unexpected error occurred",actions:[{type:"analyze_error",label:"Get Help",primary:!0},{type:"dismiss",label:"Dismiss",primary:!1}]};this.showNotification(e)}showNotification(t){this.notificationListeners.forEach(e=>{try{e(t)}catch{}})}async analyzeError(t){if(!Ee)return this.getFallbackErrorInfo(t);try{return await Ee("analyze_error",{errorMessage:t})}catch{return this.getFallbackErrorInfo(t)}}async attemptRecovery(t){if(!Ee)return{success:!1,error:"Recovery not available in this environment"};try{return{success:!0,result:await Ee("attempt_error_recovery",{recoveryAction:t})}}catch(e){return{success:!1,error:e.toString()}}}async getRecoverySuggestions(t){if(!Ee)return this.getFallbackRecoverySuggestions(t);try{return await Ee("get_recovery_suggestions",{errorType:t})}catch{return this.getFallbackRecoverySuggestions(t)}}async triggerAutomaticRecovery(t){if(!Ee)return"Automatic recovery not available in this environment";try{return await Ee("trigger_automatic_recovery",{errorMessage:t})}catch(e){throw e}}async getDiagnosticInfo(){if(!Ee)return null;try{return await Ee("get_diagnostic_info")}catch(t){throw t}}async exportLogs(){if(!Ee)return null;try{return await Ee("export_logs")}catch(t){throw t}}getFallbackErrorInfo(t){const e=this.classifyError(t),r=this.getErrorGuidance(e);return{error_type:e,error_message:t,user_message:r.message,recovery_actions:[{ShowTroubleshootingGuide:"https://docs.example.com/troubleshooting"},{ContactSupport:"support@example.com"}],technical_details:t,timestamp:new Date().toISOString(),severity:"Medium"}}getFallbackRecoverySuggestions(t){return this.getErrorGuidance(t),[{ShowTroubleshootingGuide:"https://docs.example.com/troubleshooting"},{ContactSupport:"support@example.com"}]}classifyError(t){const e=t.toLowerCase();return e.includes("java")||e.includes("jre")?"java_not_found":e.includes("jar")||e.includes("file not found")?"jar_not_found":e.includes("port")||e.includes("address already in use")?"port_conflict":e.includes("database")||e.includes("connection")?"database_error":e.includes("permission")||e.includes("access denied")?"permission_denied":"unknown_error"}onError(t){return this.errorListeners.push(t),()=>{const e=this.errorListeners.indexOf(t);e>-1&&this.errorListeners.splice(e,1)}}onRecovery(t){return this.recoveryListeners.push(t),()=>{const e=this.recoveryListeners.indexOf(t);e>-1&&this.recoveryListeners.splice(e,1)}}onNotification(t){return this.notificationListeners.push(t),()=>{const e=this.notificationListeners.indexOf(t);e>-1&&this.notificationListeners.splice(e,1)}}getErrorGuidance(t){return{java_not_found:{title:"Java Required",message:"This application requires Java to run. Please install Java 17 or higher.",solutions:["Download Java from the official website","Restart the application after installation","Contact support if the problem persists"],downloadUrl:"https://adoptium.net/temurin/releases/"},jar_not_found:{title:"Application Files Missing",message:"Some application files are missing or corrupted.",solutions:["Reinstall the application","Check if antivirus software is blocking files","Run the application as administrator"]},port_conflict:{title:"Port Conflict",message:"Another application is using the required network port.",solutions:["Close other applications that might be using the port","Restart your computer","The application will try alternative ports automatically"]},database_error:{title:"Database Error",message:"There was a problem with the application database.",solutions:["The application will attempt to repair the database","Restart the application","Contact support if data recovery is needed"]},permission_denied:{title:"Permission Error",message:"The application doesn't have the necessary permissions.",solutions:["Run the application as administrator","Check file and folder permissions","Disable antivirus temporarily to test"]}}[t]||{title:"Unexpected Error",message:"An unexpected error occurred.",solutions:["Restart the application","Check the troubleshooting guide","Contact support for assistance"]}}}const rt=new nr;function Lt(s){let t,e;return t=new tt({props:{size:"sm"}}),{c(){Ne(t.$$.fragment)},l(r){Be(t.$$.fragment,r)},m(r,o){ze(t,r,o),e=!0},i(r){e||(X(t.$$.fragment,r),e=!0)},o(r){se(t.$$.fragment,r),e=!1},d(r){Oe(t,r)}}}function At(s){let t,e,r="Details:",o,l;function a(d,f){return f&8&&(l=null),l==null&&(l=!!(d[3].includes("Unexpected token")||d[3].includes("<!DOCTYPE"))),l?ir:ar}let u=a(s,-1),c=u(s);return{c(){t=p("div"),e=p("strong"),e.textContent=r,o=R(),c.c(),this.h()},l(d){t=m(d,"DIV",{class:!0});var f=b(t);e=m(f,"STRONG",{"data-svelte-h":!0}),fe(e)!=="svelte-kd2azc"&&(e.textContent=r),o=L(f),c.l(f),f.forEach(h),this.h()},h(){i(t,"class","mt-3 p-2 bg-gray-100 rounded text-sm text-gray-700")},m(d,f){J(d,t,f),n(t,e),n(t,o),c.m(t,null)},p(d,f){u===(u=a(d,f))&&c?c.p(d,f):(c.d(1),c=u(d),c&&(c.c(),c.m(t,null)))},d(d){d&&h(t),c.d()}}}function ar(s){let t;return{c(){t=H(s[3])},l(e){t=F(e,s[3])},m(e,r){J(e,t,r)},p(e,r){r&8&&re(t,e[3])},d(e){e&&h(t)}}}function ir(s){let t;return{c(){t=H("Backend service is starting up or encountered an error")},l(e){t=F(e,"Backend service is starting up or encountered an error")},m(e,r){J(e,t,r)},p:Ie,d(e){e&&h(t)}}}function Pt(s){let t,e,r,o,l="Retry Connection",a,u,c,d="Restart Backend",f,g,x="Get Help",D,v,w="View Logs",T,k,V,E=s[5]&&Vt();return{c(){t=p("div"),e=p("button"),E&&E.c(),r=R(),o=p("span"),o.textContent=l,u=R(),c=p("button"),c.textContent=d,f=R(),g=p("button"),g.textContent=x,D=R(),v=p("button"),v.textContent=w,this.h()},l(C){t=m(C,"DIV",{class:!0});var _=b(t);e=m(_,"BUTTON",{class:!0});var P=b(e);E&&E.l(P),r=L(P),o=m(P,"SPAN",{"data-svelte-h":!0}),fe(o)!=="svelte-1p6kjgo"&&(o.textContent=l),P.forEach(h),u=L(_),c=m(_,"BUTTON",{class:!0,"data-svelte-h":!0}),fe(c)!=="svelte-1uqtk1"&&(c.textContent=d),f=L(_),g=m(_,"BUTTON",{class:!0,"data-svelte-h":!0}),fe(g)!=="svelte-e4h7n1"&&(g.textContent=x),D=L(_),v=m(_,"BUTTON",{class:!0,"data-svelte-h":!0}),fe(v)!=="svelte-z3htuj"&&(v.textContent=w),_.forEach(h),this.h()},h(){e.disabled=a=s[5]||s[0]==="checking",i(e,"class","px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-1"),i(c,"class","px-3 py-1 text-sm bg-orange-600 text-white rounded hover:bg-orange-700"),i(g,"class","px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700"),i(v,"class","px-3 py-1 text-sm bg-gray-600 text-white rounded hover:bg-gray-700"),i(t,"class","mt-4 flex space-x-2")},m(C,_){J(C,t,_),n(t,e),E&&E.m(e,null),n(e,r),n(e,o),n(t,u),n(t,c),n(t,f),n(t,g),n(t,D),n(t,v),T=!0,k||(V=[_e(e,"click",s[12]),_e(c,"click",s[13]),_e(g,"click",s[14]),_e(v,"click",ur)],k=!0)},p(C,_){C[5]?E?_&32&&X(E,1):(E=Vt(),E.c(),X(E,1),E.m(e,r)):E&&(Re(),se(E,1,1,()=>{E=null}),Le()),(!T||_&33&&a!==(a=C[5]||C[0]==="checking"))&&(e.disabled=a)},i(C){T||(X(E),T=!0)},o(C){se(E),T=!1},d(C){C&&h(t),E&&E.d(),k=!1,nt(V)}}}function Vt(s){let t,e;return t=new tt({props:{size:"xs"}}),{c(){Ne(t.$$.fragment)},l(r){Be(t.$$.fragment,r)},m(r,o){ze(t,r,o),e=!0},i(r){e||(X(t.$$.fragment,r),e=!0)},o(r){se(t.$$.fragment,r),e=!1},d(r){Oe(t,r)}}}function Nt(s){let t,e,r,o,l,a;return{c(){t=p("div"),e=p("button"),r=H("Refresh Status"),this.h()},l(u){t=m(u,"DIV",{class:!0});var c=b(t);e=m(c,"BUTTON",{class:!0});var d=b(e);r=F(d,"Refresh Status"),d.forEach(h),c.forEach(h),this.h()},h(){e.disabled=o=s[0]==="checking",i(e,"class","text-xs text-blue-600 hover:text-blue-800 disabled:opacity-50"),i(t,"class","mt-2 flex justify-end")},m(u,c){J(u,t,c),n(t,e),n(e,r),l||(a=_e(e,"click",s[11]),l=!0)},p(u,c){c&1&&o!==(o=u[0]==="checking")&&(e.disabled=o)},d(u){u&&h(t),l=!1,a()}}}function cr(s){let t,e,r,o,l,a=s[10].icon+"",u,c,d,f,g=s[10].text+"",x,D,v,w,T=s[10].description+"",k,V,E,C,_,P,O="Backend:",j,z,B=s[1]?"Reachable":"Unreachable",U,ie,S,I,N,Z="Database:",be,oe,K=s[2]?"Connected":"Disconnected",ye,ce,he,M,A,G,$,pe,we,ve,le,Ce,xe,De,me,ee,ne=s[0]==="checking"&&Lt(),Y=s[3]&&s[0]!=="healthy"&&At(s),te=s[4]&&(s[0]==="error"||s[0]==="unhealthy")&&Pt(s),de=s[4]&&Nt(s);function ae(y){s[21](y)}function ge(y){s[22](y)}let ue={};s[6]!==void 0&&(ue.isOpen=s[6]),s[7]!==void 0&&(ue.errorInfo=s[7]),le=new tr({props:ue}),st.push(()=>ft(le,"isOpen",ae)),st.push(()=>ft(le,"errorInfo",ge)),le.$on("close",s[15]),le.$on("recovery-success",s[16]);let q={};return me=new or({props:q}),s[23](me),me.$on("show-error-dialog",s[17]),me.$on("retry",s[18]),{c(){t=p("div"),e=p("div"),r=p("div"),o=p("div"),l=p("span"),u=H(a),c=R(),d=p("div"),f=p("h3"),x=H(g),v=R(),w=p("p"),k=H(T),V=R(),ne&&ne.c(),E=R(),C=p("div"),_=p("div"),P=p("span"),P.textContent=O,j=R(),z=p("span"),U=H(B),S=R(),I=p("div"),N=p("span"),N.textContent=Z,be=R(),oe=p("span"),ye=H(K),he=R(),M=p("div"),A=H(s[9]),G=R(),Y&&Y.c(),$=R(),te&&te.c(),pe=R(),de&&de.c(),ve=R(),Ne(le.$$.fragment),De=R(),Ne(me.$$.fragment),this.h()},l(y){t=m(y,"DIV",{class:!0});var W=b(t);e=m(W,"DIV",{class:!0});var Q=b(e);r=m(Q,"DIV",{class:!0});var ke=b(r);o=m(ke,"DIV",{class:!0});var Ae=b(o);l=m(Ae,"SPAN",{class:!0});var Fe=b(l);u=F(Fe,a),Fe.forEach(h),c=L(Ae),d=m(Ae,"DIV",{});var Te=b(d);f=m(Te,"H3",{class:!0});var je=b(f);x=F(je,g),je.forEach(h),v=L(Te),w=m(Te,"P",{class:!0});var Ue=b(w);k=F(Ue,T),Ue.forEach(h),Te.forEach(h),Ae.forEach(h),V=L(ke),ne&&ne.l(ke),ke.forEach(h),E=L(Q),C=m(Q,"DIV",{class:!0});var Se=b(C);_=m(Se,"DIV",{class:!0});var Pe=b(_);P=m(Pe,"SPAN",{"data-svelte-h":!0}),fe(P)!=="svelte-kaapp8"&&(P.textContent=O),j=L(Pe),z=m(Pe,"SPAN",{class:!0});var Ge=b(z);U=F(Ge,B),Ge.forEach(h),Pe.forEach(h),S=L(Se),I=m(Se,"DIV",{class:!0});var Ve=b(I);N=m(Ve,"SPAN",{"data-svelte-h":!0}),fe(N)!=="svelte-p5p78l"&&(N.textContent=Z),be=L(Ve),oe=m(Ve,"SPAN",{class:!0});var Me=b(oe);ye=F(Me,K),Me.forEach(h),Ve.forEach(h),he=L(Se),M=m(Se,"DIV",{class:!0});var qe=b(M);A=F(qe,s[9]),qe.forEach(h),Se.forEach(h),G=L(Q),Y&&Y.l(Q),$=L(Q),te&&te.l(Q),pe=L(Q),de&&de.l(Q),Q.forEach(h),W.forEach(h),ve=L(y),Be(le.$$.fragment,y),De=L(y),Be(me.$$.fragment,y),this.h()},h(){i(l,"class","text-2xl"),i(f,"class",D="font-semibold "+s[10].color+" svelte-ykmcmy"),i(w,"class","text-sm text-gray-600"),i(o,"class","flex items-center space-x-3"),i(r,"class","flex items-center justify-between"),i(z,"class",ie="font-medium "+(s[1]?"text-green-600":"text-red-600")),i(_,"class","flex items-center justify-between text-sm"),i(oe,"class",ce="font-medium "+(s[2]?"text-green-600":"text-red-600")),i(I,"class","flex items-center justify-between text-sm"),i(M,"class","text-xs text-gray-500 mt-2"),i(C,"class","mt-3 space-y-2"),i(e,"class",we="p-4 rounded-lg border "+s[10].bgColor+" "+s[10].borderColor+" svelte-ykmcmy"),i(t,"class","health-status-container svelte-ykmcmy")},m(y,W){J(y,t,W),n(t,e),n(e,r),n(r,o),n(o,l),n(l,u),n(o,c),n(o,d),n(d,f),n(f,x),n(d,v),n(d,w),n(w,k),n(r,V),ne&&ne.m(r,null),n(e,E),n(e,C),n(C,_),n(_,P),n(_,j),n(_,z),n(z,U),n(C,S),n(C,I),n(I,N),n(I,be),n(I,oe),n(oe,ye),n(C,he),n(C,M),n(M,A),n(e,G),Y&&Y.m(e,null),n(e,$),te&&te.m(e,null),n(e,pe),de&&de.m(e,null),J(y,ve,W),ze(le,y,W),J(y,De,W),ze(me,y,W),ee=!0},p(y,[W]){(!ee||W&1024)&&a!==(a=y[10].icon+"")&&re(u,a),(!ee||W&1024)&&g!==(g=y[10].text+"")&&re(x,g),(!ee||W&1024&&D!==(D="font-semibold "+y[10].color+" svelte-ykmcmy"))&&i(f,"class",D),(!ee||W&1024)&&T!==(T=y[10].description+"")&&re(k,T),y[0]==="checking"?ne?W&1&&X(ne,1):(ne=Lt(),ne.c(),X(ne,1),ne.m(r,null)):ne&&(Re(),se(ne,1,1,()=>{ne=null}),Le()),(!ee||W&2)&&B!==(B=y[1]?"Reachable":"Unreachable")&&re(U,B),(!ee||W&2&&ie!==(ie="font-medium "+(y[1]?"text-green-600":"text-red-600")))&&i(z,"class",ie),(!ee||W&4)&&K!==(K=y[2]?"Connected":"Disconnected")&&re(ye,K),(!ee||W&4&&ce!==(ce="font-medium "+(y[2]?"text-green-600":"text-red-600")))&&i(oe,"class",ce),(!ee||W&512)&&re(A,y[9]),y[3]&&y[0]!=="healthy"?Y?Y.p(y,W):(Y=At(y),Y.c(),Y.m(e,$)):Y&&(Y.d(1),Y=null),y[4]&&(y[0]==="error"||y[0]==="unhealthy")?te?(te.p(y,W),W&17&&X(te,1)):(te=Pt(y),te.c(),X(te,1),te.m(e,pe)):te&&(Re(),se(te,1,1,()=>{te=null}),Le()),y[4]?de?de.p(y,W):(de=Nt(y),de.c(),de.m(e,null)):de&&(de.d(1),de=null),(!ee||W&1024&&we!==(we="p-4 rounded-lg border "+y[10].bgColor+" "+y[10].borderColor+" svelte-ykmcmy"))&&i(e,"class",we);const Q={};!Ce&&W&64&&(Ce=!0,Q.isOpen=y[6],ct(()=>Ce=!1)),!xe&&W&128&&(xe=!0,Q.errorInfo=y[7],ct(()=>xe=!1)),le.$set(Q);const ke={};me.$set(ke)},i(y){ee||(X(ne),X(te),X(le.$$.fragment,y),X(me.$$.fragment,y),ee=!0)},o(y){se(ne),se(te),se(le.$$.fragment,y),se(me.$$.fragment,y),ee=!1},d(y){y&&(h(t),h(ve),h(De)),ne&&ne.d(),Y&&Y.d(),te&&te.d(),de&&de.d(),Oe(le,y),s[23](null),Oe(me,y)}}}function ur(){}function fr(s,t,e){switch(s){case"healthy":return{icon:"üü¢",text:"System Ready",description:"All systems operational",color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"};case"starting":return{icon:"üü°",text:"Starting...",description:"Backend initializing",color:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200"};case"unhealthy":return{icon:"üî¥",text:"System Error",description:t?"Database connection failed":"Backend unreachable",color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"};case"error":return{icon:"‚ö†Ô∏è",text:"Connection Error",description:"Unable to connect to backend",color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"};case"checking":default:return{icon:"‚è≥",text:"Checking...",description:"Verifying system status",color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"}}}function dr(s,t,e){let r,o;const l=lt();let{status:a="checking"}=t,{backendReachable:u=!1}=t,{databaseConnected:c=!1}=t,{errorMessage:d=""}=t,{lastChecked:f=null}=t,{autoRefresh:g=!0}=t,{showActions:x=!0}=t,D,v=!1,w=!1,T=null,k;async function V(){try{e(0,a="checking");const{checkBackendHealth:S}=await Yt(()=>import("../chunks/api.20dd9789.js").then(N=>N.h),["..\\chunks\\api.20dd9789.js","..\\chunks\\navigation.fbd60083.js","..\\chunks\\singletons.0b7644ac.js","..\\chunks\\scheduler.55755e91.js","..\\chunks\\paths.452213a7.js"],import.meta.url),I=await S();I.success?(e(0,a=I.status),e(1,u=I.backend.reachable),e(2,c=I.database.connected),e(3,d=I.database.error||"")):(e(0,a=I.status),e(1,u=I.backend.reachable),e(2,c=I.database.connected),e(3,d=I.error||"Unknown error"))}catch(S){e(1,u=!1),e(2,c=!1),e(0,a="error"),e(3,d=S.message||"Health check failed")}e(19,f=new Date),l("healthUpdate",{status:a,backendReachable:u,databaseConnected:c,errorMessage:d,lastChecked:f})}async function E(){e(5,v=!0),await V(),e(5,v=!1)}async function C(){try{e(0,a="starting"),e(3,d="Restarting backend..."),setTimeout(async()=>{await V()},3e3)}catch(S){e(3,d=`Failed to restart backend: ${S.message}`),e(0,a="error")}}async function _(){if(d)try{const S=await rt.analyzeError(d);e(7,T=S),e(6,w=!0)}catch{e(7,T={error_type:"unknown_error",user_message:d,recovery_actions:[{RestartWithDelay:5},{ShowTroubleshootingGuide:"https://docs.example.com/troubleshooting"}],severity:"Medium",timestamp:new Date().toISOString(),technical_details:d}),e(6,w=!0)}}function P(){e(6,w=!1),e(7,T=null)}function O(S){e(6,w=!1),e(7,T=null),k&&k.show({type:"success",title:"Recovery Successful",message:"The error has been resolved successfully.",autoHide:!0,hideDelay:3e3}),setTimeout(()=>{V()},1e3)}function j(S){e(7,T=S.detail.errorInfo),e(6,w=!0)}function z(){E()}Mt(()=>{V(),g&&(D=setInterval(V,3e4));const S=rt.onError(N=>{k&&k.show({type:"error",title:"Application Error",message:N.error_info?.user_message||N.error||"An unexpected error occurred",actions:[{type:"analyze_error",label:"Get Help",primary:!0},{type:"dismiss",label:"Dismiss",primary:!1}]})}),I=rt.onNotification(N=>{k&&k.show(N)});return()=>{S(),I()}}),Ft(()=>{D&&clearInterval(D)});function B(S){w=S,e(6,w)}function U(S){T=S,e(7,T)}function ie(S){st[S?"unshift":"push"](()=>{k=S,e(8,k)})}return s.$$set=S=>{"status"in S&&e(0,a=S.status),"backendReachable"in S&&e(1,u=S.backendReachable),"databaseConnected"in S&&e(2,c=S.databaseConnected),"errorMessage"in S&&e(3,d=S.errorMessage),"lastChecked"in S&&e(19,f=S.lastChecked),"autoRefresh"in S&&e(20,g=S.autoRefresh),"showActions"in S&&e(4,x=S.showActions)},s.$$.update=()=>{s.$$.dirty&7&&e(10,r=fr(a,u)),s.$$.dirty&524288&&e(9,o=f?`Last checked: ${f.toLocaleTimeString()}`:"Never checked")},[a,u,c,d,x,v,w,T,k,o,r,V,E,C,_,P,O,j,z,f,g,B,U,ie]}class hr extends $e{constructor(t){super(),et(this,t,dr,cr,Ze,{status:0,backendReachable:1,databaseConnected:2,errorMessage:3,lastChecked:19,autoRefresh:20,showActions:4})}}function Bt(s){let t,e;return{c(){t=p("div"),e=H(s[3]),this.h()},l(r){t=m(r,"DIV",{class:!0});var o=b(t);e=F(o,s[3]),o.forEach(h),this.h()},h(){i(t,"class","text-red-500 text-sm text-center")},m(r,o){J(r,t,o),n(t,e)},p(r,o){o&8&&re(e,r[3])},d(r){r&&h(t)}}}function pr(s){let t;return{c(){t=H("Sign in")},l(e){t=F(e,"Sign in")},m(e,r){J(e,t,r)},p:Ie,i:Ie,o:Ie,d(e){e&&h(t)}}}function mr(s){let t;function e(l,a){return l[4]==="starting"?_r:l[4]==="checking"?vr:br}let r=e(s),o=r(s);return{c(){o.c(),t=He()},l(l){o.l(l),t=He()},m(l,a){o.m(l,a),J(l,t,a)},p(l,a){r!==(r=e(l))&&(o.d(1),o=r(l),o&&(o.c(),o.m(t.parentNode,t)))},i:Ie,o:Ie,d(l){l&&h(t),o.d(l)}}}function gr(s){let t,e;return t=new tt({props:{size:"sm"}}),{c(){Ne(t.$$.fragment)},l(r){Be(t.$$.fragment,r)},m(r,o){ze(t,r,o),e=!0},p:Ie,i(r){e||(X(t.$$.fragment,r),e=!0)},o(r){se(t.$$.fragment,r),e=!1},d(r){Oe(t,r)}}}function br(s){let t;return{c(){t=H("System unavailable")},l(e){t=F(e,"System unavailable")},m(e,r){J(e,t,r)},d(e){e&&h(t)}}}function vr(s){let t;return{c(){t=H("Checking system...")},l(e){t=F(e,"Checking system...")},m(e,r){J(e,t,r)},d(e){e&&h(t)}}}function _r(s){let t;return{c(){t=H("Waiting for backend...")},l(e){t=F(e,"Waiting for backend...")},m(e,r){J(e,t,r)},d(e){e&&h(t)}}}function zt(s){let t,e,r="Please wait for the system to be ready before signing in.",o,l=s[5]&&Ot(s);return{c(){t=p("div"),e=p("p"),e.textContent=r,o=R(),l&&l.c(),this.h()},l(a){t=m(a,"DIV",{class:!0});var u=b(t);e=m(u,"P",{"data-svelte-h":!0}),fe(e)!=="svelte-17mdjbk"&&(e.textContent=r),o=L(u),l&&l.l(u),u.forEach(h),this.h()},h(){i(t,"class","text-center text-sm text-gray-600")},m(a,u){J(a,t,u),n(t,e),n(t,o),l&&l.m(t,null)},p(a,u){a[5]?l?l.p(a,u):(l=Ot(a),l.c(),l.m(t,null)):l&&(l.d(1),l=null)},d(a){a&&h(t),l&&l.d()}}}function Ot(s){let t,e,r;return{c(){t=p("p"),e=H("Issue: "),r=H(s[5]),this.h()},l(o){t=m(o,"P",{class:!0});var l=b(t);e=F(l,"Issue: "),r=F(l,s[5]),l.forEach(h),this.h()},h(){i(t,"class","text-red-600 mt-1")},m(o,l){J(o,t,l),n(t,e),n(t,r)},p(o,l){l&32&&re(r,o[5])},d(o){o&&h(t)}}}function yr(s){let t,e,r,o='<h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900">Sign in to your account</h2>',l,a,u,c,d,f,g,x="Email address",D,v,w,T,k,V="Password",E,C,_,P,O,j,z,B,U,ie,S,I,N=`<p class="text-gray-600">Don&#39;t have an account?
        <a href="/signup" class="font-medium text-primary-600 hover:text-primary-500">Sign up</a></p>`,Z,be,oe;a=new hr({props:{autoRefresh:!0,showActions:!0}}),a.$on("healthUpdate",s[7]);let K=s[3]&&Bt(s);const ye=[gr,mr,pr],ce=[];function he(A,G){return A[2]?0:A[6]?2:1}z=he(s),B=ce[z]=ye[z](s);let M=!s[6]&&(s[4]==="error"||s[4]==="unhealthy")&&zt(s);return{c(){t=p("div"),e=p("div"),r=p("div"),r.innerHTML=o,l=R(),Ne(a.$$.fragment),u=R(),c=p("form"),d=p("div"),f=p("div"),g=p("label"),g.textContent=x,D=R(),v=p("input"),w=R(),T=p("div"),k=p("label"),k.textContent=V,E=R(),C=p("input"),_=R(),K&&K.c(),P=R(),O=p("div"),j=p("button"),B.c(),ie=R(),M&&M.c(),S=R(),I=p("div"),I.innerHTML=N,this.h()},l(A){t=m(A,"DIV",{class:!0});var G=b(t);e=m(G,"DIV",{class:!0});var $=b(e);r=m($,"DIV",{"data-svelte-h":!0}),fe(r)!=="svelte-u3y8mj"&&(r.innerHTML=o),l=L($),Be(a.$$.fragment,$),u=L($),c=m($,"FORM",{class:!0});var pe=b(c);d=m(pe,"DIV",{class:!0});var we=b(d);f=m(we,"DIV",{});var ve=b(f);g=m(ve,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),fe(g)!=="svelte-o70mpp"&&(g.textContent=x),D=L(ve),v=m(ve,"INPUT",{id:!0,name:!0,type:!0,class:!0,placeholder:!0,autocomplete:!0}),ve.forEach(h),w=L(we),T=m(we,"DIV",{});var le=b(T);k=m(le,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),fe(k)!=="svelte-15hhkob"&&(k.textContent=V),E=L(le),C=m(le,"INPUT",{id:!0,name:!0,type:!0,class:!0,placeholder:!0,autocomplete:!0}),le.forEach(h),we.forEach(h),_=L(pe),K&&K.l(pe),P=L(pe),O=m(pe,"DIV",{});var Ce=b(O);j=m(Ce,"BUTTON",{type:!0,class:!0});var xe=b(j);B.l(xe),xe.forEach(h),Ce.forEach(h),ie=L(pe),M&&M.l(pe),pe.forEach(h),S=L($),I=m($,"DIV",{class:!0,"data-svelte-h":!0}),fe(I)!=="svelte-16s5m"&&(I.innerHTML=N),$.forEach(h),G.forEach(h),this.h()},h(){i(g,"for","email"),i(g,"class","sr-only"),i(v,"id","email"),i(v,"name","email"),i(v,"type","email"),v.required=!0,i(v,"class","appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm"),i(v,"placeholder","Email address"),i(v,"autocomplete","email"),i(k,"for","password"),i(k,"class","sr-only"),i(C,"id","password"),i(C,"name","password"),i(C,"type","password"),C.required=!0,i(C,"class","appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm"),i(C,"placeholder","Password"),i(C,"autocomplete","current-password"),i(d,"class","rounded-md shadow-sm -space-y-px"),i(j,"type","submit"),j.disabled=U=s[2]||!s[6],i(j,"class","group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed"),i(c,"class","mt-8 space-y-6"),i(I,"class","text-sm text-center"),i(e,"class","max-w-md w-full space-y-8"),i(t,"class","min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8")},m(A,G){J(A,t,G),n(t,e),n(e,r),n(e,l),ze(a,e,null),n(e,u),n(e,c),n(c,d),n(d,f),n(f,g),n(f,D),n(f,v),Ke(v,s[0]),n(d,w),n(d,T),n(T,k),n(T,E),n(T,C),Ke(C,s[1]),n(c,_),K&&K.m(c,null),n(c,P),n(c,O),n(O,j),ce[z].m(j,null),n(c,ie),M&&M.m(c,null),n(e,S),n(e,I),Z=!0,be||(oe=[_e(v,"input",s[9]),_e(C,"input",s[10]),_e(c,"submit",Ut(s[8]))],be=!0)},p(A,[G]){G&1&&v.value!==A[0]&&Ke(v,A[0]),G&2&&C.value!==A[1]&&Ke(C,A[1]),A[3]?K?K.p(A,G):(K=Bt(A),K.c(),K.m(c,P)):K&&(K.d(1),K=null);let $=z;z=he(A),z===$?ce[z].p(A,G):(Re(),se(ce[$],1,1,()=>{ce[$]=null}),Le(),B=ce[z],B?B.p(A,G):(B=ce[z]=ye[z](A),B.c()),X(B,1),B.m(j,null)),(!Z||G&68&&U!==(U=A[2]||!A[6]))&&(j.disabled=U),!A[6]&&(A[4]==="error"||A[4]==="unhealthy")?M?M.p(A,G):(M=zt(A),M.c(),M.m(c,null)):M&&(M.d(1),M=null)},i(A){Z||(X(a.$$.fragment,A),X(B),Z=!0)},o(A){se(a.$$.fragment,A),se(B),Z=!1},d(A){A&&h(t),Oe(a),K&&K.d(),ce[z].d(),M&&M.d(),be=!1,nt(oe)}}}function wr(s,t,e){let r;Gt(s,qt,w=>e(13,r=w));let o="",l="",a=!1,u="",c="checking",d="",f=!1;function g(w){const{status:T,backendReachable:k,databaseConnected:V,errorMessage:E}=w.detail;e(4,c=T),e(5,d=E),e(6,f=k&&V&&T==="healthy"),f&&a&&o&&l&&x()}Mt(()=>{r&&dt("/")});async function x(){if(e(3,u=""),e(2,a=!0),!o||!l){e(3,u="Please enter both email and password"),e(2,a=!1);return}try{const w=await Kt.login(o,l);w.success&&w.data&&w.data.token?(Wt(w.data.token,{id:w.data.id,email:w.data.email,fullName:w.data.fullName,role:w.data.role}),Jt("Login successful! Welcome back.","success"),dt("/")):(e(3,u=w.error||"Login failed. Please try again."),ht())}catch(w){e(3,u=w.message||"An unexpected error occurred. Please try again."),ht()}finally{e(2,a=!1)}}function D(){o=this.value,e(0,o)}function v(){l=this.value,e(1,l)}return[o,l,a,u,c,d,f,g,x,D,v]}class Lr extends $e{constructor(t){super(),et(this,t,wr,yr,Ze,{})}}export{Lr as component};
